!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.app=e()}}(function(){var e;return function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var c=i[s]={exports:{}};e[s][0].call(c.exports,function(t){var i=e[s][1][t];return o(i?i:t)},c,c.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,i){t.exports=e("./src/index")},{"./src/index":20}],2:[function(e,t,i){function n(e){return!!e&&"object"==typeof e}function o(e,t,i,s,l){if(!d(e))return e;var c=a(t)&&(g(t)||m(t)),u=c?void 0:v(t);return h(u||t,function(a,d){if(u&&(d=a,a=t[d]),n(a))s||(s=[]),l||(l=[]),r(e,t,d,o,i,s,l);else{var h=e[d],p=i?i(h,a,d,e,t):void 0,g=void 0===p;g&&(p=a),void 0===p&&(!c||d in e)||!g&&(p===p?p===h:h!==h)||(e[d]=p)}}),e}function r(e,t,i,n,o,r,s){for(var l=r.length,d=t[i];l--;)if(r[l]==d)return void(e[i]=s[l]);var h=e[i],u=o?o(h,d,i,e,t):void 0,v=void 0===u;v&&(u=d,a(d)&&(g(d)||m(d))?u=g(h)?h:a(h)?c(h):[]:f(d)||p(d)?u=p(h)?b(h):f(h)?h:{}:v=!1),r.push(d),s.push(u),v?e[i]=n(u,d,o,r,s):(u===u?u!==h:h===h)&&(e[i]=u)}function s(e){return function(t){return null==t?void 0:t[e]}}function a(e){return null!=e&&l(w(e))}function l(e){return"number"==typeof e&&e>-1&&e%1==0&&y>=e}function d(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var c=e("lodash._arraycopy"),h=e("lodash._arrayeach"),u=e("lodash._createassigner"),p=e("lodash.isarguments"),g=e("lodash.isarray"),f=e("lodash.isplainobject"),m=e("lodash.istypedarray"),v=e("lodash.keys"),b=e("lodash.toplainobject"),y=9007199254740991,w=s("length"),T=u(o);t.exports=T},{"lodash._arraycopy":3,"lodash._arrayeach":4,"lodash._createassigner":5,"lodash.isarguments":10,"lodash.isarray":11,"lodash.isplainobject":12,"lodash.istypedarray":14,"lodash.keys":15,"lodash.toplainobject":17}],3:[function(e,t,i){function n(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}t.exports=n},{}],4:[function(e,t,i){function n(e,t){for(var i=-1,n=e.length;++i<n&&t(e[i],i,e)!==!1;);return e}t.exports=n},{}],5:[function(e,t,i){function n(e){return s(function(t,i){var n=-1,s=null==t?0:i.length,a=s>2?i[s-2]:void 0,l=s>2?i[2]:void 0,d=s>1?i[s-1]:void 0;for("function"==typeof a?(a=o(a,d,5),s-=2):(a="function"==typeof d?d:void 0,s-=a?1:0),l&&r(i[0],i[1],l)&&(a=3>s?void 0:a,s=1);++n<s;){var c=i[n];c&&e(t,c,a)}return t})}var o=e("lodash._bindcallback"),r=e("lodash._isiterateecall"),s=e("lodash.restparam");t.exports=n},{"lodash._bindcallback":6,"lodash._isiterateecall":7,"lodash.restparam":8}],6:[function(e,t,i){function n(e,t,i){if("function"!=typeof e)return o;if(void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 3:return function(i,n,o){return e.call(t,i,n,o)};case 4:return function(i,n,o,r){return e.call(t,i,n,o,r)};case 5:return function(i,n,o,r,s){return e.call(t,i,n,o,r,s)}}return function(){return e.apply(t,arguments)}}function o(e){return e}t.exports=n},{}],7:[function(e,t,i){function n(e){return function(t){return null==t?void 0:t[e]}}function o(e){return null!=e&&a(h(e))}function r(e,t){return e="number"==typeof e||d.test(e)?+e:-1,t=null==t?c:t,e>-1&&e%1==0&&t>e}function s(e,t,i){if(!l(i))return!1;var n=typeof t;if("number"==n?o(i)&&r(t,i.length):"string"==n&&t in i){var s=i[t];return e===e?e===s:s!==s}return!1}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&c>=e}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var d=/^\d+$/,c=9007199254740991,h=n("length");t.exports=s},{}],8:[function(e,t,i){function n(e,t){if("function"!=typeof e)throw new TypeError(o);return t=r(void 0===t?e.length-1:+t||0,0),function(){for(var i=arguments,n=-1,o=r(i.length-t,0),s=Array(o);++n<o;)s[n]=i[t+n];switch(t){case 0:return e.call(this,s);case 1:return e.call(this,i[0],s);case 2:return e.call(this,i[0],i[1],s)}var a=Array(t+1);for(n=-1;++n<t;)a[n]=i[n];return a[t]=s,e.apply(this,a)}}var o="Expected a function",r=Math.max;t.exports=n},{}],9:[function(e,t,i){function n(e){return!!e&&"object"==typeof e}function o(e,t){var i=null==e?void 0:e[t];return a(i)?i:void 0}function r(e){return s(e)&&p.call(e)==l}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null==e?!1:r(e)?g.test(h.call(e)):n(e)&&d.test(e)}var l="[object Function]",d=/^\[object .+?Constructor\]$/,c=Object.prototype,h=Function.prototype.toString,u=c.hasOwnProperty,p=c.toString,g=RegExp("^"+h.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=o},{}],10:[function(e,t,i){(function(e){function i(e){return function(t){return null==t?void 0:t[e]}}function n(e){return r(e)&&f.call(e,"callee")&&(!v.call(e,"callee")||m.call(e)==h)}function o(e){return null!=e&&!("function"==typeof e&&s(e))&&a(b(e))}function r(e){return d(e)&&o(e)}function s(e){var t=l(e)?m.call(e):"";return t==u||t==p}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&c>=e}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function d(e){return!!e&&"object"==typeof e}var c=9007199254740991,h="[object Arguments]",u="[object Function]",p="[object GeneratorFunction]",g=e.Object.prototype,f=g.hasOwnProperty,m=g.toString,v=g.propertyIsEnumerable,b=i("length");t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(e,t,i){function n(e){return!!e&&"object"==typeof e}function o(e,t){var i=null==e?void 0:e[t];return l(i)?i:void 0}function r(e){return"number"==typeof e&&e>-1&&e%1==0&&b>=e}function s(e){return a(e)&&f.call(e)==c}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function l(e){return null==e?!1:s(e)?m.test(p.call(e)):n(e)&&h.test(e)}var d="[object Array]",c="[object Function]",h=/^\[object .+?Constructor\]$/,u=Object.prototype,p=Function.prototype.toString,g=u.hasOwnProperty,f=u.toString,m=RegExp("^"+p.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=o(Array,"isArray"),b=9007199254740991,y=v||function(e){return n(e)&&r(e.length)&&f.call(e)==d};t.exports=y},{}],12:[function(e,t,i){function n(e){return!!e&&"object"==typeof e}function o(e,t){return s(e,t,l)}function r(e){var t;if(!n(e)||u.call(e)!=d||a(e)||!h.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var i;return o(e,function(e,t){i=t}),void 0===i||h.call(e,i)}var s=e("lodash._basefor"),a=e("lodash.isarguments"),l=e("lodash.keysin"),d="[object Object]",c=Object.prototype,h=c.hasOwnProperty,u=c.toString;t.exports=r},{"lodash._basefor":13,"lodash.isarguments":10,"lodash.keysin":16}],13:[function(e,t,i){function n(e){return function(t,i,n){for(var o=-1,r=Object(t),s=n(t),a=s.length;a--;){var l=s[e?a:++o];if(i(r[l],l,r)===!1)break}return t}}var o=n();t.exports=o},{}],14:[function(e,t,i){(function(e){function i(e){return"number"==typeof e&&e>-1&&e%1==0&&r>=e}function n(e){return!!e&&"object"==typeof e}function o(e){return n(e)&&i(e.length)&&!!M[I.call(e)]}var r=9007199254740991,s="[object Arguments]",a="[object Array]",l="[object Boolean]",d="[object Date]",c="[object Error]",h="[object Function]",u="[object Map]",p="[object Number]",g="[object Object]",f="[object RegExp]",m="[object Set]",v="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",w="[object Float32Array]",T="[object Float64Array]",x="[object Int8Array]",k="[object Int16Array]",S="[object Int32Array]",P="[object Uint8Array]",$="[object Uint8ClampedArray]",j="[object Uint16Array]",C="[object Uint32Array]",M={};M[w]=M[T]=M[x]=M[k]=M[S]=M[P]=M[$]=M[j]=M[C]=!0,M[s]=M[a]=M[y]=M[l]=M[d]=M[c]=M[h]=M[u]=M[p]=M[g]=M[f]=M[m]=M[v]=M[b]=!1;var z=e.Object.prototype,I=z.toString;t.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,t,i){function n(e){return function(t){return null==t?void 0:t[e]}}function o(e){return null!=e&&s(b(e))}function r(e,t){return e="number"==typeof e||p.test(e)?+e:-1,t=null==t?v:t,e>-1&&e%1==0&&t>e}function s(e){return"number"==typeof e&&e>-1&&e%1==0&&v>=e}function a(e){for(var t=d(e),i=t.length,n=i&&e.length,o=!!n&&s(n)&&(u(e)||h(e)),a=-1,l=[];++a<i;){var c=t[a];(o&&r(c,n)||f.call(e,c))&&l.push(c)}return l}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function d(e){if(null==e)return[];l(e)||(e=Object(e));var t=e.length;t=t&&s(t)&&(u(e)||h(e))&&t||0;for(var i=e.constructor,n=-1,o="function"==typeof i&&i.prototype===e,a=Array(t),d=t>0;++n<t;)a[n]=n+"";for(var c in e)d&&r(c,t)||"constructor"==c&&(o||!f.call(e,c))||a.push(c);return a}var c=e("lodash._getnative"),h=e("lodash.isarguments"),u=e("lodash.isarray"),p=/^\d+$/,g=Object.prototype,f=g.hasOwnProperty,m=c(Object,"keys"),v=9007199254740991,b=n("length"),y=m?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&o(e)?a(e):l(e)?m(e):[]}:a;t.exports=y},{"lodash._getnative":9,"lodash.isarguments":10,"lodash.isarray":11}],16:[function(e,t,i){function n(e,t){return e="number"==typeof e||d.test(e)?+e:-1,t=null==t?u:t,e>-1&&e%1==0&&t>e}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&u>=e}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function s(e){if(null==e)return[];r(e)||(e=Object(e));var t=e.length;t=t&&o(t)&&(l(e)||a(e))&&t||0;for(var i=e.constructor,s=-1,d="function"==typeof i&&i.prototype===e,c=Array(t),u=t>0;++s<t;)c[s]=s+"";for(var p in e)u&&n(p,t)||"constructor"==p&&(d||!h.call(e,p))||c.push(p);return c}var a=e("lodash.isarguments"),l=e("lodash.isarray"),d=/^\d+$/,c=Object.prototype,h=c.hasOwnProperty,u=9007199254740991;t.exports=s},{"lodash.isarguments":10,"lodash.isarray":11}],17:[function(e,t,i){function n(e){return o(e,r(e))}var o=e("lodash._basecopy"),r=e("lodash.keysin");t.exports=n},{"lodash._basecopy":18,"lodash.keysin":16}],18:[function(e,t,i){function n(e,t,i){i||(i={});for(var n=-1,o=t.length;++n<o;){var r=t[n];i[r]=e[r]}return i}t.exports=n},{}],19:[function(t,i,n){(function(){function t(e){function t(t,i,n,o,r,s){for(;r>=0&&s>r;r+=e){var a=o?o[r]:r;n=i(n,t[a],a,t)}return n}return function(i,n,o,r){n=x(n,r,4);var s=!M(i)&&T.keys(i),a=(s||i).length,l=e>0?0:a-1;return arguments.length<3&&(o=i[s?s[l]:l],l+=e),t(i,n,o,s,l,a)}}function o(e){return function(t,i,n){i=k(i,n);for(var o=C(t),r=e>0?0:o-1;r>=0&&o>r;r+=e)if(i(t[r],r,t))return r;return-1}}function r(e,t,i){return function(n,o,r){var s=0,a=C(n);if("number"==typeof r)e>0?s=r>=0?r:Math.max(r+a,s):a=r>=0?Math.min(r+1,a):r+a+1;else if(i&&r&&a)return r=i(n,o),n[r]===o?r:-1;if(o!==o)return r=t(p.call(n,s,a),T.isNaN),r>=0?r+s:-1;for(r=e>0?s:a-1;r>=0&&a>r;r+=e)if(n[r]===o)return r;return-1}}function s(e,t){var i=A.length,n=e.constructor,o=T.isFunction(n)&&n.prototype||c,r="constructor";for(T.has(e,r)&&!T.contains(t,r)&&t.push(r);i--;)r=A[i],r in e&&e[r]!==o[r]&&!T.contains(t,r)&&t.push(r)}var a=this,l=a._,d=Array.prototype,c=Object.prototype,h=Function.prototype,u=d.push,p=d.slice,g=c.toString,f=c.hasOwnProperty,m=Array.isArray,v=Object.keys,b=h.bind,y=Object.create,w=function(){},T=function(e){return e instanceof T?e:this instanceof T?void(this._wrapped=e):new T(e)};"undefined"!=typeof n?("undefined"!=typeof i&&i.exports&&(n=i.exports=T),n._=T):a._=T,T.VERSION="1.8.3";var x=function(e,t,i){if(void 0===t)return e;switch(null==i?3:i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,o){return e.call(t,i,n,o)};case 4:return function(i,n,o,r){return e.call(t,i,n,o,r)}}return function(){return e.apply(t,arguments)}},k=function(e,t,i){return null==e?T.identity:T.isFunction(e)?x(e,t,i):T.isObject(e)?T.matcher(e):T.property(e)};T.iteratee=function(e,t){return k(e,t,1/0)};var S=function(e,t){return function(i){var n=arguments.length;if(2>n||null==i)return i;for(var o=1;n>o;o++)for(var r=arguments[o],s=e(r),a=s.length,l=0;a>l;l++){var d=s[l];t&&void 0!==i[d]||(i[d]=r[d])}return i}},P=function(e){if(!T.isObject(e))return{};if(y)return y(e);w.prototype=e;var t=new w;return w.prototype=null,t},$=function(e){return function(t){return null==t?void 0:t[e]}},j=Math.pow(2,53)-1,C=$("length"),M=function(e){var t=C(e);return"number"==typeof t&&t>=0&&j>=t};T.each=T.forEach=function(e,t,i){t=x(t,i);var n,o;if(M(e))for(n=0,o=e.length;o>n;n++)t(e[n],n,e);else{var r=T.keys(e);for(n=0,o=r.length;o>n;n++)t(e[r[n]],r[n],e)}return e},T.map=T.collect=function(e,t,i){t=k(t,i);for(var n=!M(e)&&T.keys(e),o=(n||e).length,r=Array(o),s=0;o>s;s++){var a=n?n[s]:s;r[s]=t(e[a],a,e)}return r},T.reduce=T.foldl=T.inject=t(1),T.reduceRight=T.foldr=t(-1),T.find=T.detect=function(e,t,i){var n;return n=M(e)?T.findIndex(e,t,i):T.findKey(e,t,i),void 0!==n&&-1!==n?e[n]:void 0},T.filter=T.select=function(e,t,i){var n=[];return t=k(t,i),T.each(e,function(e,i,o){t(e,i,o)&&n.push(e)}),n},T.reject=function(e,t,i){return T.filter(e,T.negate(k(t)),i)},T.every=T.all=function(e,t,i){t=k(t,i);for(var n=!M(e)&&T.keys(e),o=(n||e).length,r=0;o>r;r++){var s=n?n[r]:r;if(!t(e[s],s,e))return!1}return!0},T.some=T.any=function(e,t,i){t=k(t,i);for(var n=!M(e)&&T.keys(e),o=(n||e).length,r=0;o>r;r++){var s=n?n[r]:r;if(t(e[s],s,e))return!0}return!1},T.contains=T.includes=T.include=function(e,t,i,n){return M(e)||(e=T.values(e)),("number"!=typeof i||n)&&(i=0),T.indexOf(e,t,i)>=0},T.invoke=function(e,t){var i=p.call(arguments,2),n=T.isFunction(t);return T.map(e,function(e){var o=n?t:e[t];return null==o?o:o.apply(e,i)})},T.pluck=function(e,t){return T.map(e,T.property(t))},T.where=function(e,t){return T.filter(e,T.matcher(t))},T.findWhere=function(e,t){return T.find(e,T.matcher(t))},T.max=function(e,t,i){var n,o,r=-(1/0),s=-(1/0);if(null==t&&null!=e){e=M(e)?e:T.values(e);for(var a=0,l=e.length;l>a;a++)n=e[a],n>r&&(r=n)}else t=k(t,i),T.each(e,function(e,i,n){o=t(e,i,n),(o>s||o===-(1/0)&&r===-(1/0))&&(r=e,s=o)});return r},T.min=function(e,t,i){var n,o,r=1/0,s=1/0;if(null==t&&null!=e){e=M(e)?e:T.values(e);for(var a=0,l=e.length;l>a;a++)n=e[a],r>n&&(r=n)}else t=k(t,i),T.each(e,function(e,i,n){o=t(e,i,n),(s>o||o===1/0&&r===1/0)&&(r=e,s=o)});return r},T.shuffle=function(e){for(var t,i=M(e)?e:T.values(e),n=i.length,o=Array(n),r=0;n>r;r++)t=T.random(0,r),t!==r&&(o[r]=o[t]),o[t]=i[r];return o},T.sample=function(e,t,i){return null==t||i?(M(e)||(e=T.values(e)),e[T.random(e.length-1)]):T.shuffle(e).slice(0,Math.max(0,t))},T.sortBy=function(e,t,i){return t=k(t,i),T.pluck(T.map(e,function(e,i,n){return{value:e,index:i,criteria:t(e,i,n)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index-t.index}),"value")};var z=function(e){return function(t,i,n){var o={};return i=k(i,n),T.each(t,function(n,r){var s=i(n,r,t);e(o,n,s)}),o}};T.groupBy=z(function(e,t,i){T.has(e,i)?e[i].push(t):e[i]=[t]}),T.indexBy=z(function(e,t,i){e[i]=t}),T.countBy=z(function(e,t,i){T.has(e,i)?e[i]++:e[i]=1}),T.toArray=function(e){return e?T.isArray(e)?p.call(e):M(e)?T.map(e,T.identity):T.values(e):[]},T.size=function(e){return null==e?0:M(e)?e.length:T.keys(e).length},T.partition=function(e,t,i){t=k(t,i);var n=[],o=[];return T.each(e,function(e,i,r){(t(e,i,r)?n:o).push(e)}),[n,o]},T.first=T.head=T.take=function(e,t,i){return null!=e?null==t||i?e[0]:T.initial(e,e.length-t):void 0},T.initial=function(e,t,i){return p.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},T.last=function(e,t,i){return null!=e?null==t||i?e[e.length-1]:T.rest(e,Math.max(0,e.length-t)):void 0},T.rest=T.tail=T.drop=function(e,t,i){return p.call(e,null==t||i?1:t)},T.compact=function(e){return T.filter(e,T.identity)};var I=function(e,t,i,n){for(var o=[],r=0,s=n||0,a=C(e);a>s;s++){var l=e[s];if(M(l)&&(T.isArray(l)||T.isArguments(l))){t||(l=I(l,t,i));var d=0,c=l.length;for(o.length+=c;c>d;)o[r++]=l[d++]}else i||(o[r++]=l)}return o};T.flatten=function(e,t){return I(e,t,!1)},T.without=function(e){return T.difference(e,p.call(arguments,1))},T.uniq=T.unique=function(e,t,i,n){T.isBoolean(t)||(n=i,i=t,t=!1),null!=i&&(i=k(i,n));for(var o=[],r=[],s=0,a=C(e);a>s;s++){var l=e[s],d=i?i(l,s,e):l;t?(s&&r===d||o.push(l),r=d):i?T.contains(r,d)||(r.push(d),o.push(l)):T.contains(o,l)||o.push(l)}return o},T.union=function(){return T.uniq(I(arguments,!0,!0))},T.intersection=function(e){for(var t=[],i=arguments.length,n=0,o=C(e);o>n;n++){var r=e[n];if(!T.contains(t,r)){for(var s=1;i>s&&T.contains(arguments[s],r);s++);s===i&&t.push(r)}}return t},T.difference=function(e){var t=I(arguments,!0,!0,1);return T.filter(e,function(e){return!T.contains(t,e)})},T.zip=function(){return T.unzip(arguments)},T.unzip=function(e){for(var t=e&&T.max(e,C).length||0,i=Array(t),n=0;t>n;n++)i[n]=T.pluck(e,n);return i},T.object=function(e,t){for(var i={},n=0,o=C(e);o>n;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},T.findIndex=o(1),T.findLastIndex=o(-1),T.sortedIndex=function(e,t,i,n){i=k(i,n,1);for(var o=i(t),r=0,s=C(e);s>r;){var a=Math.floor((r+s)/2);i(e[a])<o?r=a+1:s=a}return r},T.indexOf=r(1,T.findIndex,T.sortedIndex),T.lastIndexOf=r(-1,T.findLastIndex),T.range=function(e,t,i){null==t&&(t=e||0,e=0),i=i||1;for(var n=Math.max(Math.ceil((t-e)/i),0),o=Array(n),r=0;n>r;r++,e+=i)o[r]=e;return o};var _=function(e,t,i,n,o){if(!(n instanceof t))return e.apply(i,o);var r=P(e.prototype),s=e.apply(r,o);return T.isObject(s)?s:r};T.bind=function(e,t){if(b&&e.bind===b)return b.apply(e,p.call(arguments,1));if(!T.isFunction(e))throw new TypeError("Bind must be called on a function");var i=p.call(arguments,2),n=function(){return _(e,n,t,this,i.concat(p.call(arguments)))};return n},T.partial=function(e){var t=p.call(arguments,1),i=function(){for(var n=0,o=t.length,r=Array(o),s=0;o>s;s++)r[s]=t[s]===T?arguments[n++]:t[s];for(;n<arguments.length;)r.push(arguments[n++]);return _(e,i,this,this,r)};return i},T.bindAll=function(e){var t,i,n=arguments.length;if(1>=n)throw new Error("bindAll must be passed function names");for(t=1;n>t;t++)i=arguments[t],e[i]=T.bind(e[i],e);return e},T.memoize=function(e,t){var i=function(n){var o=i.cache,r=""+(t?t.apply(this,arguments):n);return T.has(o,r)||(o[r]=e.apply(this,arguments)),o[r]};return i.cache={},i},T.delay=function(e,t){var i=p.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},T.defer=T.partial(T.delay,T,1),T.throttle=function(e,t,i){var n,o,r,s=null,a=0;i||(i={});var l=function(){a=i.leading===!1?0:T.now(),s=null,r=e.apply(n,o),s||(n=o=null)};return function(){var d=T.now();a||i.leading!==!1||(a=d);var c=t-(d-a);return n=this,o=arguments,0>=c||c>t?(s&&(clearTimeout(s),s=null),a=d,r=e.apply(n,o),s||(n=o=null)):s||i.trailing===!1||(s=setTimeout(l,c)),r}},T.debounce=function(e,t,i){var n,o,r,s,a,l=function(){var d=T.now()-s;t>d&&d>=0?n=setTimeout(l,t-d):(n=null,i||(a=e.apply(r,o),n||(r=o=null)))};return function(){r=this,o=arguments,s=T.now();var d=i&&!n;return n||(n=setTimeout(l,t)),d&&(a=e.apply(r,o),r=o=null),a}},T.wrap=function(e,t){return T.partial(t,e)},T.negate=function(e){return function(){return!e.apply(this,arguments)}},T.compose=function(){var e=arguments,t=e.length-1;return function(){for(var i=t,n=e[t].apply(this,arguments);i--;)n=e[i].call(this,n);return n}},T.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},T.before=function(e,t){var i;return function(){return--e>0&&(i=t.apply(this,arguments)),1>=e&&(t=null),i}},T.once=T.partial(T.before,2);var L=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];T.keys=function(e){if(!T.isObject(e))return[];if(v)return v(e);var t=[];for(var i in e)T.has(e,i)&&t.push(i);return L&&s(e,t),t},T.allKeys=function(e){if(!T.isObject(e))return[];var t=[];for(var i in e)t.push(i);return L&&s(e,t),t},T.values=function(e){for(var t=T.keys(e),i=t.length,n=Array(i),o=0;i>o;o++)n[o]=e[t[o]];return n},T.mapObject=function(e,t,i){t=k(t,i);for(var n,o=T.keys(e),r=o.length,s={},a=0;r>a;a++)n=o[a],s[n]=t(e[n],n,e);return s},T.pairs=function(e){for(var t=T.keys(e),i=t.length,n=Array(i),o=0;i>o;o++)n[o]=[t[o],e[t[o]]];return n},T.invert=function(e){for(var t={},i=T.keys(e),n=0,o=i.length;o>n;n++)t[e[i[n]]]=i[n];return t},T.functions=T.methods=function(e){var t=[];for(var i in e)T.isFunction(e[i])&&t.push(i);return t.sort()},T.extend=S(T.allKeys),T.extendOwn=T.assign=S(T.keys),T.findKey=function(e,t,i){t=k(t,i);for(var n,o=T.keys(e),r=0,s=o.length;s>r;r++)if(n=o[r],t(e[n],n,e))return n},T.pick=function(e,t,i){var n,o,r={},s=e;if(null==s)return r;T.isFunction(t)?(o=T.allKeys(s),n=x(t,i)):(o=I(arguments,!1,!1,1),n=function(e,t,i){return t in i},s=Object(s));for(var a=0,l=o.length;l>a;a++){var d=o[a],c=s[d];n(c,d,s)&&(r[d]=c)}return r},T.omit=function(e,t,i){if(T.isFunction(t))t=T.negate(t);else{var n=T.map(I(arguments,!1,!1,1),String);t=function(e,t){return!T.contains(n,t)}}return T.pick(e,t,i)},T.defaults=S(T.allKeys,!0),T.create=function(e,t){var i=P(e);return t&&T.extendOwn(i,t),i},T.clone=function(e){return T.isObject(e)?T.isArray(e)?e.slice():T.extend({},e):e},T.tap=function(e,t){return t(e),e},T.isMatch=function(e,t){var i=T.keys(t),n=i.length;if(null==e)return!n;for(var o=Object(e),r=0;n>r;r++){var s=i[r];if(t[s]!==o[s]||!(s in o))return!1}return!0};var E=function(e,t,i,n){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof T&&(e=e._wrapped),t instanceof T&&(t=t._wrapped);var o=g.call(e);if(o!==g.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var r="[object Array]"===o;if(!r){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(T.isFunction(s)&&s instanceof s&&T.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}i=i||[],n=n||[];for(var l=i.length;l--;)if(i[l]===e)return n[l]===t;if(i.push(e),n.push(t),r){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!E(e[l],t[l],i,n))return!1}else{var d,c=T.keys(e);if(l=c.length,T.keys(t).length!==l)return!1;for(;l--;)if(d=c[l],!T.has(t,d)||!E(e[d],t[d],i,n))return!1}return i.pop(),n.pop(),!0};T.isEqual=function(e,t){return E(e,t)},T.isEmpty=function(e){return null==e?!0:M(e)&&(T.isArray(e)||T.isString(e)||T.isArguments(e))?0===e.length:0===T.keys(e).length},T.isElement=function(e){return!(!e||1!==e.nodeType)},T.isArray=m||function(e){return"[object Array]"===g.call(e)},T.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},T.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){T["is"+e]=function(t){return g.call(t)==="[object "+e+"]"}}),T.isArguments(arguments)||(T.isArguments=function(e){return T.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(T.isFunction=function(e){return"function"==typeof e||!1}),T.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},T.isNaN=function(e){return T.isNumber(e)&&e!==+e},T.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===g.call(e)},T.isNull=function(e){return null===e},T.isUndefined=function(e){return void 0===e},T.has=function(e,t){return null!=e&&f.call(e,t)},T.noConflict=function(){return a._=l,this},T.identity=function(e){return e},T.constant=function(e){return function(){return e}},T.noop=function(){},T.property=$,T.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},T.matcher=T.matches=function(e){return e=T.extendOwn({},e),function(t){return T.isMatch(t,e)}},T.times=function(e,t,i){var n=Array(Math.max(0,e));t=x(t,i,1);for(var o=0;e>o;o++)n[o]=t(o);return n},T.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},T.now=Date.now||function(){return(new Date).getTime()};var O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},R=T.invert(O),D=function(e){var t=function(t){return e[t]},i="(?:"+T.keys(e).join("|")+")",n=RegExp(i),o=RegExp(i,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(o,t):e}};T.escape=D(O),T.unescape=D(R),T.result=function(e,t,i){var n=null==e?void 0:e[t];return void 0===n&&(n=i),T.isFunction(n)?n.call(e):n};var F=0;T.uniqueId=function(e){var t=++F+"";return e?e+t:t},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var W=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,H=function(e){return"\\"+V[e]};T.template=function(e,t,i){!t&&i&&(t=i),t=T.defaults({},t,T.templateSettings);var n=RegExp([(t.escape||W).source,(t.interpolate||W).source,(t.evaluate||W).source].join("|")+"|$","g"),o=0,r="__p+='";e.replace(n,function(t,i,n,s,a){return r+=e.slice(o,a).replace(B,H),o=a+t.length,i?r+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?r+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(r+="';\n"+s+"\n__p+='"),t}),r+="';\n",t.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var s=new Function(t.variable||"obj","_",r)}catch(a){throw a.source=r,a}var l=function(e){return s.call(this,e,T)},d=t.variable||"obj";return l.source="function("+d+"){\n"+r+"}",l},T.chain=function(e){var t=T(e);return t._chain=!0,t};var U=function(e,t){return e._chain?T(t).chain():t};T.mixin=function(e){T.each(T.functions(e),function(t){var i=T[t]=e[t];T.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),U(this,i.apply(T,e))}})},T.mixin(T),T.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=d[e];T.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!==e&&"splice"!==e||0!==i.length||delete i[0],U(this,i)}}),T.each(["concat","join","slice"],function(e){var t=d[e];T.prototype[e]=function(){return U(this,t.apply(this._wrapped,arguments))}}),T.prototype.value=function(){return this._wrapped},T.prototype.valueOf=T.prototype.toJSON=T.prototype.value,T.prototype.toString=function(){return""+this._wrapped},"function"==typeof e&&e.amd&&e("underscore",[],function(){return T})}).call(this)},{}],20:[function(e,t,i){function n(e){var t={},i=h.keyPathSeparator;for(var o in e){var r=e[o];if(!r||r.constructor!==Object&&r.constructor!==Array||a.isEmpty(r))t[o]=r;else{var s=n(r);for(var l in s){var d=s[l];t[o+i+l]=d}}}return t}function o(e,t,i){for(var n=h.keyPathSeparator,o=t?t.split(n):[],r=e,s=0,l=o.length;l>s;s++){if(i&&!a.has(r,o[s]))return!1;if(r=r[o[s]],null==r&&l-1>s&&(r={}),"undefined"==typeof r)return i?!0:r}return i?!0:r}function r(e,t,i,n){n=n||{};for(var o=h.keyPathSeparator,r=t?t.split(o):[],s=e,l=0,d=r.length;d>l&&void 0!==s;l++){var c=r[l];if(l===d-1)n.unset?delete s[c]:s[c]=i;else{if("undefined"==typeof s[c]||!a.isObject(s[c])){if(n.unset)return void delete s[c];var u=r[l+1];s[c]=/^\d+$/.test(u)?[]:{}}s=s[c]}}}function s(e,t){r(e,t,null,{unset:!0})}try{var a=e("underscore")}catch(l){var a=window._}try{var d=e("backbone")}catch(l){var d=window.Backbone}var c=e("lodash.merge"),h=d.Model.extend({constructor:function(e,t){var i=e||{};this.cid=a.uniqueId("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(i=this.parse(i,t)||{}),i=c({},a.result(this,"defaults"),i),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)},toJSON:function(e){return c({},this.attributes)},get:function(e){return o(this.attributes,e)},set:function(e,t,i){var l,d,u,p,g,f,m,v;if(null==e)return this;if("object"==typeof e?(d=e,i=t||{}):(d={})[e]=t,i||(i={}),!this._validate(d,i))return!1;u=i.unset,g=i.silent,p=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=c({},this.attributes),this.changed={}),v=this.attributes,m=this._previousAttributes,this.idAttribute in d&&(this.id=d[this.idAttribute]),d=n(d);for(l in d)t=d[l],a.isEqual(o(v,l),t)||p.push(l),a.isEqual(o(m,l),t)?s(this.changed,l):r(this.changed,l,t),u?s(v,l):r(v,l,t);if(!g){p.length&&(this._pending=!0);for(var b=h.keyPathSeparator,y={},w=0,T=p.length;T>w;w++){var e=p[w];y.hasOwnProperty(e)&&y[e]||(y[e]=!0,this.trigger("change:"+e,this,o(v,e),i));for(var x=e.split(b),k=x.length-1;k>0;k--){var S=x.slice(0,k).join(b),P=S+b+"*";y.hasOwnProperty(P)&&y[P]||(y[P]=!0,this.trigger("change:"+P,this,o(v,S),i)),y.hasOwnProperty(S)&&y[S]||(y[S]=!0,this.trigger("change:"+S,this,o(v,S),i))}}}if(f)return this;if(!g)for(;this._pending;)this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},clear:function(e){var t={},i=n(this.attributes);for(var o in i)t[o]=void 0;return this.set(t,a.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!a.isEmpty(this.changed):void 0!==o(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n(this.changed):!1;var t=this._changing?this._previousAttributes:this.attributes;e=n(e),t=n(t);var i,o=!1;for(var r in e)a.isEqual(t[r],i=e[r])||((o||(o={}))[r]=i);return o},previous:function(e){return null!=e&&this._previousAttributes?o(this._previousAttributes,e):null},previousAttributes:function(){return c({},this._previousAttributes)}});h.keyPathSeparator=".",t.exports=h},{backbone:"backbone","lodash.merge":2,underscore:19}],21:[function(t,i,n){!function(i,o){if("function"==typeof e&&e.amd)e(["underscore","backbone"],function(e,t){o(e,t)});else if("undefined"!=typeof n&&"function"==typeof t){var r=t("underscore"),s=t("backbone");o(r,s)}else o(i._,i.Backbone)}(this,function(e,t){t.Model.extend=t.Collection.extend=t.Router.extend=t.View.extend=function(e,t){var i=s(this,e,t);return i.extend=this.extend,i};var i=function(e){throw"Super does not implement this method: "+e},n=/\b_super\b/,o=function(e,t,n){var o=function(){var o=this._super;this._super=e[t]||i(t);var r;try{r=n.apply(this,arguments)}finally{this._super=o}return r};for(var r in n)o[r]=n[r],delete n[r];return o},r=function(){},s=function(t,i,s){var a,l=t.prototype;if(a=i&&i.hasOwnProperty("constructor")?i.constructor:function(){return t.apply(this,arguments)},e.extend(a,t,s),r.prototype=l,a.prototype=new r,i){e.extend(a.prototype,i);for(var d in i)"function"==typeof i[d]&&n.test(i[d])&&(a.prototype[d]=o(l,d,i[d]))}return s&&e.extend(a,s),a.prototype.constructor=a,a.__super__=l,a};return s})},{backbone:"backbone",underscore:52}],22:[function(e,t,i){(function(){var t,n,o,r,s,a;a=e("./protocol"),r=a.Parser,n=a.PROTOCOL_6,o=a.PROTOCOL_7,s="2.2.2",i.Connector=t=function(){function e(e,t,i,n){this.options=e,this.WebSocket=t,this.Timer=i,this.handlers=n,this._uri="ws"+(this.options.https?"s":"")+"://"+this.options.host+":"+this.options.port+"/livereload",this._nextDelay=this.options.mindelay,this._connectionDesired=!1,this.protocol=0,this.protocolParser=new r({connected:function(e){return function(t){return e.protocol=t,e._handshakeTimeout.stop(),e._nextDelay=e.options.mindelay,e._disconnectionReason="broken",e.handlers.connected(t)}}(this),error:function(e){return function(t){return e.handlers.error(t),e._closeOnError()}}(this),message:function(e){return function(t){return e.handlers.message(t)}}(this)}),this._handshakeTimeout=new i(function(e){return function(){return e._isSocketConnected()?(e._disconnectionReason="handshake-timeout",e.socket.close()):void 0}}(this)),this._reconnectTimer=new i(function(e){return function(){return e._connectionDesired?e.connect():void 0}}(this)),this.connect()}return e.prototype._isSocketConnected=function(){return this.socket&&this.socket.readyState===this.WebSocket.OPEN},e.prototype.connect=function(){return this._connectionDesired=!0,
this._isSocketConnected()?void 0:(this._reconnectTimer.stop(),this._disconnectionReason="cannot-connect",this.protocolParser.reset(),this.handlers.connecting(),this.socket=new this.WebSocket(this._uri),this.socket.onopen=function(e){return function(t){return e._onopen(t)}}(this),this.socket.onclose=function(e){return function(t){return e._onclose(t)}}(this),this.socket.onmessage=function(e){return function(t){return e._onmessage(t)}}(this),this.socket.onerror=function(e){return function(t){return e._onerror(t)}}(this))},e.prototype.disconnect=function(){return this._connectionDesired=!1,this._reconnectTimer.stop(),this._isSocketConnected()?(this._disconnectionReason="manual",this.socket.close()):void 0},e.prototype._scheduleReconnection=function(){return this._connectionDesired?this._reconnectTimer.running?void 0:(this._reconnectTimer.start(this._nextDelay),this._nextDelay=Math.min(this.options.maxdelay,2*this._nextDelay)):void 0},e.prototype.sendCommand=function(e){return null!=this.protocol?this._sendCommand(e):void 0},e.prototype._sendCommand=function(e){return this.socket.send(JSON.stringify(e))},e.prototype._closeOnError=function(){return this._handshakeTimeout.stop(),this._disconnectionReason="error",this.socket.close()},e.prototype._onopen=function(e){var t;return this.handlers.socketConnected(),this._disconnectionReason="handshake-failed",t={command:"hello",protocols:[n,o]},t.ver=s,this.options.ext&&(t.ext=this.options.ext),this.options.extver&&(t.extver=this.options.extver),this.options.snipver&&(t.snipver=this.options.snipver),this._sendCommand(t),this._handshakeTimeout.start(this.options.handshake_timeout)},e.prototype._onclose=function(e){return this.protocol=0,this.handlers.disconnected(this._disconnectionReason,this._nextDelay),this._scheduleReconnection()},e.prototype._onerror=function(e){},e.prototype._onmessage=function(e){return this.protocolParser.process(e.data)},e}()}).call(this)},{"./protocol":27}],23:[function(e,t,i){(function(){var e;e={bind:function(e,t,i){if(e.addEventListener)return e.addEventListener(t,i,!1);if(e.attachEvent)return e[t]=1,e.attachEvent("onpropertychange",function(e){return e.propertyName===t?i():void 0});throw new Error("Attempt to attach custom event "+t+" to something which isn't a DOMElement")},fire:function(e,t){var i;if(e.addEventListener)return i=document.createEvent("HTMLEvents"),i.initEvent(t,!0,!0),document.dispatchEvent(i);if(!e.attachEvent)throw new Error("Attempt to fire custom event "+t+" on something which isn't a DOMElement");return e[t]?e[t]++:void 0}},i.bind=e.bind,i.fire=e.fire}).call(this)},{}],24:[function(e,t,i){(function(){var e;t.exports=e=function(){function e(e,t){this.window=e,this.host=t}return e.identifier="less",e.version="1.0",e.prototype.reload=function(e,t){if(this.window.less&&this.window.less.refresh){if(e.match(/\.less$/i))return this.reloadLess(e);if(t.originalPath.match(/\.less$/i))return this.reloadLess(t.originalPath)}return!1},e.prototype.reloadLess=function(e){var t,i,n,o;if(i=function(){var e,i,n,o;for(n=document.getElementsByTagName("link"),o=[],e=0,i=n.length;i>e;e++)t=n[e],(t.href&&t.rel.match(/^stylesheet\/less$/i)||t.rel.match(/stylesheet/i)&&t.type.match(/^text\/(x-)?less$/i))&&o.push(t);return o}(),0===i.length)return!1;for(n=0,o=i.length;o>n;n++)t=i[n],t.href=this.host.generateCacheBustUrl(t.href);return this.host.console.log("LiveReload is asking LESS to recompile all stylesheets"),this.window.less.refresh(!0),!0},e.prototype.analyze=function(){return{disable:!(!this.window.less||!this.window.less.refresh)}},e}()}).call(this)},{}],25:[function(e,t,i){(function(){var t,n,o,r,s,a={}.hasOwnProperty;t=e("./connector").Connector,s=e("./timer").Timer,o=e("./options").Options,r=e("./reloader").Reloader,i.LiveReload=n=function(){function e(e){var i,n,l;if(this.window=e,this.listeners={},this.plugins=[],this.pluginIdentifiers={},this.console=this.window.console&&this.window.console.log&&this.window.console.error?this.window.location.href.match(/LR-verbose/)?this.window.console:{log:function(){},error:this.window.console.error.bind(this.window.console)}:{log:function(){},error:function(){}},!(this.WebSocket=this.window.WebSocket||this.window.MozWebSocket))return void this.console.error("LiveReload disabled because the browser does not seem to support web sockets");if("LiveReloadOptions"in e){this.options=new o,l=e.LiveReloadOptions;for(i in l)a.call(l,i)&&(n=l[i],this.options.set(i,n))}else if(this.options=o.extract(this.window.document),!this.options)return void this.console.error("LiveReload disabled because it could not find its own <SCRIPT> tag");this.reloader=new r(this.window,this.console,s),this.connector=new t(this.options,this.WebSocket,s,{connecting:function(e){return function(){}}(this),socketConnected:function(e){return function(){}}(this),connected:function(e){return function(t){var i;return"function"==typeof(i=e.listeners).connect&&i.connect(),e.log("LiveReload is connected to "+e.options.host+":"+e.options.port+" (protocol v"+t+")."),e.analyze()}}(this),error:function(e){return function(e){if(e instanceof ProtocolError){if("undefined"!=typeof console&&null!==console)return console.log(""+e.message+".")}else if("undefined"!=typeof console&&null!==console)return console.log("LiveReload internal error: "+e.message)}}(this),disconnected:function(e){return function(t,i){var n;switch("function"==typeof(n=e.listeners).disconnect&&n.disconnect(),t){case"cannot-connect":return e.log("LiveReload cannot connect to "+e.options.host+":"+e.options.port+", will retry in "+i+" sec.");case"broken":return e.log("LiveReload disconnected from "+e.options.host+":"+e.options.port+", reconnecting in "+i+" sec.");case"handshake-timeout":return e.log("LiveReload cannot connect to "+e.options.host+":"+e.options.port+" (handshake timeout), will retry in "+i+" sec.");case"handshake-failed":return e.log("LiveReload cannot connect to "+e.options.host+":"+e.options.port+" (handshake failed), will retry in "+i+" sec.");case"manual":break;case"error":break;default:return e.log("LiveReload disconnected from "+e.options.host+":"+e.options.port+" ("+t+"), reconnecting in "+i+" sec.")}}}(this),message:function(e){return function(t){switch(t.command){case"reload":return e.performReload(t);case"alert":return e.performAlert(t)}}}(this)}),this.initialized=!0}return e.prototype.on=function(e,t){return this.listeners[e]=t},e.prototype.log=function(e){return this.console.log(""+e)},e.prototype.performReload=function(e){var t,i;return this.log("LiveReload received reload request: "+JSON.stringify(e,null,2)),this.reloader.reload(e.path,{liveCSS:null!=(t=e.liveCSS)?t:!0,liveImg:null!=(i=e.liveImg)?i:!0,originalPath:e.originalPath||"",overrideURL:e.overrideURL||"",serverURL:"http://"+this.options.host+":"+this.options.port})},e.prototype.performAlert=function(e){return alert(e.message)},e.prototype.shutDown=function(){var e;if(this.initialized)return this.connector.disconnect(),this.log("LiveReload disconnected."),"function"==typeof(e=this.listeners).shutdown?e.shutdown():void 0},e.prototype.hasPlugin=function(e){return!!this.pluginIdentifiers[e]},e.prototype.addPlugin=function(e){var t;this.initialized&&(this.hasPlugin(e.identifier)||(this.pluginIdentifiers[e.identifier]=!0,t=new e(this.window,{_livereload:this,_reloader:this.reloader,_connector:this.connector,console:this.console,Timer:s,generateCacheBustUrl:function(e){return function(t){return e.reloader.generateCacheBustUrl(t)}}(this)}),this.plugins.push(t),this.reloader.addPlugin(t)))},e.prototype.analyze=function(){var e,t,i,n,o,r;if(this.initialized&&this.connector.protocol>=7){for(i={},r=this.plugins,n=0,o=r.length;o>n;n++)e=r[n],i[e.constructor.identifier]=t=("function"==typeof e.analyze?e.analyze():void 0)||{},t.version=e.constructor.version;this.connector.sendCommand({command:"info",plugins:i,url:this.window.location.href})}},e}()}).call(this)},{"./connector":22,"./options":26,"./reloader":28,"./timer":30}],26:[function(e,t,i){(function(){var e;i.Options=e=function(){function e(){this.https=!1,this.host=null,this.port=35729,this.snipver=null,this.ext=null,this.extver=null,this.mindelay=1e3,this.maxdelay=6e4,this.handshake_timeout=5e3}return e.prototype.set=function(e,t){return"undefined"!=typeof t?(isNaN(+t)||(t=+t),this[e]=t):void 0},e}(),e.extract=function(t){var i,n,o,r,s,a,l,d,c,h,u,p,g;for(p=t.getElementsByTagName("script"),d=0,h=p.length;h>d;d++)if(i=p[d],(l=i.src)&&(o=l.match(/^[^:]+:\/\/(.*)\/z?livereload\.js(?:\?(.*))?$/))){if(s=new e,s.https=0===l.indexOf("https"),(r=o[1].match(/^([^\/:]+)(?::(\d+))?$/))&&(s.host=r[1],r[2]&&(s.port=parseInt(r[2],10))),o[2])for(g=o[2].split("&"),c=0,u=g.length;u>c;c++)a=g[c],(n=a.split("=")).length>1&&s.set(n[0].replace(/-/g,"_"),n.slice(1).join("="));return s}return null}}).call(this)},{}],27:[function(e,t,i){(function(){var e,t,n,o,r=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};i.PROTOCOL_6=e="http://livereload.com/protocols/official-6",i.PROTOCOL_7=t="http://livereload.com/protocols/official-7",i.ProtocolError=o=function(){function e(e,t){this.message="LiveReload protocol error ("+e+') after receiving data: "'+t+'".'}return e}(),i.Parser=n=function(){function i(e){this.handlers=e,this.reset()}return i.prototype.reset=function(){return this.protocol=null},i.prototype.process=function(i){var n,s,a,l,d;try{if(null==this.protocol){if(i.match(/^!!ver:([\d.]+)$/))this.protocol=6;else if(a=this._parseMessage(i,["hello"])){if(!a.protocols.length)throw new o("no protocols specified in handshake message");if(r.call(a.protocols,t)>=0)this.protocol=7;else{if(!(r.call(a.protocols,e)>=0))throw new o("no supported protocols found");this.protocol=6}}return this.handlers.connected(this.protocol)}if(6===this.protocol){if(a=JSON.parse(i),!a.length)throw new o("protocol 6 messages must be arrays");if(n=a[0],l=a[1],"refresh"!==n)throw new o("unknown protocol 6 command");return this.handlers.message({command:"reload",path:l.path,liveCSS:null!=(d=l.apply_css_live)?d:!0})}return a=this._parseMessage(i,["reload","alert"]),this.handlers.message(a)}catch(c){if(s=c,s instanceof o)return this.handlers.error(s);throw s}},i.prototype._parseMessage=function(e,t){var i,n,s;try{n=JSON.parse(e)}catch(a){throw i=a,new o("unparsable JSON",e)}if(!n.command)throw new o('missing "command" key',e);if(s=n.command,r.call(t,s)<0)throw new o("invalid command '"+n.command+"', only valid commands are: "+t.join(", ")+")",e);return n},i}()}).call(this)},{}],28:[function(e,t,i){(function(){var e,t,n,o,r,s,a;a=function(e){var t,i,n;return(i=e.indexOf("#"))>=0?(t=e.slice(i),e=e.slice(0,i)):t="",(i=e.indexOf("?"))>=0?(n=e.slice(i),e=e.slice(0,i)):n="",{url:e,params:n,hash:t}},o=function(e){var t;return e=a(e).url,t=0===e.indexOf("file://")?e.replace(/^file:\/\/(localhost)?/,""):e.replace(/^([^:]+:)?\/\/([^:\/]+)(:\d*)?\//,"/"),decodeURIComponent(t)},s=function(e,t,i){var o,r,s,a,l;for(o={score:0},a=0,l=t.length;l>a;a++)r=t[a],s=n(e,i(r)),s>o.score&&(o={object:r,score:s});return o.score>0?o:null},n=function(e,t){var i,n,o,r;if(e=e.replace(/^\/+/,"").toLowerCase(),t=t.replace(/^\/+/,"").toLowerCase(),e===t)return 1e4;for(i=e.split("/").reverse(),n=t.split("/").reverse(),r=Math.min(i.length,n.length),o=0;r>o&&i[o]===n[o];)++o;return o},r=function(e,t){return n(e,t)>0},e=[{selector:"background",styleNames:["backgroundImage"]},{selector:"border",styleNames:["borderImage","webkitBorderImage","MozBorderImage"]}],i.Reloader=t=function(){function t(e,t,i){this.window=e,this.console=t,this.Timer=i,this.document=this.window.document,this.importCacheWaitPeriod=200,this.plugins=[]}return t.prototype.addPlugin=function(e){return this.plugins.push(e)},t.prototype.analyze=function(e){return results},t.prototype.reload=function(e,t){var i,n,o,r,s;for(this.options=t,null==(n=this.options).stylesheetReloadTimeout&&(n.stylesheetReloadTimeout=15e3),s=this.plugins,o=0,r=s.length;r>o;o++)if(i=s[o],i.reload&&i.reload(e,t))return;return t.liveCSS&&e.match(/\.css$/i)&&this.reloadStylesheet(e)?void 0:t.liveImg&&e.match(/\.(jpe?g|png|gif)$/i)?void this.reloadImages(e):this.reloadPage()},t.prototype.reloadPage=function(){return this.window.document.location.reload()},t.prototype.reloadImages=function(t){var i,n,s,a,l,d,c,h,u,p,g,f,m,v,b,y,w,T;for(i=this.generateUniqueString(),v=this.document.images,d=0,p=v.length;p>d;d++)n=v[d],r(t,o(n.src))&&(n.src=this.generateCacheBustUrl(n.src,i));if(this.document.querySelectorAll)for(c=0,g=e.length;g>c;c++)for(b=e[c],s=b.selector,a=b.styleNames,y=this.document.querySelectorAll("[style*="+s+"]"),h=0,f=y.length;f>h;h++)n=y[h],this.reloadStyleImages(n.style,a,t,i);if(this.document.styleSheets){for(w=this.document.styleSheets,T=[],u=0,m=w.length;m>u;u++)l=w[u],T.push(this.reloadStylesheetImages(l,t,i));return T}},t.prototype.reloadStylesheetImages=function(t,i,n){var o,r,s,a,l,d,c,h;try{s=null!=t?t.cssRules:void 0}catch(u){o=u}if(s)for(l=0,c=s.length;c>l;l++)switch(r=s[l],r.type){case CSSRule.IMPORT_RULE:this.reloadStylesheetImages(r.styleSheet,i,n);break;case CSSRule.STYLE_RULE:for(d=0,h=e.length;h>d;d++)a=e[d].styleNames,this.reloadStyleImages(r.style,a,i,n);break;case CSSRule.MEDIA_RULE:this.reloadStylesheetImages(r,i,n)}},t.prototype.reloadStyleImages=function(e,t,i,n){var s,a,l,d,c;for(d=0,c=t.length;c>d;d++)a=t[d],l=e[a],"string"==typeof l&&(s=l.replace(/\burl\s*\(([^)]*)\)/,function(e){return function(t,s){return r(i,o(s))?"url("+e.generateCacheBustUrl(s,n)+")":t}}(this)),s!==l&&(e[a]=s))},t.prototype.reloadStylesheet=function(e){var t,i,n,r,a,l,d,c,h,u,p,g,f,m,v;for(n=function(){var e,t,n,o;for(n=this.document.getElementsByTagName("link"),o=[],e=0,t=n.length;t>e;e++)i=n[e],i.rel.match(/^stylesheet$/i)&&!i.__LiveReload_pendingRemoval&&o.push(i);return o}.call(this),t=[],m=this.document.getElementsByTagName("style"),l=0,u=m.length;u>l;l++)a=m[l],a.sheet&&this.collectImportedStylesheets(a,a.sheet,t);for(d=0,p=n.length;p>d;d++)i=n[d],this.collectImportedStylesheets(i,i.sheet,t);if(this.window.StyleFix&&this.document.querySelectorAll)for(v=this.document.querySelectorAll("style[data-href]"),c=0,g=v.length;g>c;c++)a=v[c],n.push(a);if(this.console.log("LiveReload found "+n.length+" LINKed stylesheets, "+t.length+" @imported stylesheets"),r=s(e,n.concat(t),function(e){return function(t){return o(e.linkHref(t))}}(this)))r.object.rule?(this.console.log("LiveReload is reloading imported stylesheet: "+r.object.href),this.reattachImportedRule(r.object)):(this.console.log("LiveReload is reloading stylesheet: "+this.linkHref(r.object)),this.reattachStylesheetLink(r.object));else for(this.console.log("LiveReload will reload all stylesheets because path '"+e+"' did not match any specific one"),h=0,f=n.length;f>h;h++)i=n[h],this.reattachStylesheetLink(i);return!0},t.prototype.collectImportedStylesheets=function(e,t,i){var n,o,r,s,a,l;try{s=null!=t?t.cssRules:void 0}catch(d){n=d}if(s&&s.length)for(o=a=0,l=s.length;l>a;o=++a)switch(r=s[o],r.type){case CSSRule.CHARSET_RULE:continue;case CSSRule.IMPORT_RULE:i.push({link:e,rule:r,index:o,href:r.href}),this.collectImportedStylesheets(e,r.styleSheet,i)}},t.prototype.waitUntilCssLoads=function(e,t){var i,n,o;return i=!1,n=function(e){return function(){return i?void 0:(i=!0,t())}}(this),e.onload=function(e){return function(){return e.console.log("LiveReload: the new stylesheet has finished loading"),e.knownToSupportCssOnLoad=!0,n()}}(this),this.knownToSupportCssOnLoad||(o=function(t){return function(){return e.sheet?(t.console.log("LiveReload is polling until the new CSS finishes loading..."),n()):t.Timer.start(50,o)}}(this))(),this.Timer.start(this.options.stylesheetReloadTimeout,n)},t.prototype.linkHref=function(e){return e.href||e.getAttribute("data-href")},t.prototype.reattachStylesheetLink=function(e){var t,i;if(!e.__LiveReload_pendingRemoval)return e.__LiveReload_pendingRemoval=!0,"STYLE"===e.tagName?(t=this.document.createElement("link"),t.rel="stylesheet",t.media=e.media,t.disabled=e.disabled):t=e.cloneNode(!1),t.href=this.generateCacheBustUrl(this.linkHref(e)),i=e.parentNode,i.lastChild===e?i.appendChild(t):i.insertBefore(t,e.nextSibling),this.waitUntilCssLoads(t,function(i){return function(){var n;return n=/AppleWebKit/.test(navigator.userAgent)?5:200,i.Timer.start(n,function(){var n;if(e.parentNode)return e.parentNode.removeChild(e),t.onreadystatechange=null,null!=(n=i.window.StyleFix)?n.link(t):void 0})}}(this))},t.prototype.reattachImportedRule=function(e){var t,i,n,o,r,s,a,l;return a=e.rule,i=e.index,n=e.link,s=a.parentStyleSheet,t=this.generateCacheBustUrl(a.href),o=a.media.length?[].join.call(a.media,", "):"",r='@import url("'+t+'") '+o+";",a.__LiveReload_newHref=t,l=this.document.createElement("link"),l.rel="stylesheet",l.href=t,l.__LiveReload_pendingRemoval=!0,n.parentNode&&n.parentNode.insertBefore(l,n),this.Timer.start(this.importCacheWaitPeriod,function(e){return function(){return l.parentNode&&l.parentNode.removeChild(l),a.__LiveReload_newHref===t?(s.insertRule(r,i),s.deleteRule(i+1),a=s.cssRules[i],a.__LiveReload_newHref=t,e.Timer.start(e.importCacheWaitPeriod,function(){return a.__LiveReload_newHref===t?(s.insertRule(r,i),s.deleteRule(i+1)):void 0})):void 0}}(this))},t.prototype.generateUniqueString=function(){return"livereload="+Date.now()},t.prototype.generateCacheBustUrl=function(e,t){var i,n,o,r,s;return null==t&&(t=this.generateUniqueString()),s=a(e),e=s.url,i=s.hash,n=s.params,this.options.overrideURL&&e.indexOf(this.options.serverURL)<0&&(o=e,e=this.options.serverURL+this.options.overrideURL+"?url="+encodeURIComponent(e),this.console.log("LiveReload is overriding source URL "+o+" with "+e)),r=n.replace(/(\?|&)livereload=(\d+)/,function(e,i){return""+i+t}),r===n&&(r=0===n.length?"?"+t:""+n+"&"+t),e+r+i},t}()}).call(this)},{}],29:[function(e,t,i){(function(){var t,i,n;t=e("./customevents"),i=window.LiveReload=new(e("./livereload").LiveReload)(window);for(n in window)n.match(/^LiveReloadPlugin/)&&i.addPlugin(window[n]);i.addPlugin(e("./less")),i.on("shutdown",function(){return delete window.LiveReload}),i.on("connect",function(){return t.fire(document,"LiveReloadConnect")}),i.on("disconnect",function(){return t.fire(document,"LiveReloadDisconnect")}),t.bind(document,"LiveReloadShutDown",function(){return i.shutDown()})}).call(this)},{"./customevents":23,"./less":24,"./livereload":25}],30:[function(e,t,i){(function(){var e;i.Timer=e=function(){function e(e){this.func=e,this.running=!1,this.id=null,this._handler=function(e){return function(){return e.running=!1,e.id=null,e.func()}}(this)}return e.prototype.start=function(e){return this.running&&clearTimeout(this.id),this.id=setTimeout(this._handler,e),this.running=!0},e.prototype.stop=function(){return this.running?(clearTimeout(this.id),this.running=!1,this.id=null):void 0},e}(),e.start=function(e,t){return setTimeout(t,e)}}).call(this)},{}],31:[function(e,t,i){"use strict";t.exports=e("./src/js/main")},{"./src/js/main":37}],32:[function(e,t,i){"use strict";function n(e,t){var i=e.className.split(" ");i.indexOf(t)<0&&i.push(t),e.className=i.join(" ")}function o(e,t){var i=e.className.split(" "),n=i.indexOf(t);n>=0&&i.splice(n,1),e.className=i.join(" ")}i.add=function(e,t){e.classList?e.classList.add(t):n(e,t)},i.remove=function(e,t){e.classList?e.classList.remove(t):o(e,t)},i.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},{}],33:[function(e,t,i){"use strict";function n(e,t){return window.getComputedStyle(e)[t]}function o(e,t,i){return"number"==typeof i&&(i=i.toString()+"px"),e.style[t]=i,e}function r(e,t){for(var i in t){var n=t[i];"number"==typeof n&&(n=n.toString()+"px"),e.style[i]=n}return e}var s={};s.e=function(e,t){var i=document.createElement(e);return i.className=t,i},s.appendTo=function(e,t){return t.appendChild(e),e},s.css=function(e,t,i){return"object"==typeof t?r(e,t):"undefined"==typeof i?n(e,t):o(e,t,i)},s.matches=function(e,t){return"undefined"!=typeof e.matches?e.matches(t):"undefined"!=typeof e.matchesSelector?e.matchesSelector(t):"undefined"!=typeof e.webkitMatchesSelector?e.webkitMatchesSelector(t):"undefined"!=typeof e.mozMatchesSelector?e.mozMatchesSelector(t):"undefined"!=typeof e.msMatchesSelector?e.msMatchesSelector(t):void 0},s.remove=function(e){"undefined"!=typeof e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},s.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return s.matches(e,t)})},t.exports=s},{}],34:[function(e,t,i){"use strict";var n=function(e){this.element=e,this.events={}};n.prototype.bind=function(e,t){"undefined"==typeof this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},n.prototype.unbind=function(e,t){var i="undefined"!=typeof t;this.events[e]=this.events[e].filter(function(n){return i&&n!==t?!0:(this.element.removeEventListener(e,n,!1),!1)},this)},n.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var o=function(){this.eventElements=[]};o.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return"undefined"==typeof t&&(t=new n(e),this.eventElements.push(t)),t},o.prototype.bind=function(e,t,i){this.eventElement(e).bind(t,i)},o.prototype.unbind=function(e,t,i){this.eventElement(e).unbind(t,i)},o.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},o.prototype.once=function(e,t,i){var n=this.eventElement(e),o=function(e){n.unbind(t,o),i(e)};n.bind(t,o)},t.exports=o},{}],35:[function(e,t,i){"use strict";t.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},{}],36:[function(e,t,i){"use strict";var n=e("./class"),o=e("./dom"),r=i.toInt=function(e){return parseInt(e,10)||0},s=i.clone=function(e){if(null===e)return null;if(e.constructor===Array)return e.map(s);if("object"==typeof e){var t={};for(var i in e)t[i]=s(e[i]);return t}return e};i.extend=function(e,t){var i=s(e);for(var n in t)i[n]=s(t[n]);return i},i.isEditable=function(e){return o.matches(e,"input,[contenteditable]")||o.matches(e,"select,[contenteditable]")||o.matches(e,"textarea,[contenteditable]")||o.matches(e,"button,[contenteditable]")},i.removePsClasses=function(e){for(var t=n.list(e),i=0;i<t.length;i++){var o=t[i];0===o.indexOf("ps-")&&n.remove(e,o)}},i.outerWidth=function(e){return r(o.css(e,"width"))+r(o.css(e,"paddingLeft"))+r(o.css(e,"paddingRight"))+r(o.css(e,"borderLeftWidth"))+r(o.css(e,"borderRightWidth"))},i.startScrolling=function(e,t){n.add(e,"ps-in-scrolling"),"undefined"!=typeof t?n.add(e,"ps-"+t):(n.add(e,"ps-x"),n.add(e,"ps-y"))},i.stopScrolling=function(e,t){n.remove(e,"ps-in-scrolling"),"undefined"!=typeof t?n.remove(e,"ps-"+t):(n.remove(e,"ps-x"),n.remove(e,"ps-y"))},i.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":32,"./dom":33}],37:[function(e,t,i){"use strict";var n=e("./plugin/destroy"),o=e("./plugin/initialize"),r=e("./plugin/update");t.exports={initialize:o,update:r,destroy:n}},{"./plugin/destroy":39,"./plugin/initialize":47,"./plugin/update":51}],38:[function(e,t,i){"use strict";t.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,stopPropagationOnClick:!0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],39:[function(e,t,i){"use strict";var n=e("../lib/helper"),o=e("../lib/dom"),r=e("./instances");t.exports=function(e){var t=r.get(e);t&&(t.event.unbindAll(),o.remove(t.scrollbarX),o.remove(t.scrollbarY),o.remove(t.scrollbarXRail),o.remove(t.scrollbarYRail),n.removePsClasses(e),r.remove(e))}},{"../lib/dom":33,"../lib/helper":36,"./instances":48}],40:[function(e,t,i){"use strict";function n(e,t){function i(e){return e.getBoundingClientRect()}var n=function(e){e.stopPropagation()};t.settings.stopPropagationOnClick&&t.event.bind(t.scrollbarY,"click",n),t.event.bind(t.scrollbarYRail,"click",function(n){var r=o.toInt(t.scrollbarYHeight/2),l=t.railYRatio*(n.pageY-window.pageYOffset-i(t.scrollbarYRail).top-r),d=t.railYRatio*(t.railYHeight-t.scrollbarYHeight),c=l/d;0>c?c=0:c>1&&(c=1),a(e,"top",(t.contentHeight-t.containerHeight)*c),s(e),n.stopPropagation()}),t.settings.stopPropagationOnClick&&t.event.bind(t.scrollbarX,"click",n),t.event.bind(t.scrollbarXRail,"click",function(n){var r=o.toInt(t.scrollbarXWidth/2),l=t.railXRatio*(n.pageX-window.pageXOffset-i(t.scrollbarXRail).left-r),d=t.railXRatio*(t.railXWidth-t.scrollbarXWidth),c=l/d;0>c?c=0:c>1&&(c=1),a(e,"left",(t.contentWidth-t.containerWidth)*c-t.negativeScrollAdjustment),s(e),n.stopPropagation()})}var o=e("../../lib/helper"),r=e("../instances"),s=e("../update-geometry"),a=e("../update-scroll");t.exports=function(e){var t=r.get(e);n(e,t)}},{"../../lib/helper":36,"../instances":48,"../update-geometry":49,"../update-scroll":50}],41:[function(e,t,i){"use strict";function n(e,t){function i(i){var o=n+i*t.railXRatio,s=Math.max(0,t.scrollbarXRail.getBoundingClientRect().left)+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);0>o?t.scrollbarXLeft=0:o>s?t.scrollbarXLeft=s:t.scrollbarXLeft=o;var a=r.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment;d(e,"left",a)}var n=null,o=null,a=function(t){i(t.pageX-o),l(e),t.stopPropagation(),t.preventDefault()},c=function(){r.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",a)};t.event.bind(t.scrollbarX,"mousedown",function(i){o=i.pageX,n=r.toInt(s.css(t.scrollbarX,"left"))*t.railXRatio,r.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",a),t.event.once(t.ownerDocument,"mouseup",c),i.stopPropagation(),i.preventDefault()})}function o(e,t){function i(i){var o=n+i*t.railYRatio,s=Math.max(0,t.scrollbarYRail.getBoundingClientRect().top)+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);0>o?t.scrollbarYTop=0:o>s?t.scrollbarYTop=s:t.scrollbarYTop=o;var a=r.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight));d(e,"top",a)}var n=null,o=null,a=function(t){i(t.pageY-o),l(e),t.stopPropagation(),t.preventDefault()},c=function(){r.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",a)};t.event.bind(t.scrollbarY,"mousedown",function(i){o=i.pageY,n=r.toInt(s.css(t.scrollbarY,"top"))*t.railYRatio,r.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",a),t.event.once(t.ownerDocument,"mouseup",c),i.stopPropagation(),i.preventDefault()})}var r=e("../../lib/helper"),s=e("../../lib/dom"),a=e("../instances"),l=e("../update-geometry"),d=e("../update-scroll");t.exports=function(e){var t=a.get(e);n(e,t),o(e,t)}},{"../../lib/dom":33,"../../lib/helper":36,"../instances":48,"../update-geometry":49,"../update-scroll":50}],42:[function(e,t,i){"use strict";function n(e,t){function i(i,n){var o=e.scrollTop;if(0===i){if(!t.scrollbarYActive)return!1;if(0===o&&n>0||o>=t.contentHeight-t.containerHeight&&0>n)return!t.settings.wheelPropagation}var r=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===r&&0>i||r>=t.contentWidth-t.containerWidth&&i>0)return!t.settings.wheelPropagation}return!0}var n=!1;t.event.bind(e,"mouseenter",function(){n=!0}),t.event.bind(e,"mouseleave",function(){n=!1});var s=!1;t.event.bind(t.ownerDocument,"keydown",function(d){if(!d.isDefaultPrevented||!d.isDefaultPrevented()){var c=r.matches(t.scrollbarX,":focus")||r.matches(t.scrollbarY,":focus");if(n||c){var h=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(h){if("IFRAME"===h.tagName)h=h.contentDocument.activeElement;else for(;h.shadowRoot;)h=h.shadowRoot.activeElement;if(o.isEditable(h))return}var u=0,p=0;switch(d.which){case 37:u=-30;break;case 38:p=30;break;case 39:u=30;break;case 40:p=-30;break;case 33:p=90;break;case 32:p=d.shiftKey?90:-90;break;case 34:p=-90;break;case 35:p=d.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:p=d.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}l(e,"top",e.scrollTop-p),l(e,"left",e.scrollLeft+u),a(e),s=i(u,p),s&&d.preventDefault()}}})}var o=e("../../lib/helper"),r=e("../../lib/dom"),s=e("../instances"),a=e("../update-geometry"),l=e("../update-scroll");t.exports=function(e){var t=s.get(e);n(e,t)}},{"../../lib/dom":33,"../../lib/helper":36,"../instances":48,"../update-geometry":49,"../update-scroll":50}],43:[function(e,t,i){"use strict";function n(e,t){function i(i,n){var o=e.scrollTop;if(0===i){if(!t.scrollbarYActive)return!1;if(0===o&&n>0||o>=t.contentHeight-t.containerHeight&&0>n)return!t.settings.wheelPropagation}var r=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===r&&0>i||r>=t.contentWidth-t.containerWidth&&i>0)return!t.settings.wheelPropagation}return!0}function n(e){var t=e.deltaX,i=-1*e.deltaY;return"undefined"!=typeof t&&"undefined"!=typeof i||(t=-1*e.wheelDeltaX/6,i=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,i*=10),t!==t&&i!==i&&(t=0,i=e.wheelDelta),[t,i]}function o(t,i){var n=e.querySelector("textarea:hover, .ps-child:hover");if(n){if("TEXTAREA"!==n.tagName&&!window.getComputedStyle(n).overflow.match(/(scroll|auto)/))return!1;var o=n.scrollHeight-n.clientHeight;if(o>0&&!(0===n.scrollTop&&i>0||n.scrollTop===o&&0>i))return!0;var r=n.scrollLeft-n.clientWidth;if(r>0&&!(0===n.scrollLeft&&0>t||n.scrollLeft===r&&t>0))return!0}return!1}function a(a){var d=n(a),c=d[0],h=d[1];o(c,h)||(l=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(h?s(e,"top",e.scrollTop-h*t.settings.wheelSpeed):s(e,"top",e.scrollTop+c*t.settings.wheelSpeed),l=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(c?s(e,"left",e.scrollLeft+c*t.settings.wheelSpeed):s(e,"left",e.scrollLeft-h*t.settings.wheelSpeed),l=!0):(s(e,"top",e.scrollTop-h*t.settings.wheelSpeed),s(e,"left",e.scrollLeft+c*t.settings.wheelSpeed)),r(e),l=l||i(c,h),l&&(a.stopPropagation(),a.preventDefault()))}var l=!1;"undefined"!=typeof window.onwheel?t.event.bind(e,"wheel",a):"undefined"!=typeof window.onmousewheel&&t.event.bind(e,"mousewheel",a)}var o=e("../instances"),r=e("../update-geometry"),s=e("../update-scroll");t.exports=function(e){var t=o.get(e);n(e,t)}},{"../instances":48,"../update-geometry":49,"../update-scroll":50}],44:[function(e,t,i){"use strict";function n(e,t){t.event.bind(e,"scroll",function(){r(e)})}var o=e("../instances"),r=e("../update-geometry");t.exports=function(e){var t=o.get(e);n(e,t)}},{"../instances":48,"../update-geometry":49}],45:[function(e,t,i){"use strict";function n(e,t){function i(){var e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===e.toString().length?null:e.getRangeAt(0).commonAncestorContainer}function n(){d||(d=setInterval(function(){return r.get(e)?(a(e,"top",e.scrollTop+c.top),a(e,"left",e.scrollLeft+c.left),void s(e)):void clearInterval(d)},50))}function l(){d&&(clearInterval(d),d=null),o.stopScrolling(e)}var d=null,c={top:0,left:0},h=!1;t.event.bind(t.ownerDocument,"selectionchange",function(){e.contains(i())?h=!0:(h=!1,l())}),t.event.bind(window,"mouseup",function(){h&&(h=!1,l())}),t.event.bind(window,"mousemove",function(t){if(h){var i={x:t.pageX,y:t.pageY},r={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};i.x<r.left+3?(c.left=-5,o.startScrolling(e,"x")):i.x>r.right-3?(c.left=5,o.startScrolling(e,"x")):c.left=0,i.y<r.top+3?(r.top+3-i.y<5?c.top=-5:c.top=-20,o.startScrolling(e,"y")):i.y>r.bottom-3?(i.y-r.bottom+3<5?c.top=5:c.top=20,o.startScrolling(e,"y")):c.top=0,0===c.top&&0===c.left?l():n()}})}var o=e("../../lib/helper"),r=e("../instances"),s=e("../update-geometry"),a=e("../update-scroll");
t.exports=function(e){var t=r.get(e);n(e,t)}},{"../../lib/helper":36,"../instances":48,"../update-geometry":49,"../update-scroll":50}],46:[function(e,t,i){"use strict";function n(e,t,i,n){function o(i,n){var o=e.scrollTop,r=e.scrollLeft,s=Math.abs(i),a=Math.abs(n);if(a>s){if(0>n&&o===t.contentHeight-t.containerHeight||n>0&&0===o)return!t.settings.swipePropagation}else if(s>a&&(0>i&&r===t.contentWidth-t.containerWidth||i>0&&0===r))return!t.settings.swipePropagation;return!0}function l(t,i){a(e,"top",e.scrollTop-i),a(e,"left",e.scrollLeft-t),s(e)}function d(){w=!0}function c(){w=!1}function h(e){return e.targetTouches?e.targetTouches[0]:e}function u(e){return e.targetTouches&&1===e.targetTouches.length?!0:!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function p(e){if(u(e)){T=!0;var t=h(e);m.pageX=t.pageX,m.pageY=t.pageY,v=(new Date).getTime(),null!==y&&clearInterval(y),e.stopPropagation()}}function g(e){if(!T&&t.settings.swipePropagation&&p(e),!w&&T&&u(e)){var i=h(e),n={pageX:i.pageX,pageY:i.pageY},r=n.pageX-m.pageX,s=n.pageY-m.pageY;l(r,s),m=n;var a=(new Date).getTime(),d=a-v;d>0&&(b.x=r/d,b.y=s/d,v=a),o(r,s)&&(e.stopPropagation(),e.preventDefault())}}function f(){!w&&T&&(T=!1,clearInterval(y),y=setInterval(function(){return r.get(e)?Math.abs(b.x)<.01&&Math.abs(b.y)<.01?void clearInterval(y):(l(30*b.x,30*b.y),b.x*=.8,void(b.y*=.8)):void clearInterval(y)},10))}var m={},v=0,b={},y=null,w=!1,T=!1;i&&(t.event.bind(window,"touchstart",d),t.event.bind(window,"touchend",c),t.event.bind(e,"touchstart",p),t.event.bind(e,"touchmove",g),t.event.bind(e,"touchend",f)),n&&(window.PointerEvent?(t.event.bind(window,"pointerdown",d),t.event.bind(window,"pointerup",c),t.event.bind(e,"pointerdown",p),t.event.bind(e,"pointermove",g),t.event.bind(e,"pointerup",f)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",d),t.event.bind(window,"MSPointerUp",c),t.event.bind(e,"MSPointerDown",p),t.event.bind(e,"MSPointerMove",g),t.event.bind(e,"MSPointerUp",f)))}var o=e("../../lib/helper"),r=e("../instances"),s=e("../update-geometry"),a=e("../update-scroll");t.exports=function(e){if(o.env.supportsTouch||o.env.supportsIePointer){var t=r.get(e);n(e,t,o.env.supportsTouch,o.env.supportsIePointer)}}},{"../../lib/helper":36,"../instances":48,"../update-geometry":49,"../update-scroll":50}],47:[function(e,t,i){"use strict";var n=e("../lib/helper"),o=e("../lib/class"),r=e("./instances"),s=e("./update-geometry"),a={"click-rail":e("./handler/click-rail"),"drag-scrollbar":e("./handler/drag-scrollbar"),keyboard:e("./handler/keyboard"),wheel:e("./handler/mouse-wheel"),touch:e("./handler/touch"),selection:e("./handler/selection")},l=e("./handler/native-scroll");t.exports=function(e,t){t="object"==typeof t?t:{},o.add(e,"ps-container");var i=r.add(e);i.settings=n.extend(i.settings,t),o.add(e,"ps-theme-"+i.settings.theme),i.settings.handlers.forEach(function(t){a[t](e)}),l(e),s(e)}},{"../lib/class":32,"../lib/helper":36,"./handler/click-rail":40,"./handler/drag-scrollbar":41,"./handler/keyboard":42,"./handler/mouse-wheel":43,"./handler/native-scroll":44,"./handler/selection":45,"./handler/touch":46,"./instances":48,"./update-geometry":49}],48:[function(e,t,i){"use strict";function n(e){function t(){l.add(e,"ps-focus")}function i(){l.remove(e,"ps-focus")}var n=this;n.settings=a.clone(d),n.containerWidth=null,n.containerHeight=null,n.contentWidth=null,n.contentHeight=null,n.isRtl="rtl"===c.css(e,"direction"),n.isNegativeScroll=function(){var t=e.scrollLeft,i=null;return e.scrollLeft=-1,i=e.scrollLeft<0,e.scrollLeft=t,i}(),n.negativeScrollAdjustment=n.isNegativeScroll?e.scrollWidth-e.clientWidth:0,n.event=new h,n.ownerDocument=e.ownerDocument||document,n.scrollbarXRail=c.appendTo(c.e("div","ps-scrollbar-x-rail"),e),n.scrollbarX=c.appendTo(c.e("div","ps-scrollbar-x"),n.scrollbarXRail),n.scrollbarX.setAttribute("tabindex",0),n.event.bind(n.scrollbarX,"focus",t),n.event.bind(n.scrollbarX,"blur",i),n.scrollbarXActive=null,n.scrollbarXWidth=null,n.scrollbarXLeft=null,n.scrollbarXBottom=a.toInt(c.css(n.scrollbarXRail,"bottom")),n.isScrollbarXUsingBottom=n.scrollbarXBottom===n.scrollbarXBottom,n.scrollbarXTop=n.isScrollbarXUsingBottom?null:a.toInt(c.css(n.scrollbarXRail,"top")),n.railBorderXWidth=a.toInt(c.css(n.scrollbarXRail,"borderLeftWidth"))+a.toInt(c.css(n.scrollbarXRail,"borderRightWidth")),c.css(n.scrollbarXRail,"display","block"),n.railXMarginWidth=a.toInt(c.css(n.scrollbarXRail,"marginLeft"))+a.toInt(c.css(n.scrollbarXRail,"marginRight")),c.css(n.scrollbarXRail,"display",""),n.railXWidth=null,n.railXRatio=null,n.scrollbarYRail=c.appendTo(c.e("div","ps-scrollbar-y-rail"),e),n.scrollbarY=c.appendTo(c.e("div","ps-scrollbar-y"),n.scrollbarYRail),n.scrollbarY.setAttribute("tabindex",0),n.event.bind(n.scrollbarY,"focus",t),n.event.bind(n.scrollbarY,"blur",i),n.scrollbarYActive=null,n.scrollbarYHeight=null,n.scrollbarYTop=null,n.scrollbarYRight=a.toInt(c.css(n.scrollbarYRail,"right")),n.isScrollbarYUsingRight=n.scrollbarYRight===n.scrollbarYRight,n.scrollbarYLeft=n.isScrollbarYUsingRight?null:a.toInt(c.css(n.scrollbarYRail,"left")),n.scrollbarYOuterWidth=n.isRtl?a.outerWidth(n.scrollbarY):null,n.railBorderYWidth=a.toInt(c.css(n.scrollbarYRail,"borderTopWidth"))+a.toInt(c.css(n.scrollbarYRail,"borderBottomWidth")),c.css(n.scrollbarYRail,"display","block"),n.railYMarginHeight=a.toInt(c.css(n.scrollbarYRail,"marginTop"))+a.toInt(c.css(n.scrollbarYRail,"marginBottom")),c.css(n.scrollbarYRail,"display",""),n.railYHeight=null,n.railYRatio=null}function o(e){return e.getAttribute("data-ps-id")}function r(e,t){e.setAttribute("data-ps-id",t)}function s(e){e.removeAttribute("data-ps-id")}var a=e("../lib/helper"),l=e("../lib/class"),d=e("./default-setting"),c=e("../lib/dom"),h=e("../lib/event-manager"),u=e("../lib/guid"),p={};i.add=function(e){var t=u();return r(e,t),p[t]=new n(e),p[t]},i.remove=function(e){delete p[o(e)],s(e)},i.get=function(e){return p[o(e)]}},{"../lib/class":32,"../lib/dom":33,"../lib/event-manager":34,"../lib/guid":35,"../lib/helper":36,"./default-setting":38}],49:[function(e,t,i){"use strict";function n(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function o(e,t){var i={width:t.railXWidth};t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:i.left=e.scrollLeft,t.isScrollbarXUsingBottom?i.bottom=t.scrollbarXBottom-e.scrollTop:i.top=t.scrollbarXTop+e.scrollTop,a.css(t.scrollbarXRail,i);var n={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?n.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:n.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:n.left=t.scrollbarYLeft+e.scrollLeft,a.css(t.scrollbarYRail,n),a.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),a.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}var r=e("../lib/helper"),s=e("../lib/class"),a=e("../lib/dom"),l=e("./instances"),d=e("./update-scroll");t.exports=function(e){var t=l.get(e);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight;var i;e.contains(t.scrollbarXRail)||(i=a.queryChildren(e,".ps-scrollbar-x-rail"),i.length>0&&i.forEach(function(e){a.remove(e)}),a.appendTo(t.scrollbarXRail,e)),e.contains(t.scrollbarYRail)||(i=a.queryChildren(e,".ps-scrollbar-y-rail"),i.length>0&&i.forEach(function(e){a.remove(e)}),a.appendTo(t.scrollbarYRail,e)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=n(t,r.toInt(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=r.toInt((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=n(t,r.toInt(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=r.toInt(e.scrollTop*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),o(e,t),t.scrollbarXActive?s.add(e,"ps-active-x"):(s.remove(e,"ps-active-x"),t.scrollbarXWidth=0,t.scrollbarXLeft=0,d(e,"left",0)),t.scrollbarYActive?s.add(e,"ps-active-y"):(s.remove(e,"ps-active-y"),t.scrollbarYHeight=0,t.scrollbarYTop=0,d(e,"top",0))}},{"../lib/class":32,"../lib/dom":33,"../lib/helper":36,"./instances":48,"./update-scroll":50}],50:[function(e,t,i){"use strict";var n,o,r=e("./instances"),s=document.createEvent("Event"),a=document.createEvent("Event"),l=document.createEvent("Event"),d=document.createEvent("Event"),c=document.createEvent("Event"),h=document.createEvent("Event"),u=document.createEvent("Event"),p=document.createEvent("Event"),g=document.createEvent("Event"),f=document.createEvent("Event");s.initEvent("ps-scroll-up",!0,!0),a.initEvent("ps-scroll-down",!0,!0),l.initEvent("ps-scroll-left",!0,!0),d.initEvent("ps-scroll-right",!0,!0),c.initEvent("ps-scroll-y",!0,!0),h.initEvent("ps-scroll-x",!0,!0),u.initEvent("ps-x-reach-start",!0,!0),p.initEvent("ps-x-reach-end",!0,!0),g.initEvent("ps-y-reach-start",!0,!0),f.initEvent("ps-y-reach-end",!0,!0),t.exports=function(e,t,i){if("undefined"==typeof e)throw"You must provide an element to the update-scroll function";if("undefined"==typeof t)throw"You must provide an axis to the update-scroll function";if("undefined"==typeof i)throw"You must provide a value to the update-scroll function";"top"===t&&0>=i&&(e.scrollTop=i=0,e.dispatchEvent(g)),"left"===t&&0>=i&&(e.scrollLeft=i=0,e.dispatchEvent(u));var m=r.get(e);"top"===t&&i>=m.contentHeight-m.containerHeight&&(i=m.contentHeight-m.containerHeight,i-e.scrollTop<=1?i=e.scrollTop:e.scrollTop=i,e.dispatchEvent(f)),"left"===t&&i>=m.contentWidth-m.containerWidth&&(i=m.contentWidth-m.containerWidth,i-e.scrollLeft<=1?i=e.scrollLeft:e.scrollLeft=i,e.dispatchEvent(p)),n||(n=e.scrollTop),o||(o=e.scrollLeft),"top"===t&&n>i&&e.dispatchEvent(s),"top"===t&&i>n&&e.dispatchEvent(a),"left"===t&&o>i&&e.dispatchEvent(l),"left"===t&&i>o&&e.dispatchEvent(d),"top"===t&&(e.scrollTop=n=i,e.dispatchEvent(c)),"left"===t&&(e.scrollLeft=o=i,e.dispatchEvent(h))}},{"./instances":48}],51:[function(e,t,i){"use strict";var n=e("../lib/helper"),o=e("../lib/dom"),r=e("./instances"),s=e("./update-geometry"),a=e("./update-scroll");t.exports=function(e){var t=r.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,o.css(t.scrollbarXRail,"display","block"),o.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=n.toInt(o.css(t.scrollbarXRail,"marginLeft"))+n.toInt(o.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=n.toInt(o.css(t.scrollbarYRail,"marginTop"))+n.toInt(o.css(t.scrollbarYRail,"marginBottom")),o.css(t.scrollbarXRail,"display","none"),o.css(t.scrollbarYRail,"display","none"),s(e),a(e,"top",e.scrollTop),a(e,"left",e.scrollLeft),o.css(t.scrollbarXRail,"display",""),o.css(t.scrollbarYRail,"display",""))}},{"../lib/dom":33,"../lib/helper":36,"./instances":48,"./update-geometry":49,"./update-scroll":50}],52:[function(t,i,n){(function(){var t=this,o=t._,r={},s=Array.prototype,a=Object.prototype,l=Function.prototype,d=s.push,c=s.slice,h=s.concat,u=a.toString,p=a.hasOwnProperty,g=s.forEach,f=s.map,m=s.reduce,v=s.reduceRight,b=s.filter,y=s.every,w=s.some,T=s.indexOf,x=s.lastIndexOf,k=Array.isArray,S=Object.keys,P=l.bind,$=function(e){return e instanceof $?e:this instanceof $?void(this._wrapped=e):new $(e)};"undefined"!=typeof n?("undefined"!=typeof i&&i.exports&&(n=i.exports=$),n._=$):t._=$,$.VERSION="1.6.0";var j=$.each=$.forEach=function(e,t,i){if(null==e)return e;if(g&&e.forEach===g)e.forEach(t,i);else if(e.length===+e.length){for(var n=0,o=e.length;o>n;n++)if(t.call(i,e[n],n,e)===r)return}else for(var s=$.keys(e),n=0,o=s.length;o>n;n++)if(t.call(i,e[s[n]],s[n],e)===r)return;return e};$.map=$.collect=function(e,t,i){var n=[];return null==e?n:f&&e.map===f?e.map(t,i):(j(e,function(e,o,r){n.push(t.call(i,e,o,r))}),n)};var C="Reduce of empty array with no initial value";$.reduce=$.foldl=$.inject=function(e,t,i,n){var o=arguments.length>2;if(null==e&&(e=[]),m&&e.reduce===m)return n&&(t=$.bind(t,n)),o?e.reduce(t,i):e.reduce(t);if(j(e,function(e,r,s){o?i=t.call(n,i,e,r,s):(i=e,o=!0)}),!o)throw new TypeError(C);return i},$.reduceRight=$.foldr=function(e,t,i,n){var o=arguments.length>2;if(null==e&&(e=[]),v&&e.reduceRight===v)return n&&(t=$.bind(t,n)),o?e.reduceRight(t,i):e.reduceRight(t);var r=e.length;if(r!==+r){var s=$.keys(e);r=s.length}if(j(e,function(a,l,d){l=s?s[--r]:--r,o?i=t.call(n,i,e[l],l,d):(i=e[l],o=!0)}),!o)throw new TypeError(C);return i},$.find=$.detect=function(e,t,i){var n;return M(e,function(e,o,r){return t.call(i,e,o,r)?(n=e,!0):void 0}),n},$.filter=$.select=function(e,t,i){var n=[];return null==e?n:b&&e.filter===b?e.filter(t,i):(j(e,function(e,o,r){t.call(i,e,o,r)&&n.push(e)}),n)},$.reject=function(e,t,i){return $.filter(e,function(e,n,o){return!t.call(i,e,n,o)},i)},$.every=$.all=function(e,t,i){t||(t=$.identity);var n=!0;return null==e?n:y&&e.every===y?e.every(t,i):(j(e,function(e,o,s){return(n=n&&t.call(i,e,o,s))?void 0:r}),!!n)};var M=$.some=$.any=function(e,t,i){t||(t=$.identity);var n=!1;return null==e?n:w&&e.some===w?e.some(t,i):(j(e,function(e,o,s){return n||(n=t.call(i,e,o,s))?r:void 0}),!!n)};$.contains=$.include=function(e,t){return null==e?!1:T&&e.indexOf===T?-1!=e.indexOf(t):M(e,function(e){return e===t})},$.invoke=function(e,t){var i=c.call(arguments,2),n=$.isFunction(t);return $.map(e,function(e){return(n?t:e[t]).apply(e,i)})},$.pluck=function(e,t){return $.map(e,$.property(t))},$.where=function(e,t){return $.filter(e,$.matches(t))},$.findWhere=function(e,t){return $.find(e,$.matches(t))},$.max=function(e,t,i){if(!t&&$.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var n=-(1/0),o=-(1/0);return j(e,function(e,r,s){var a=t?t.call(i,e,r,s):e;a>o&&(n=e,o=a)}),n},$.min=function(e,t,i){if(!t&&$.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var n=1/0,o=1/0;return j(e,function(e,r,s){var a=t?t.call(i,e,r,s):e;o>a&&(n=e,o=a)}),n},$.shuffle=function(e){var t,i=0,n=[];return j(e,function(e){t=$.random(i++),n[i-1]=n[t],n[t]=e}),n},$.sample=function(e,t,i){return null==t||i?(e.length!==+e.length&&(e=$.values(e)),e[$.random(e.length-1)]):$.shuffle(e).slice(0,Math.max(0,t))};var z=function(e){return null==e?$.identity:$.isFunction(e)?e:$.property(e)};$.sortBy=function(e,t,i){return t=z(t),$.pluck($.map(e,function(e,n,o){return{value:e,index:n,criteria:t.call(i,e,n,o)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index-t.index}),"value")};var I=function(e){return function(t,i,n){var o={};return i=z(i),j(t,function(r,s){var a=i.call(n,r,s,t);e(o,a,r)}),o}};$.groupBy=I(function(e,t,i){$.has(e,t)?e[t].push(i):e[t]=[i]}),$.indexBy=I(function(e,t,i){e[t]=i}),$.countBy=I(function(e,t){$.has(e,t)?e[t]++:e[t]=1}),$.sortedIndex=function(e,t,i,n){i=z(i);for(var o=i.call(n,t),r=0,s=e.length;s>r;){var a=r+s>>>1;i.call(n,e[a])<o?r=a+1:s=a}return r},$.toArray=function(e){return e?$.isArray(e)?c.call(e):e.length===+e.length?$.map(e,$.identity):$.values(e):[]},$.size=function(e){return null==e?0:e.length===+e.length?e.length:$.keys(e).length},$.first=$.head=$.take=function(e,t,i){return null!=e?null==t||i?e[0]:0>t?[]:c.call(e,0,t):void 0},$.initial=function(e,t,i){return c.call(e,0,e.length-(null==t||i?1:t))},$.last=function(e,t,i){return null!=e?null==t||i?e[e.length-1]:c.call(e,Math.max(e.length-t,0)):void 0},$.rest=$.tail=$.drop=function(e,t,i){return c.call(e,null==t||i?1:t)},$.compact=function(e){return $.filter(e,$.identity)};var _=function(e,t,i){return t&&$.every(e,$.isArray)?h.apply(i,e):(j(e,function(e){$.isArray(e)||$.isArguments(e)?t?d.apply(i,e):_(e,t,i):i.push(e)}),i)};$.flatten=function(e,t){return _(e,t,[])},$.without=function(e){return $.difference(e,c.call(arguments,1))},$.partition=function(e,t){var i=[],n=[];return j(e,function(e){(t(e)?i:n).push(e)}),[i,n]},$.uniq=$.unique=function(e,t,i,n){$.isFunction(t)&&(n=i,i=t,t=!1);var o=i?$.map(e,i,n):e,r=[],s=[];return j(o,function(i,n){(t?n&&s[s.length-1]===i:$.contains(s,i))||(s.push(i),r.push(e[n]))}),r},$.union=function(){return $.uniq($.flatten(arguments,!0))},$.intersection=function(e){var t=c.call(arguments,1);return $.filter($.uniq(e),function(e){return $.every(t,function(t){return $.contains(t,e)})})},$.difference=function(e){var t=h.apply(s,c.call(arguments,1));return $.filter(e,function(e){return!$.contains(t,e)})},$.zip=function(){for(var e=$.max($.pluck(arguments,"length").concat(0)),t=new Array(e),i=0;e>i;i++)t[i]=$.pluck(arguments,""+i);return t},$.object=function(e,t){if(null==e)return{};for(var i={},n=0,o=e.length;o>n;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},$.indexOf=function(e,t,i){if(null==e)return-1;var n=0,o=e.length;if(i){if("number"!=typeof i)return n=$.sortedIndex(e,t),e[n]===t?n:-1;n=0>i?Math.max(0,o+i):i}if(T&&e.indexOf===T)return e.indexOf(t,i);for(;o>n;n++)if(e[n]===t)return n;return-1},$.lastIndexOf=function(e,t,i){if(null==e)return-1;var n=null!=i;if(x&&e.lastIndexOf===x)return n?e.lastIndexOf(t,i):e.lastIndexOf(t);for(var o=n?i:e.length;o--;)if(e[o]===t)return o;return-1},$.range=function(e,t,i){arguments.length<=1&&(t=e||0,e=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((t-e)/i),0),o=0,r=new Array(n);n>o;)r[o++]=e,e+=i;return r};var L=function(){};$.bind=function(e,t){var i,n;if(P&&e.bind===P)return P.apply(e,c.call(arguments,1));if(!$.isFunction(e))throw new TypeError;return i=c.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,i.concat(c.call(arguments)));L.prototype=e.prototype;var o=new L;L.prototype=null;var r=e.apply(o,i.concat(c.call(arguments)));return Object(r)===r?r:o}},$.partial=function(e){var t=c.call(arguments,1);return function(){for(var i=0,n=t.slice(),o=0,r=n.length;r>o;o++)n[o]===$&&(n[o]=arguments[i++]);for(;i<arguments.length;)n.push(arguments[i++]);return e.apply(this,n)}},$.bindAll=function(e){var t=c.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return j(t,function(t){e[t]=$.bind(e[t],e)}),e},$.memoize=function(e,t){var i={};return t||(t=$.identity),function(){var n=t.apply(this,arguments);return $.has(i,n)?i[n]:i[n]=e.apply(this,arguments)}},$.delay=function(e,t){var i=c.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},$.defer=function(e){return $.delay.apply($,[e,1].concat(c.call(arguments,1)))},$.throttle=function(e,t,i){var n,o,r,s=null,a=0;i||(i={});var l=function(){a=i.leading===!1?0:$.now(),s=null,r=e.apply(n,o),n=o=null};return function(){var d=$.now();a||i.leading!==!1||(a=d);var c=t-(d-a);return n=this,o=arguments,0>=c?(clearTimeout(s),s=null,a=d,r=e.apply(n,o),n=o=null):s||i.trailing===!1||(s=setTimeout(l,c)),r}},$.debounce=function(e,t,i){var n,o,r,s,a,l=function(){var d=$.now()-s;t>d?n=setTimeout(l,t-d):(n=null,i||(a=e.apply(r,o),r=o=null))};return function(){r=this,o=arguments,s=$.now();var d=i&&!n;return n||(n=setTimeout(l,t)),d&&(a=e.apply(r,o),r=o=null),a}},$.once=function(e){var t,i=!1;return function(){return i?t:(i=!0,t=e.apply(this,arguments),e=null,t)}},$.wrap=function(e,t){return $.partial(t,e)},$.compose=function(){var e=arguments;return function(){for(var t=arguments,i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},$.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},$.keys=function(e){if(!$.isObject(e))return[];if(S)return S(e);var t=[];for(var i in e)$.has(e,i)&&t.push(i);return t},$.values=function(e){for(var t=$.keys(e),i=t.length,n=new Array(i),o=0;i>o;o++)n[o]=e[t[o]];return n},$.pairs=function(e){for(var t=$.keys(e),i=t.length,n=new Array(i),o=0;i>o;o++)n[o]=[t[o],e[t[o]]];return n},$.invert=function(e){for(var t={},i=$.keys(e),n=0,o=i.length;o>n;n++)t[e[i[n]]]=i[n];return t},$.functions=$.methods=function(e){var t=[];for(var i in e)$.isFunction(e[i])&&t.push(i);return t.sort()},$.extend=function(e){return j(c.call(arguments,1),function(t){if(t)for(var i in t)e[i]=t[i]}),e},$.pick=function(e){var t={},i=h.apply(s,c.call(arguments,1));return j(i,function(i){i in e&&(t[i]=e[i])}),t},$.omit=function(e){var t={},i=h.apply(s,c.call(arguments,1));for(var n in e)$.contains(i,n)||(t[n]=e[n]);return t},$.defaults=function(e){return j(c.call(arguments,1),function(t){if(t)for(var i in t)void 0===e[i]&&(e[i]=t[i])}),e},$.clone=function(e){return $.isObject(e)?$.isArray(e)?e.slice():$.extend({},e):e},$.tap=function(e,t){return t(e),e};var A=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof $&&(e=e._wrapped),t instanceof $&&(t=t._wrapped);var o=u.call(e);if(o!=u.call(t))return!1;switch(o){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var r=i.length;r--;)if(i[r]==e)return n[r]==t;var s=e.constructor,a=t.constructor;if(s!==a&&!($.isFunction(s)&&s instanceof s&&$.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1;i.push(e),n.push(t);var l=0,d=!0;if("[object Array]"==o){if(l=e.length,d=l==t.length)for(;l--&&(d=A(e[l],t[l],i,n)););}else{for(var c in e)if($.has(e,c)&&(l++,!(d=$.has(t,c)&&A(e[c],t[c],i,n))))break;if(d){for(c in t)if($.has(t,c)&&!l--)break;d=!l}}return i.pop(),n.pop(),d};$.isEqual=function(e,t){return A(e,t,[],[])},$.isEmpty=function(e){if(null==e)return!0;if($.isArray(e)||$.isString(e))return 0===e.length;for(var t in e)if($.has(e,t))return!1;return!0},$.isElement=function(e){return!(!e||1!==e.nodeType)},$.isArray=k||function(e){return"[object Array]"==u.call(e)},$.isObject=function(e){return e===Object(e)},j(["Arguments","Function","String","Number","Date","RegExp"],function(e){$["is"+e]=function(t){return u.call(t)=="[object "+e+"]"}}),$.isArguments(arguments)||($.isArguments=function(e){return!(!e||!$.has(e,"callee"))}),"function"!=typeof/./&&($.isFunction=function(e){return"function"==typeof e}),$.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},$.isNaN=function(e){return $.isNumber(e)&&e!=+e},$.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==u.call(e)},$.isNull=function(e){return null===e},$.isUndefined=function(e){return void 0===e},$.has=function(e,t){return p.call(e,t)},$.noConflict=function(){return t._=o,this},$.identity=function(e){return e},$.constant=function(e){return function(){return e}},$.property=function(e){return function(t){return t[e]}},$.matches=function(e){return function(t){if(t===e)return!0;for(var i in e)if(e[i]!==t[i])return!1;return!0}},$.times=function(e,t,i){for(var n=Array(Math.max(0,e)),o=0;e>o;o++)n[o]=t.call(i,o);return n},$.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},$.now=Date.now||function(){return(new Date).getTime()};var E={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};E.unescape=$.invert(E.escape);var O={escape:new RegExp("["+$.keys(E.escape).join("")+"]","g"),unescape:new RegExp("("+$.keys(E.unescape).join("|")+")","g")};$.each(["escape","unescape"],function(e){$[e]=function(t){return null==t?"":(""+t).replace(O[e],function(t){return E[e][t]})}}),$.result=function(e,t){if(null!=e){var i=e[t];return $.isFunction(i)?i.call(e):i}},$.mixin=function(e){j($.functions(e),function(t){var i=$[t]=e[t];$.prototype[t]=function(){var e=[this._wrapped];return d.apply(e,arguments),V.call(this,i.apply($,e))}})};var R=0;$.uniqueId=function(e){var t=++R+"";return e?e+t:t},$.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var D=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},W=/\\|'|\r|\n|\t|\u2028|\u2029/g;$.template=function(e,t,i){var n;i=$.defaults({},i,$.templateSettings);var o=new RegExp([(i.escape||D).source,(i.interpolate||D).source,(i.evaluate||D).source].join("|")+"|$","g"),r=0,s="__p+='";e.replace(o,function(t,i,n,o,a){return s+=e.slice(r,a).replace(W,function(e){return"\\"+F[e]}),i&&(s+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(s+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),o&&(s+="';\n"+o+"\n__p+='"),r=a+t.length,t}),s+="';\n",i.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{n=new Function(i.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(t)return n(t,$);var l=function(e){return n.call(this,e,$)};return l.source="function("+(i.variable||"obj")+"){\n"+s+"}",l},$.chain=function(e){return $(e).chain()};var V=function(e){return this._chain?$(e).chain():e};$.mixin($),j(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];$.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!=e&&"splice"!=e||0!==i.length||delete i[0],V.call(this,i)}}),j(["concat","join","slice"],function(e){var t=s[e];$.prototype[e]=function(){return V.call(this,t.apply(this._wrapped,arguments))}}),$.extend($.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof e&&e.amd&&e("underscore",[],function(){return $})}).call(this)},{}],53:[function(e,t,i){e("backbone-super");var n=e("backbone"),o=e("underscore"),r=e("./modules/slide/slideCollectionView.js"),s=e("./modules/slide/slideCollection.js"),a=e("./modules/appSettingsModel.js"),l=e("./modules/player/controlsView.js"),d=e("./modules/slide/slideView.js"),c=e("./modules/slide/slideThumbnailsView.js"),h=e("./modules/player/contentView.js"),u=e("./modules/player/linkView.js"),p=e("./modules/player/slideTransitionMixin.js"),g=e("./modules/player/slideTimelineMixin.js"),f=e("./modules/popup/loadingOverlayView.js"),m=e("./helpers/url.js"),v=e("./modules/player/downloadView.js"),b=e("./helpers/iframeMessageEvents.js");n.$=$,$.ajaxSetup({cache:!1});var y={};y.views={},y.models={},y.collections={},y.views.objects={text:e("./modules/objects/types/text/textView.js"),table:e("./modules/objects/types/table/tableView.js"),svg:e("./modules/objects/types/svg/svgView.js"),image:e("./modules/objects/types/image/imageView.js"),pdf:e("./modules/objects/types/pdf/pdfView.js"),audio:e("./modules/objects/types/audio/audioView.js"),video:e("./modules/objects/types/video/videoView.js"),iframe:e("./modules/objects/types/iframe/iframeView.js"),clock:e("./modules/objects/types/clock/clockView.js"),countdown:e("./modules/objects/types/countdown/countdownView.js"),chart:e("./modules/objects/types/charts/chartView.js"),infogrWidget:e("./modules/objects/types/infogr_widgets/widgetView.js")},y.models.objects={text:e("./modules/objects/types/text/textModel.js"),table:e("./modules/objects/types/table/tableModel.js"),svg:e("./modules/objects/types/svg/svgModel.js"),image:e("./modules/objects/types/image/imageModel.js"),pdf:e("./modules/objects/types/pdf/pdfModel.js"),audio:e("./modules/objects/types/audio/audioModel.js"),video:e("./modules/objects/types/video/videoModel.js"),chart:e("./modules/objects/types/charts/chartModel.js"),iframe:e("./modules/objects/types/iframe/iframeModel.js"),clock:e("./modules/objects/types/clock/clockModel.js"),countdown:e("./modules/objects/types/countdown/countdownModel.js"),infogrWidget:e("./modules/objects/types/infogr_widgets/widgetModel.js")},y.init=function(){o.extend(r.prototype,e("./modules/player/slidesNavigationMixin.js")),o.extend(d.prototype,p.methods),o.extend(d.prototype,g.methods),d.prototype.initHooks.push(p.initHook),d.prototype.initHooks.push(g.initHook),this.settings=new a(this.bootstrapData),"1"===m.get("isPreview")&&this.settings.set("mode","preview"),this.settings.get("livereload")&&(window.LiveReloadOptions={host:"localhost"},e("livereload-js")),this.views.controlsView=new l({}),this.views.loadingOverlayView=new f({}),this.collections.slides=new s(this.settings.get("slidesData")),this.views.slidesView=new r({collection:this.collections.slides}),this.views.downloadView=new v({}),"Download"!==this.settings.get("project_type")&&(this.views.slideThumbnailsView=new c({collection:this.collections.slides,slideWidth:this.settings.get("slideWidth"),slideHeight:this.settings.get("slideHeight")})),this.views.contentView=new h({}),this.views.linkView=new u({});var t=Number(window.location.hash.replace("#s",""));t=Math.max(t-1,0),o.isUndefined(this.views.slidesView.collection.at(t))&&(t=0),this.trigger("addToJobQueue",function(){this.trigger("slide:transitionTo",{model:this.views.slidesView.collection.at(t),index:t,direction:1})}.bind(this),"loaded"),this.views.slidesView.currentSlideIndex=t,o.contains(this.settings.get("permissions"),"player:watermarkRemoveBranding")||$("section").append($(".presentation_water")),b()},y.bootstrap=function(e,t){this.bootstrapData=this.bootstrapData||{},this.bootstrapData[e]=t},o.extend(y,n.Events),y.bind("error",function(e){y.settings.get("debug")&&console.log("Internal error",e)}),t.exports=y;var w=n.DeepModel.prototype.set;n.DeepModel.prototype.set=function(e,t,i){return w.call(this,e,t,o.extend({validate:!0},i))},n.View.prototype.addEvents=function(e){this.delegateEvents(o.extend(o.clone(this.events),e))},String.prototype.replaceAt=function(e,t){return this.substr(0,e)+t+this.substr(e+t.length)}},{"./helpers/iframeMessageEvents.js":58,"./helpers/url.js":62,"./modules/appSettingsModel.js":63,"./modules/objects/types/audio/audioModel.js":76,"./modules/objects/types/audio/audioView.js":77,"./modules/objects/types/charts/chartModel.js":78,"./modules/objects/types/charts/chartView.js":79,"./modules/objects/types/clock/clockModel.js":80,"./modules/objects/types/clock/clockView.js":81,"./modules/objects/types/countdown/countdownModel.js":82,"./modules/objects/types/countdown/countdownView.js":83,"./modules/objects/types/iframe/iframeModel.js":84,"./modules/objects/types/iframe/iframeView.js":85,"./modules/objects/types/image/imageModel.js":86,"./modules/objects/types/image/imageView.js":87,"./modules/objects/types/infogr_widgets/widgetModel.js":101,"./modules/objects/types/infogr_widgets/widgetView.js":102,"./modules/objects/types/pdf/pdfModel.js":103,"./modules/objects/types/pdf/pdfView.js":104,"./modules/objects/types/svg/svgModel.js":105,"./modules/objects/types/svg/svgView.js":106,"./modules/objects/types/table/tableModel.js":107,"./modules/objects/types/table/tableView.js":108,"./modules/objects/types/text/textModel.js":109,"./modules/objects/types/text/textView.js":110,"./modules/objects/types/video/videoModel.js":111,"./modules/objects/types/video/videoView.js":112,"./modules/player/contentView.js":117,"./modules/player/controlsView.js":118,"./modules/player/downloadView.js":119,"./modules/player/linkView.js":121,"./modules/player/slideTimelineMixin.js":122,"./modules/player/slideTransitionMixin.js":123,"./modules/player/slidesNavigationMixin.js":124,"./modules/popup/loadingOverlayView.js":125,"./modules/slide/slideCollection.js":128,"./modules/slide/slideCollectionView.js":129,"./modules/slide/slideThumbnailsView.js":131,"./modules/slide/slideView.js":132,
backbone:"backbone","backbone-super":21,"livereload-js":29,underscore:52}],54:[function(e,t,i){t.exports=function(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var i,n,o="#";for(n=0;3>n;n++)i=parseInt(e.substr(2*n,2),16),i=Math.round(Math.min(Math.max(0,i+i*t),255)).toString(16),o+=("00"+i).substr(i.length);return o}},{}],55:[function(e,t,i){var n=e("underscore");t.exports=function(){var e=[],t=function(t){e.push(t),$("head").append($("<link />",{rel:"stylesheet",type:"text/css",href:app.settings.get("assetsStorage")+"fonts/css/"+t+".css"}))};return{add:function(i){i&&!n.contains(e,i)&&t(i)}}}()},{underscore:52}],56:[function(e,t,i){t.exports=function(e,t,i,n){var o,r=e.getContext("2d"),s=n.split(",");"h"===s[0]?o=r.createLinearGradient(0,0,t,0):"v"===s[0]?o=r.createLinearGradient(0,0,0,i):"r"===s[0]&&(o=r.createRadialGradient(t/2,i/2,t/4,t/2,i/2,t/2));for(var a=1;a<s.length;a++)if("string"==typeof s[a]){var l=s[a].split(" ");o.addColorStop(parseInt(l[0])/100,String(l[1]).substring(0,7))}r.fillStyle=o,r.fillRect(0,0,t,i)}},{}],57:[function(e,t,i){t.exports=function(e){var t="",i="0%",o="100%",r="left bottom",s="top";if(e=e.split(","),"h"==e[0])var a="horizontal";if("r"==e[0])var a="radial";e.shift();var l=e;"horizontal"==a&&(i="100%",o="0%",r="right top",s="left");var d="<svg xmlns='http://www.w3.org/2000/svg'><defs><linearGradient id='gradient' x1='0%' y1='0%' x2='"+i+"' y2='"+o+"'>",c="-webkit-gradient(linear, left top, "+r,h="";return $.each(l,function(e,t){l[e]=l[e].split(" ")}),$.each(l,function(e,t){c+=", color-stop("+t[0]+", "+t[1]+")",h+=","+t[1]+" "+t[0],d+="<stop offset='"+t[0]+"' style='stop-color:"+t[1]+";' />"}),c+=")",h=h.substr(1),"radial"==a&&(s="center"),d+="</linearGradient></defs><rect fill='url(#gradient)' height='100%' width='100%' /></svg>",d=n(d),t+="url(data:image/svg+xml;base64,"+d+");\n",t+=c+";\n",t+="-moz-linear-gradient("+s+","+h+");\n",t+="-webkit-linear-gradient("+s+","+h+");\n",t+="-o-linear-gradient("+s+","+h+");\n",t+="-ms-linear-gradient("+s+","+h+");\n",t+="linear-gradient("+s+","+h+");","radial"==a&&(t=t.replace("linear","radial")),t};var n=function(e){for(var t,i,n,o,r,s,a,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d="",c=0;c<e.length;)t=e.charCodeAt(c++),i=e.charCodeAt(c++),n=e.charCodeAt(c++),o=t>>2,r=(3&t)<<4|i>>4,s=(15&i)<<2|n>>6,a=63&n,isNaN(i)?s=a=64:isNaN(n)&&(a=64),d+=l.charAt(o)+l.charAt(r)+l.charAt(s)+l.charAt(a);return d}},{}],58:[function(e,t,i){t.exports=function(){var e=function(e){if("undefined"!=typeof e.data)try{var t=JSON.parse(e.data);"undefined"!=typeof t.type&&app.trigger("iframe-message",t)}catch(i){}};window.addEventListener("message",e,!1)}},{}],59:[function(e,t,i){var n=e("underscore");t.exports={add:function(e,t,i){if(!n.isUndefined(window.localStorage))if(!n.isUndefined(window.localStorage.getItem(e))&&window.localStorage.getItem(e)){var o=JSON.parse(window.localStorage.getItem(e));o[t]=i,window.localStorage.setItem(e,JSON.stringify(o))}else window.localStorage.setItem(e,'{"'+t+'":"'+i+'"}')},get:function(e,t){if(n.isUndefined(window.localStorage))return null;if(!n.isUndefined(window.localStorage.getItem(e))&&window.localStorage.getItem(e)){var i=JSON.parse(window.localStorage.getItem(e));return n.isUndefined(i[t])?null:JSON.parse(window.localStorage.getItem(e))[t]}return null}}},{underscore:52}],60:[function(e,t,i){t.exports={add:function(e,t){var i={type:"POST",data:t,success:function(e){"error"===e.status?console.log("media asset add error"):console.log("media asset add success")},error:function(e,t,i){console.log("status code: "+e.status+"\nerrorThrown: "+i+"\njqXHR.responseText:"+e.responseText)}},n="/actions/addasset/"+e;this.ajaxRequest(n,i)},"delete":function(e,t,i){var n={type:"DELETE",success:function(e){"error"===e.status?console.log("media asset delete error"):console.log("media asset delete success")},error:function(e,t,i){console.log("status code: "+e.status+"\nerrorThrown: "+i+"\njqXHR.responseText:"+e.responseText)}},o="";o=0===i?"/actions/deleteasset/"+e+"/"+t:"/actions/deleteallasset/"+e+"/"+t,this.ajaxRequest(o,n)},ajaxRequest:function(e,t){return t=$.extend(t||{},{url:e}),$.ajax(t)}}},{}],61:[function(e,t,i){t.exports=function(){var e=0,t=function(t){var i=++e+"";return t?t+i:i},i=function(t){t=parseInt(t.match(/\d+/)[0],10),t>e&&(e=t)};return{uniqueId:t,notifyIdCounter:i}}()},{}],62:[function(e,t,i){t.exports=function(){var e=function(e){var t=window.location.search.match(new RegExp("[?&]"+e+"=([^&]*)(&?)","i"));return t?t[1]:t},t=function(e){var t=/^(https):\/\/[^ "]+$/;return t.test(e)};return{get:e,validate:t}}()},{}],63:[function(e,t,i){var n=e("underscore"),o=e("../helpers/url.js"),r=e("./objects/objectModel.js"),s=e("./../helpers/localStorage.js"),a=r.extend(n.extend({},{defaults:{editMode:1,state:"loading",grid:{visible:!1,gridHorizontalGap:40,gridVerticalGap:40,gridOpacity:.1,gridSnap:!0,objectSnap:!0,gridColor:"black"},debug:1,zoom:1,fonts:e("./fonts/list.js"),slideHeight:800,slideWidth:1e3},validators:{zoom:{type:"number",params:{min:0,max:10}}},get:function(e){var t=r.prototype.get.call(this,e);return"1"!==t&&"0"!==t||(t=Number(t)),t},initialize:function(e){var t=JSON.parse(e.project_data);if(e.template){var i=JSON.parse(e.template);null!==i?this.set("template",i.slides):this.set("template",null)}this.set("slidesData",this.cleanupProjectData(t.slides)),n.bindAll(this,"addToJobQueue","checkUrlForDimensions","isMobileDevice","isIE","validateBrowser"),this.set("templateId",t.template),this.set("colorPallete",t.colorPallete),this.set("project_id",e.project_id),this.set("project_version",e.project_version),this.set("usersDataStorage",e.usersDataStorage),this.set("audioStorage",e.audioStorage),this.set("project_name",e.project_name),this.set("type",e.project_type),this.set("slideWidth",t.width),this.set("slideHeight",t.height),this.listenTo(this,"change",this.settingsChange),app.bind("addToJobQueue",this.addToJobQueue),this.loadLocalSettings(),"editor"===this.get("editMode")&&(app.trigger("addToJobQueue",this.checkUrlForDimensions,"loaded"),app.trigger("addToJobQueue",this.validateBrowser,"loaded"))},loadLocalSettings:function(){var e=this;n.each(["grid.gridOpacity","grid.gridHorizontalGap","grid.gridVerticalGap","grid.gridSnap","grid.visible"],function(t){var i=s.get(e.get("project_id"),t);i&&this.set(t,i)},this)},checkUrlForDimensions:function(){var e=o.get("size");if(!n.isNull(e)){e=e.split("x");var t=parseInt(e[0]),i=parseInt(e[1]);app.settings.set("slideWidth",t),app.settings.set("slideHeight",i)}},validateBrowser:function(){(this.isMobileDevice()||this.isIE()&&this.isIE()<9)&&alert("This browser/device is not supported by the Visme Editor. To create and edit projects please use a browser such as Google Chrome, Firefox, Safari, or Internet Explorer 10+ on your desktop or laptop")},isMobileDevice:function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},isIE:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var i=e.indexOf("Trident/");if(i>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var o=e.indexOf("Edge/");return o>0?parseInt(e.substring(o+5,e.indexOf(".",o)),10):!1},cleanupProjectData:function(e){for(var t=0;t<e.length;++t)for(var i=e[t].objects,n=i.length-1;n>=0;n--)"audio"===i[n].type?e[t].objects[n].state="stop":"collection"===i[n].type&&e[t].objects.splice(n,1);return e},settingsChange:function(){var e=this;n.each(this.changed,function(t,i,o){switch(i){case"zoom":app.trigger("zoom:change-init");break;case"grid":n.each(["visible","gridSnap","gridVerticalGap","gridHorizontalGap","gridOpacity"],function(i){n.has(t,i)&&s.add(e.get("project_id"),"grid."+i,t[i])});break;case"state":this.runActiveJobs(t)}delete this.changed[i]},this)},runActiveJobs:function(e){if(this.jobQueue[e])for(;this.jobQueue[e].length;){var t=this.jobQueue[e].pop();t()}},jobQueue:{},addToJobQueue:function(e,t){this.jobQueue[t]||(this.jobQueue[t]=[]),this.jobQueue[t].push(e)}}));n.defaults(a.prototype.validators,r.prototype.validators),t.exports=a},{"../helpers/url.js":62,"./../helpers/localStorage.js":59,"./fonts/list.js":64,"./objects/objectModel.js":74,underscore:52}],64:[function(e,t,i){var n=["3Dumb","Arch Rival","Archistico","Azoft Sans","Desyrel","Journal","Exo","Slapstick Comic","ST Marie","Tenderness","Trump Town Pro","Kingthings Petrock","Pacifico","Bilbo","Caviar Dreams","Acknowledgement","Economica","Matchbook","Flux","Belligerent Madness","Quickly Wiggle","Amaranth","Greyscale Basic","Linux Biolinum","Lobster Two","Marvel","Open Sans Condensed","Overlock","Quantico","Resagnicto","Titillium","Ubuntu","Web Serveroff","Qarmic Sans","Yew Basturd","Alex Brush","Black Jack","Dancing Script","Grand Hotel","Great Vibes","Italliano","Learning Curve Pro","Rechtman","Tangerine","Rawengulk","Trocchi","Zantroke","BlokLetters","Colaborate","Disco","Enigmatic","Fjord","Garton","Gothic Ultra OT","Hattori Hanzo","Jacques Francois","Junction","Kingthings Calligraphica","Kontrapunkt","Metamorphous","Myndraine","Okolaks","Otama EP","Panefresco","ProFontWindows","Rawengulk Sans","Samba","Daniel","Redressed","Wagnasty","Yellowtail","Silkscreen","Distant Galaxy","Liquidism","Flavors","Headhunter","Forque","Lintsec","Top Secret","Deutch Gothic","New Rocker","1942 Report","Cabinsketch","Arial","Courier New","Georgia","Helvetica","Impact","Times New Roman","Trebuchet MS","Verdana","Josefin Sans","Abril Fatface","Old Standard TT","Vollkorn","Lato","PT Mono","Source Sans Pro","Oswald","Rokkitt","Montserrat"];n=n.sort(),t.exports=n},{}],65:[function(e,t,i){var n=e("backbone"),o=e("underscore");t.exports={moveTo:function(e,t){var i=this.indexOf(e);t>=0&&i!==t&&(this.remove([e],{noreindex:!0}),this.add([e],{at:t,silent:!0}),this.updateModelOrdinals())},moveDown:function(e){var t=this.indexOf(e);t>0&&(this.remove([e],{noreindex:!0}),this.add([e],{at:t-1}),this.updateModelOrdinals())},moveUp:function(e){var t=this.indexOf(e);t<this.models.length&&(this.remove([e],{noreindex:!0}),this.add([e],{at:t+1}),this.updateModelOrdinals())},moveTop:function(e){var t=this.indexOf(e);t<this.models.length&&(this.remove([e],{noreindex:!0}),this.add([e],{at:this.models.length}),this.updateModelOrdinals())},moveBottom:function(e){var t=this.indexOf(e);t>0&&(this.remove([e],{noreindex:!0}),this.add([e],{at:0}),this.updateModelOrdinals())},comparator:function(e,t){return e=e.get(this.sortKey),t=t.get(this.sortKey),e>t?1:t>e?-1:0},add:function(e,t){if(o.isUndefined(t)||o.isUndefined(t.at)){var i=this.models.length;o.isNull(e)||o.isUndefined(e)||$.isArray(e)||(e=[e]),o.each(e,function(e){o.isNull(e)||o.isUndefined(e)?app.trigger("error","Can't set order for the model"+e):e.order=i++})}var r=[];return r=n.Collection.prototype.add.call(this,e,t),o.each(r,function(e){o.isNull(e)||e===!1||t&&t.silent||(app.trigger(this.eventType+":add:model-view",e,this),app.trigger(this.eventType+":change:model-view",this))},this),r},remove:function(e,t){if($.isArray(e)&&1===e.length){var i=this.get(e[0]);o.isUndefined(i)||"collection"!==i.get("type")||(e=i.get("group"),e.push(i))}var r=n.Collection.prototype.remove.call(this,e,{silent:!0});return(o.isUndefined(t)||o.isUndefined(t.noreindex)||!t.noreindex)&&this.updateModelOrdinals(),t&&t.silent||o.each(r,function(e){o.isUndefined(e)||(app.trigger(this.eventType+":remove:model-view",e,this),app.trigger(this.eventType+":change:model-view",this))},this),r},duplicate:function(e,t){"undefined"==typeof t&&(t={});var i=this.get(e),n=i.toJSON();return delete n.id,n.name.indexOf("copy")<0&&(n.name+=" copy"),o.defaults(t,n)},updateModelOrdinals:function(){this.each(function(e,t){e.set(this.sortKey,t)},this)}}},{backbone:"backbone",underscore:52}],66:[function(e,t,i){var n=e("underscore");t.exports=function(){var e={string:function(e){return"string"!=typeof e.data?e.name+" is not a string":!e.params.notblank||e.data&&!/^\s*$/.test(e.data)?e.params.maxlength&&e.data.length>e.params.maxlength?e.name+" should be no more than "+e.params.maxlength:"":e.name+" can not be blank"},number:function(e){return"number"!=typeof e.data||isNaN(e.data)?e.name+" "+e.data+" is not a number":this._range(e)},integer:function(e){return parseInt(e.data,10)!==e.data||isNaN(e.data)?e.name+" is not an integer":this._range(e)},"boolean":function(e){return"boolean"!=typeof e.data?e.name+" is not a boolean":""},_range:function(e){return e.hasOwnProperty("params")&&e.params?e.params.max&&e.data>e.params.max?e.name+" is out of range: "+e.data:n.has(e.params,"min")&&e.data<e.params.min?e.name+" is out of range: "+e.data:"":""}},t=function(t){var i=Object.keys(t).every(function(i){if(this.validators.hasOwnProperty(i)){var n=e[this.validators[i].type]({name:i,params:this.validators[i].params,data:t[i]});return!(n.length>0)}return!0},this);return i===!1?"validation failed":""};return{validateAttributes:function(e){return"object"==typeof e?t.call(this,e):void 0}}}()},{underscore:52}],67:[function(e,t,i){var n=e("Draggable"),o=e("underscore"),r=e("TweenLite"),s=e("./snapObjectMixin.js");t.exports={guideLines:{},treeReference:{},updateGuidelines:function(e){this.guideLines=e[0],this.treeReference=e[1]},initDragging:function(){o.bindAll(this,"deSelectObject","selectObject","updateGuidelines"),app.bind("canvas:click",this.deSelectObject),app.bind("object:new-selected",this.selectObject),app.bind("setup-guidelines",this.updateGuidelines),this.$dragTrigger=this.$el.find(".drag-helper"),this.$dragTriggerInner=this.$dragTrigger.find("div");var e=this;this.draggable=n.create(this.$el,{viewReference:this,snapDistance:3,snapRadius:300,trigger:this.$dragTrigger,minimumMovement:3,zIndexBoost:!1,onDrag:function(){e.model.set({x:this.x,y:this.y},{noCssUpdate:!0}),app.trigger("object:drag",e.model)},onDragStart:function(){app.trigger("object:new-selected",e.model),app.trigger("object:drag-start",e.model)},onDragEnd:function(){app.trigger("object:drag-end",e.model)},onClick:function(){app.trigger("object:new-selected",e.model),app.trigger("object:onclick",e.model)},liveSnap:s,isInVicinity:function(e){var t=this.viewReference.draggable[0].x,i=this.viewReference.draggable[0].y;return this.snapRadius>this.xyDistance({x:t,y:i,id:this.viewReference.model.get("id")},e)},xyDistance:function(e,t){return e.id===t.id?Number.MAX_SAFE_INTEGER:Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},isPartOf:function(e,t){var i=e===t.get("id");if("collection"===t.get("type"))for(var n=t.get("group"),o=n.length,r=0;o>r&&!i;++r)i=n[r].get("id")===e;return i},searchForSnapPoints:function(e,t,i){e+=i;var n=this.viewReference.guideLines[t+"Tree"];if(n){var o=this.viewReference.model,r={id:o.get("id")};r[t]=e;for(var s=n.nearest(r,4,this.snapDistance),a=s.length,l=0;a>l;++l){var d=s[l][0];if(!this.isPartOf(d.id,o)&&this.isInVicinity(d))return{coordinate:d[t],model:o,delta:i}}}return!1}}),(this.model.get("x")||this.model.get("y"))&&r.set(this.$el,{x:this.model.get("x"),y:this.model.get("y")})}}},{"./snapObjectMixin.js":70,Draggable:"Draggable",TweenLite:"TweenLite",underscore:52}],68:[function(e,t,i){var n=e("TweenLite"),o=e("underscore"),r=e("perfect-scrollbar");t.exports={initScroll:function(e,t,i){this.resizeId=-1,this.$resizeElement=e,this.heightCallback=t,this.widthCallback=i,this.setDimensions(),this.hovered=!1,this.useKeyboard=!0,r.initialize(this.$resizeElement[0],{useKeyboard:!1,handlers:["click-rail","drag-scrollbar","wheel","touch"]}),this.events||(this.events={}),this.delegateEvents(o.extend(this.events,{mouseenter:"mouseenter",mouseleave:"mouseleave"})),this.listenTo(app,"key-press",this.keyboard),o.bindAll(this,"resize","keyboard","mouseenter","mouseleave"),app.on();var n=this;$(window).on("resize",function(){clearTimeout(n.resizeId),n.resizeId=setTimeout(n.resize,500)})},mouseleave:function(){this.hovered=!1},mouseenter:function(){this.hovered=!0},disableKeyboardScrolling:function(){this.stopListening(app,"key-press",this.keyboard),this.useKeyboard=!1},enableKeyboardScrolling:function(){this.listenTo(app,"key-press",this.keyboard),this.useKeyboard=!0},resize:function(){this.setDimensions(),r.update(this.$resizeElement[0])},setDimensions:function(){"undefined"!=typeof this.heightCallback&&n.set(this.$resizeElement,{css:{height:this.heightCallback()}}),"undefined"!=typeof this.widthCallback&&n.set(this.$resizeElement,{css:{width:this.widthCallback()}})},keyboard:function(e){if(!this.hovered||!this.useKeyboard)return!1;switch(e){case 38:this.$resizeElement[0].scrollTop-=30,r.update(this.$resizeElement[0]);break;case 40:this.$resizeElement[0].scrollTop+=30,r.update(this.$resizeElement[0]);break;case 37:this.$resizeElement[0].scrollLeft-=30,r.update(this.$resizeElement[0]);break;case 39:this.$resizeElement[0].scrollLeft+=30,r.update(this.$resizeElement[0])}},updateScroll:function(e){r.update(e)}}},{TweenLite:"TweenLite","perfect-scrollbar":31,underscore:52}],69:[function(e,t,i){t.exports={show:function(e){this.$el.show()},hide:function(){this.$el.hide()}}},{}],70:[function(e,t,i){t.exports={x:function(e,t){if(app.settings.get("grid.visible")&&app.settings.get("grid.gridSnap")){var i=app.settings.get("grid.gridHorizontalGap");return e-Math.round(e/i)*i<this.vars.snapDistance?Math.round(e/i)*i-2:i+Math.round(e/i)*i-e<this.vars.snapDistance?Math.round(e/i)*i-2:e}if(app.settings.get("grid.objectSnap")){var n=!1,o=this.vars.viewReference.model,r=this.vars.searchForSnapPoints(e,"x",0);if(r||(r=this.vars.searchForSnapPoints(e,"x",o.get("width"))),r||(r=this.vars.searchForSnapPoints(e,"x",o.get("width")/2)),r&&(app.trigger("object:snapped-x",r),n=r.coordinate-r.delta),n!==!1)return n;app.trigger("object:hide-guide-x")}return e},y:function(e){if(app.settings.get("grid.visible")&&app.settings.get("grid.gridSnap")){var t=app.settings.get("grid.gridVerticalGap");return e-Math.round(e/t)*t<this.vars.snapDistance?Math.round(e/t)*t-2:t+Math.round(e/t)*t-e<this.vars.snapDistance?Math.round(e/t)*t-2:e}if(app.settings.get("grid.objectSnap")){var i=!1,n=this.vars.viewReference.model,o=this.vars.searchForSnapPoints(e,"y",0);if(o||(o=this.vars.searchForSnapPoints(e,"y",n.get("height"))),o||(o=this.vars.searchForSnapPoints(e,"y",n.get("height")/2)),o&&(app.trigger("object:snapped-y",o),i=o.coordinate-o.delta),i!==!1)return i;app.trigger("object:hide-guide-y")}return e}}},{}],71:[function(e,t,i){t.exports={isTextObjectBeingEdited:function(e){return $(e.target).closest(".vm-text").length>0&&"true"===$(e.target).closest(".vm-text").attr("contenteditable")}}},{}],72:[function(e,t,i){var n=e("backbone"),o=e("underscore"),r=e("./objectModel.js"),s=e("../mixin/collection/ordinalMixin.js"),a=n.Collection.extend(o.extend({},s,{model:function(e,t){return o.has(e,"type")&&o.has(app.models.objects,e.type)?new app.models.objects[e.type](e,t):(app.trigger("error","Type wasn't specified"),new r(e,t))},initialize:function(){o.bindAll(this,"remove","callbackRemovePendingItems"),this.eventType="objectCollection",this.groups={},this.sortKey="order",this.listenTo(app,"objectCollection:remove:view-model",this.remove),this.listenTo(app,"object:ajax-loaded",this.callbackRemovePendingItems)},getPromises:function(){for(var e=[],t=this.models.length,i=0;t>i;++i)e=e.concat(this.models[i].getPromises());return e},pendingRenderedItems:0,parseGroup:function(e,t){this.pendingRenderedItems=0;var i=e.Objects,n=app.settings.get("zoom"),r=o.isUndefined(e.x)?($(window).width()/2-$(".stage:visible:eq(0)").offset().left)/n:e.x,s=o.isUndefined(e.y)?($(window).height()/2-$(".stage:visible:eq(0)").offset().top)/n:e.y;this.groupObjectCount=i.length,o.each(i,function(e){"svg"===e.type&&this.pendingRenderedItems++,e.x=(o.isUndefined(e.x)?0:e.x)+r,e.y=(o.isUndefined(e.y)?0:e.y)+s,app.trigger("drop-object",e)},this)},callbackRemovePendingItems:function(){0===--this.pendingRenderedItems&&this.updateModelOrdinals()},groupParsers:{}}));t.exports=a},{"../mixin/collection/ordinalMixin.js":65,"./objectModel.js":74,backbone:"backbone",underscore:52}],73:[function(e,t,i){var n=e("backbone"),o=e("underscore");t.exports=n.View.extend({initialize:function(e){this.$slideEl=e.slideEl,this.$slideEl||(this.$slideEl=$("#sl1 article")),this.listenTo(this.collection,"add",this.renderOne),this.listenTo(this.collection,"reset",this.renderAll),this.listenTo(app,"objectCollection:remove:model-view",this.remove),this.listenTo(this.collection,"reset",this.reset),this.subViews={},this.render()},render:function(){return this.renderAll(),this},renderOne:function(e){if(app.views.objects[e.get("type")]){var t=new(app.views.objects[e.get("type")])({model:e});return this.subViews[e.get("id")]=t,this.$slideEl.append(t.$el),this.hasSlideBeenRendered()&&e.trigger("object:render:after"),this}},hasSlideBeenRendered:function(){return 0!==this.$slideEl.parent().parent().length},renderAll:function(){this.collection.each(this.renderOne,this)},remove:function(e){o.has(this.subViews,e.get("id"))&&(this.subViews[e.get("id")].unbind(),this.subViews[e.get("id")].model.unbind("change",this.subViews[e.get("id")].update),this.subViews[e.get("id")].off(),this.subViews[e.get("id")].remove(),delete this.subViews[e.get("id")])},reset:function(){o.each(this.subViews,function(e,t){e.remove()},this)}})},{backbone:"backbone",underscore:52}],74:[function(e,t,i){var n=e("backbone"),o=e("underscore"),r=e("../mixin/model/attributeValidatorMixin.js"),s=e("../../helpers/uniqueId.js");n.DeepModel=e("backbone-deep-model");var a=n.DeepModel.extend(o.extend({},r,{idAttribute:"id",activeMenuItem:".icon_color",tempAttributes:["selected","tempProportionLock"],propertyMenuItems:[".icon_layers",".duplicate-but",".icon_link",".delete-but"],subMenu:{effect:["opacityPopup","dropshadowPopup"],link:["linkPopup"],color:["colorPopup"]},toJSON:function(e){return o.omit(this.attributes,this.tempAttributes)},defineReadyPromise:function(){var e=$.Deferred(),t=this;this.bind("object:render:after",e.resolve),e.done(function(){t.trigger("ready")}).fail(function(){console.log("failed: "+app)}),this.promise=e.promise()},getPromises:function(){return[this.promise]},initialize:function(e){return this.validationError?!1:(o.isNull(this.get("id"))?this.set("id",s.uniqueId("el")):s.notifyIdCounter(this.get("id")),o.isNull(this.id)&&(this.id=this.get("id")),o.isUndefined(this.get("position"))||this.overridePosition(),void this.defineReadyPromise())},overridePosition:function(){var e=app.settings.get("zoom");switch(this.get("position")){case"center:content":this.set("x",(($(window).width()-this.get("width")*e)/2-$(".stage:visible:eq(0)").offset().left)/e),this.set("y",(($(window).height()-this.get("height")*e)/2-$(".stage:visible:eq(0)").offset().top)/e);break;default:this.set("x",0),this.set("y",0)}this.unset("position")},validate:function(e){return this.validateAttributes(e)},rotate:function(e,t,i,n,o){var r=Math.cos,s=Math.sin;o=o*Math.PI/180;var a=(e-i)*r(o)-(t-n)*s(o)+i,l=(e-i)*s(o)+(t-n)*r(o)+n;return[a,l]},getBoundingClientRect:function(){var e=this.get("x"),t=this.get("y"),i=this.get("height"),n=this.get("width"),r=e+n/2,s=t+i/2,a=this.get("rotation"),l=Number.MAX_SAFE_INTEGER,d=Number.MAX_SAFE_INTEGER,c=[[e,t],[e+n,t],[e,t+i],[e+n,t+i]];return o.each(c,function(e){var t=e[0],i=e[1],n=this.rotate(t,i,r,s,a),o=n[0],c=n[1];d>o&&(d=o),l>c&&(l=c)},this),{left:d,top:l,width:n,height:i}},isUserModel:function(){var e=this.get("type");return"audio"!==e&&"collection"!==e},validators:{type:{type:"string",params:{maxlength:32,notblank:!0}},name:{type:"string",params:{maxlength:64,notblank:!0}},x:{type:"number"},y:{type:"number"},lock:{type:"boolean"},opacity:{type:"number",params:{min:0,max:100}},width:{type:"number",params:{min:0,max:1e5}},height:{type:"number",params:{min:0,max:1e5}}},defaults:{id:null,type:null,x:0,y:0,width:0,height:0,name:"",lock:!1,rotation:0,opacity:100,animation:{enter:{delay:0,name:"None"},exit:{delay:0,name:"None"}},proportionLock:!0}}));t.exports=a},{"../../helpers/uniqueId.js":61,"../mixin/model/attributeValidatorMixin.js":66,backbone:"backbone","backbone-deep-model":1,underscore:52}],75:[function(e,t,i){var n=e("Draggable"),o=e("backbone"),r=e("underscore"),s=e("../mixin/view/dragObjectMixin.js"),a=e("../mixin/view/textEditorMixin.js"),l=e("TweenLite");t.exports=o.View.extend(r.extend({},s,a,{wrapperTemplate:"#object",nonTweenable:["name","link","id","type","proportionLock","lock","options","border","patterns","groupType","parseText","colors","param1","animParam1","render","icon","inarow","anim_en","anim_ex","tempProportionLock","text","showText","preserveAspectRatio","showtext","playerid","startTime"],asyncProperties:[],extraDragSpace:30,template:"",events:function(){var e={dblclick:"dblclick"};return"publish"===app.settings.get("editMode")&&r.extend(e,{mouseenter:"mouseEnter",mouseleave:"mouseLeave"}),e},initialize:function(){if(!this.model)throw new Error("model is required to create an object");r.bindAll(this,"update","render","afterRender","bindMousedownEvent","mousedownEvent"),this.model.bind("change",this.update),this.model.bind("object:render:after",this.afterRender),this.selected=!1,this.render(),this.bindMousedownEvent(app.settings.isIE()!==!1)},bindMousedownEvent:function(e){e?(this.$el.off("pointerdown"),this.$el.on("pointerdown",this.mousedownEvent)):(this.$el.off("mousedown"),this.$el.on("mousedown",this.mousedownEvent))},dblclick:function(){},mouseEnter:function(){app.trigger("object:mouseenter",this.model)},mouseLeave:function(){app.trigger("object:mouseleave",this.model)},mousedownEvent:function(e){var t=3,i=1;switch(e.which){case i:this.leftClick(e);break;case t:this.rightClick(e)}},leftClick:function(e){"text"===this.model.get("type")&&$("#"+this.model.get("id")).find(".vm-texteditor-rich").length||window.getSelection().removeAllRanges(),app.trigger("object:click",this.model,e),this.model.get("lock")&&app.trigger("objectLockedView:show",this.model)},rightClick:function(e){return this.isTextObjectBeingEdited(e)?void 0:(app.trigger("contextMenuPopup:show",this.model,e),e.stopPropagation(),e.preventDefault(),!1)},removeNonTweenableChanges:function(e){return r.each(e,function(t,i){r.contains(this.nonTweenable,i)&&delete e[i]},this),e},isRendered:function(){return 0!==this.$el.closest(".stage").length},getSlideId:function(){return this.$el.closest(".stage")[0].id},hasAsyncProperty:function(e){for(var t=0;t<this.asyncProperties.length;++t)if(r.has(e,this.asyncProperties[t]))return!0;return!1},update:function(e,t){var i=this;if(this.hasAsyncProperty(this.model.changed)||"loaded"!==app.settings.get("state")||app.trigger("project:change"),r.has(this.model.changed,"lock")){var o=n.get("#"+i.$el[0].id);o||(this.initDragging(),o=n.get("#"+i.$el[0].id)),r.isUndefined(o)||(this.model.changed.lock?o.disable():o?o.enable():app.trigger("error","Cant setup draggable. Looks like this object is broken. (text is empty) "+i.$el[0].id))}this.model.changed=this.removeNonTweenableChanges(this.model.changed),r.has(this.model.changed,"visibility")&&"hidden"===this.model.changed.visibility&&app.trigger("object:deselect-object",this.model),r.has(this.model.changed,"opacity")&&(l.set(this.$el,{css:{opacity:this.model.get("opacity")/100}}),delete this.model.changed.opacity),r.has(this.model.changed,"order")&&(l.set(this.$el,{css:{"z-index":this.model.get("order")}}),delete this.model.changed.order),this.model.get("lock")===!0&&(r.has(this.model.changed,"x")&&this.model.set("x",this.model.previous("x")),r.has(this.model.changed,"y")&&this.model.set("y",this.model.previous("y"))),r.has(this.model.changed,"text-shadow")&&this.$el.css("text-shadow",this.model.get("text-shadow"));var s=this;!this.model.changed||!r.isUndefined(t)&&t.noCssUpdate||l.to(this.$el,.5,r.extend({onComplete:function(){s.isRendered()&&app.trigger(s.getSlideId()+":change",s.model)}},this.model.changed)),this.addObjectDragBuffer()},addObjectDragBuffer:function(e){if((r.has(this.model.changed,"width")||r.has(this.model.changed,"height"))&&this.$dragTrigger){var t=r.isUndefined(this.model.get("borderStyle"))||"none"===this.model.get("borderStyle").toLowerCase()?0:this.model.get("borderWidth");this.model.get("fixedWidth")&&l.set(this.$vmText,{width:this.model.get("width")-2*this.model.get("padding.horizontal")-2*t}),this.model.get("tableObject")&&l.set(this.$vmTable,{width:this.model.get("width")-2*this.model.get("padding.horizontal")-2*t,height:this.model.get("height")-2*this.model.get("padding.vertical")-2*t}),l.set(this.$dragTrigger,{width:this.model.get("width")+this.extraDragSpace,height:this.model.get("height")+this.extraDragSpace,x:-this.extraDragSpace/2,y:-this.extraDragSpace/2}),l.set(this.$dragTriggerInner,{width:this.model.get("width"),height:this.model.get("height"),x:this.extraDragSpace/2,y:this.extraDragSpace/2})}},render:function(){if($("#"+this.model.el).length)return this;var e=r.template($(this.wrapperTemplate).html()),t=e({object:r.extend({},this.model.toJSON(),app.settings.toJSON()),template:r.template($(this.template).html())});return this.setElement(t),this},afterRender:function(){this.model.changed=this.model.toJSON(),this.model.trigger("change",this.model)},deSelectObject:function(e){this.selected&&(this.$el.removeClass("selected"),this.selected=!1,e&&e.silent||app.trigger("object:deselect-object",this.model))},selectObject:function(e){this.model.get("id")!==e.get("id")||this.selected?this.selected&&this.model.get("id")!==e.get("id")&&this.deSelectObject({silent:!0}):(this.selected=!0,this.$el.addClass("selected"),"collection"===this.model.get("type")&&r.each(this.model.get("group"),function(e){e.get("lock")&&!this.model.get("lock")&&this.model.set("lock",!0)},this))}}))},{"../mixin/view/dragObjectMixin.js":67,"../mixin/view/textEditorMixin.js":71,Draggable:"Draggable",TweenLite:"TweenLite",backbone:"backbone",underscore:52}],76:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),r=o.extend(n.extend({},{initialize:function(){this._super()},activeMenuItem:"",validators:{},defineReadyPromise:function(){
var e=$.Deferred(),t=this,i=app.settings.get("editMode");"editor"===i?this.bind("object:render:after",e.resolve):this.bind("oncanplay",e.resolve),e.done(function(e){t.trigger("ready")}),this.promise=e.promise()},defaults:{state:"stop",visibility:!1,opacity:100,type:"audio",name:"audio_name",loop:!1,animation:{enter:{delay:0,name:"Audio Enter",fadeDuration:3},exit:{delay:0,name:"Audio Exit",fadeDuration:3}},volume:100},play:function(){$("#"+this.get("id")+" audio")[0].play()},pause:function(){$("#"+this.get("id")+" audio")[0].pause()}}));n.defaults(r.prototype.defaults,o.prototype.defaults),t.exports=r},{"./../../objectModel.js":74,underscore:52}],77:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js");t.exports=o.extend({template:"#audio",initialize:function(){this._super(),this.nonTweenable=this.nonTweenable.concat(["enter","exit","volume","hash","fadinDuration","fadeoutDuration","delete_key","loop","size","audioStorage","audioType"]),n.bindAll(this,"timeUpdate","forceStop","timelineSeek","slideComplete","initPlayer"),this.player.addEventListener("timeupdate",this.timeUpdate),app.bind("audio:stop:all",this.forceStop),app.bind("slide:complete-animations",this.slideComplete),this.isFirstBegin=!0},timelineSeek:function(e){var t=Math.max(0,e-this.model.get("animation.enter.delay"));this.player.readyState>0&&(this.player.currentTime=t),this.model.set("state","pause")},forceStop:function(){this.model.set("state","stop")},slideComplete:function(){"Background Music"!==this.model.get("name")&&this.model.set("state","stop")},initPlayer:function(){var e=this.model.get("animation.enter.fadeDuration");0!==e&&(this.player.volume=0),this.player.loop=this.model.get("loop")},setVolume:function(e){this.player.volume=Math.min(Math.max(0,e),100)/100},manageAudioState:function(e){if(!this.player.readyState)return!1;switch(this.model.changed.state){case"stop":this.player.currentTime=0,this.player.pause();break;case"play":this.isFirstBegin&&(this.initPlayer(),this.isFirstBegin=!1),this.player.play();break;case"pause":this.player.pause()}},timeUpdate:function(){this.isStart()?this.fadeIn():this.isEnding()?this.fadeOut():this.player.volume!==this.model.get("volume")/100&&(this.player.volume=this.model.get("volume")/100),console.log("t,v:",this.player.currentTime+","+this.player.volume);var e=$(".clip_progressbar");if(e.length>0){var t=this.player.currentTime/this.player.duration*100;t>99&&(console.log("audio reached 99%"),this.model.trigger("audio:finished")),e.css("width",t+"%")}},isStart:function(){return this.player.currentTime<this.model.get("animation.enter.fadeDuration")},isEnding:function(){return this.player.currentTime>this.player.duration-this.model.get("animation.exit.fadeDuration")},fadeIn:function(){var e=this.model.get("animation.enter.fadeDuration");if(0!==e){var t=this.player.currentTime/e*this.model.get("volume");this.setVolume(t)}},fadeOut:function(){var e=this.model.get("animation.exit.fadeDuration");if(0!==e){var t=this.player.duration-this.player.currentTime,i=t/e*this.model.get("volume");this.setVolume(i)}},update:function(e,t){n.has(this.model.changed,"state")&&(this.manageAudioState(this.model.changed.state),delete this.model.changed.state),n.has(this.model.changed,"volume")&&(this.setVolume(this.model.get("volume")),delete this.model.changed.volume),n.has(this.model.changed,"loop")&&(this.player.loop=this.model.changed.loop,delete this.model.changed.loop),n.has(this.model.changed,"src")&&this.$el.find("audio source").attr("src",this.model.changed.src),this._super(e,t)},render:function(){if($("#"+this.model.el).length)return this;var e=n.template($(this.wrapperTemplate).html()),t=this.model.toJSON(),i="";return i=e(n.isUndefined(t.audioStorage)||""===t.audioStorage?{object:n.extend({},t,{audioStorage:t.hash&&t.hash.indexOf("audio")>-1?app.settings.get("assetsStorage"):app.settings.get("audioStorage")}),template:n.template($(this.template).html())}:{object:n.extend({},t),template:n.template($(this.template).html())}),this.setElement(i),this.model.get("is_bmusic")&&$("body").append(i),this.setPlayerEvents(),this},setPlayerEvents:function(){this.player=this.$el.find("audio")[0],this.player.loadstart=function(){this.model.trigger("onloadstart")}.bind(this),this.player.oncanplaythrough=function(){this.model.trigger("oncanplay")}.bind(this)}})},{"../../objectView.js":75,underscore:52}],78:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),r=o.extend(n.extend({},{initialize:function(){this._super(),this.activeMenuItem=null,this.propertyMenuItems=this.propertyMenuItems.concat(".icon5")},getChartistData:function(){var e=this.get("chartData");if(n.isNull(e))return e;var t=this.get("chartType");e=n.map(e,n.clone);var i={labels:this.getLabels(e)};return i.series=this.getSeries(e),0===i.series.length||0===i.series[0].data.length?null:("Pie"===t&&(i.series=i.series[0].data),this.removeEmptyColumn(i,t))},removeEmptyColumn:function(e,t){var i=this.getMaxLength(e,t);if(e.labels.length<i)for(var o=i-e.labels.length;o>0;)e.labels.push(""),o--;for(var r=0;i>r;r++)if(n.isUndefined(e.labels[r])||""===e.labels[r]||"&nbsp;"===e.labels[r])if("Pie"===t)$.isNumeric(e.series[r])||(e.labels.splice(r,1),e.series.splice(r,1),r--,i-=1);else{for(var s=0;s<e.series.length&&!$.isNumeric(e.series[s].data[r]);s++);if(s===e.series.length){e.labels.splice(r,1);for(var a=0;a<e.series.length;a++)e.series[a].data.splice(r,1);r--,i-=1}}return e},getMaxLength:function(e,t){if("Pie"===t)return e.labels.length>e.series.length?e.labels.length:e.series.length;for(var i=0,n=0;n<e.series.length;n++){var o=e.series[n].data.length;o>i&&(i=o)}return e.labels.length>i?e.labels.length:i},getLabels:function(e){var t=e[0];return this.filterRow(t,"label")},getSeries:function(e){e.shift();for(var t=n.clone(e),i=0;i<t.length;++i){var o=t[i];if(this.isEmptyRow(o)){t.splice(i,t.length-i);break}t[i]={name:o[0],data:this.validateRow(this.filterRow(o,"series"))}}return t},isEmptyRow:function(e){for(var t=0;t<e.length;++t)if(null!==e[t]&&""!==e[t]&&!n.isUndefined(e[t]))return!1;return!0},filterRow:function(e,t){for(var i=1;i<e.length;++i)if(null===e[i]){e.splice(i,e.length-i);break}return e.shift(),e},validateRow:function(e){for(var t=0;t<e.length;++t)"string"==typeof e[t]&&(e[t]=e[t].replace(/[^\d.-]/g,""));return e},validators:{width:{type:"number",params:{min:200,max:1e5}},height:{type:"number",params:{min:200,max:1e5}}},defaults:{type:"chart",height:200,width:200,chartType:"Bar",proportionLock:!1}}));n.defaults(r.prototype.defaults,o.prototype.defaults),n.defaults(r.prototype.validators,o.prototype.validators),t.exports=r},{"./../../objectModel.js":74,underscore:52}],79:[function(e,t,i){var n=e("underscore"),o=e("chartist"),r=e("../../objectView.js");t.exports=r.extend({template:"#chart",initialize:function(){this._super(),this.nonTweenable=this.nonTweenable.concat(["data","subtitle","title"]),n.bindAll(this,"delayChartDraw"),this.isIE=app.settings.isIE(),app.bind("slide:transitionTo",this.delayChartDraw),app.bind("slide:new-selected",this.delayChartDraw),app.bind("timeline:set-play",this.delayChartDraw)},delayChartDraw:function(e){var t=this;if(n.isUndefined(e))setTimeout(function(){t.update(t.model.get("data"),t.model.get("options"))},0);else if(n.isUndefined(e.model))!n.isUndefined(e.get("objects"))&&e.get("objects").length>0&&n.each(e.get("objects"),function(e){return e.id===t.model.get("id")?(setTimeout(function(){t.update(t.model.get("data"),t.model.get("options"))},0),!1):void 0});else{var i=e.model.get("objects");i.length>0&&n.each(i,function(e){return e.id===t.model.get("id")?(setTimeout(function(){t.update(t.model.get("data"),t.model.get("options"))},0),!1):void 0})}},refresh:function(){this.model.changed=n.clone(this.model.attributes),this.update(this.model)},update:function(e,t){var i=this,r=this.model.get("chartType"),s=this.model.getChartistData();if(null!==s){n.has(this.model.changed,"backgroundColor")&&(this.$el.css("backgroundColor",this.model.changed.backgroundColor),delete this.model.changed.backgroundColor);var a=n.isUndefined(this.model.get("options").showLegend)||this.model.get("options").showLegend;if(i.legendAttributesChanged())if(a){var l=$.extend(!0,{},s);"Pie"===r&&(l=this.generatePercentage(l)),this.generateLegend(l)}else this.removeLegend();n.has(this.model.changed,"subtitle")&&(this.$el.find(".chart-subtitle").html(this.model.changed.subtitle),delete this.model.changed.subtitle),n.has(this.model.changed,"title")&&(this.$el.find(".chart-title").html(this.model.changed.title),delete this.model.changed.title),n.has(this.model.changed,"titleColor")&&(this.$el.find(".chart-title").css("color",this.model.changed.titleColor),delete this.model.changed.titleColor),n.has(this.model.changed,"subtitleColor")&&(this.$el.find(".chart-subtitle").css("color",this.model.changed.subtitleColor),delete this.model.changed.subtitleColor),n.has(this.model.changed,"width")&&(this.model.get("options").width=this.model.changed.width);var d=this.model.get("height"),c=this.model.get("width");if(this.$el.find(".chart-title").css({"font-size":(21*d/500).toFixed(1)+"px"}),this.$el.find(".chart-subtitle").css({"font-size":(15*d/500).toFixed(1)+"px"}),this.$el.find(".ct-legend td").css({"font-size":(17*d/450).toFixed(1)+"px",height:25*d/500+"px"}),this.$el.find(".ct-legend .legend-color").css({width:18*d/450+"px",height:18*d/450+"px"}),this.$el.find(".ct-legend.ct-legend-inside").css({bottom:3*d/450+"px"}),this.$el.find(".ct-legend .legend-label").css({"margin-left":22*d/450+"px"}),n.has(this.model.changed,"height")||n.has(this.model.changed,"chartType")||n.has(this.model.changed,"chartData")||n.has(this.model.changed,"options")&&n.has(this.model.changed.options,"showLegend")){var h=this.$el.find(".chart-title"),u=this.$el.find(".chart-subtitle"),p=this.$el.find(".ct-legend"),g=0;g=n.isUndefined(this.model.changed.height)?Math.round(h.height()+20*parseFloat(this.model.get("height")/500)):Math.round(h.height()+20*parseFloat(this.model.changed.height/500));var f,m=Math.round(u.height()),v=0;v="Pie"!==r&&0===p.height()?18:Math.round(p.height()),f=a?v>0?(this.model.changed.height>0?this.model.changed.height:this.model.get("height"))-g-m-v:this.model.get("options").height:(this.model.changed.height>0?this.model.changed.height:this.model.get("height"))-g-m,this.model.get("options").height=f>0?f:1}var b=JSON.parse(JSON.stringify(this.model.get("options"))),y=0,w=0,T=s.series.length,x="Bar"===r&&!n.isUndefined(b.horizontalBars)&&b.horizontalBars,k=!n.isUndefined(b.showValue)&&b.showValue,S=n.isUndefined(b.showAnimation)||b.showAnimation,P=!n.isUndefined(b.showPercentage)&&b.showPercentage;if(x){var j=$("#"+this.model.get("id"));w=d-j.find(".chart-title").height()-j.find(".chart-subtitle").height()-j.find(".ct-legend").height()}else w=c;if("Bar"!==r||n.isUndefined(s.series[0]))"Pie"!==r&&(b.chartPadding={top:15,right:20,bottom:5,left:30});else{var C=s.series[0].data.length;if(b.stackBars&&T>1?b.seriesBarDistance=w/(1.4*T):b.seriesBarDistance=w/(T*C*1.7),k&&P&&T>1)for(var M=[],z=0;C>z;z++){M[z]=parseFloat(s.series[0].data[z]);for(var I=1;T>I;I++)M[z]+=parseFloat(s.series[I].data[z])}if(x){var _,L,A;_="Download"===app.settings.get("project_type")||this.isIE?0:(w-50)/(2*C)-8,b.chartPadding={top:15,right:40,bottom:5,left:10},L=1===T||b.stackBars?w/C:w/T,A=L>200?120:L>150?100:L>100?80:70,b.axisY={offset:A,labelOffset:{x:0,y:_}}}}if(1===T&&!n.isUndefined(s.series[0]))var C=s.series[0].data.length;if("Pie"===r){var E=!n.isUndefined(b.showCallOuts)&&b.showCallOuts;if(k)if(E)b.chartPadding=this.model.get("options").height/10,b.showLabel=!1;else{if(b.showLabel=!0,b.labelPosition="inside",b.labelOffset=Math.min(this.model.get("options").height,this.model.get("width"))/10,b.donut&&(b.labelOffset=b.labelOffset/3),P){var O=$.extend(!0,{},s);s.labels=this.labelPercentage(O.series)}else s.labels=s.series;b.chartPadding=this.model.get("options").height/15}else b.showLabel=!1,b.chartPadding=this.model.get("options").height/15;delete b.showGrid,b.axisX&&(delete b.axisX,delete b.axisY),b.donut&&(y=i.model.get("options").height/4,b.donutWidth=y)}"Line"===r&&(b.lineSmooth=!0,b.fullWidth=!1),b.plugins=[o.plugins.tooltip()];var R=$.extend(!0,{},this.model.changed);if($("#"+this.$el[0].id+" .ct-chart").length>0){this.$el.find(".ct-tooltip").remove(),this.chart=new o[r]("#"+this.$el[0].id+" .ct-chart",s,b);var D=i.model.get("seriesColors"),F=i.model.get("labelsColor"),W=0,V=100,B=800;this.chart.on("draw",function(e){var t,s="";if("slice"===e.type){var a,l,h=o.polarToCartesian(e.center.x,e.center.y,e.radius+10,e.startAngle),u=o.polarToCartesian(e.center.x,e.center.y,e.radius+10,e.endAngle);b.donut?(a=new o.Svg.Path(!1).move(u.x,u.y).arc(e.radius+10,e.radius+10,0,e.endAngle-e.startAngle>180,0,h.x,h.y),l=e.group.elem("path",{d:a.stringify()},"hover-donut-splice",!0),l.attr({stroke:D[e.index],"stroke-width":y})):(a=new o.Svg.Path(!0).move(u.x,u.y).arc(e.radius+10,e.radius+10,0,e.endAngle-e.startAngle>180,0,h.x,h.y).line(e.center.x,e.center.y),l=e.group.elem("path",{d:a.stringify()},"hover-splice",!0),l.attr({fill:D[e.index]}))}n.contains(e.element.classes(),"ct-slice-pie")&&"slice"===e.type||n.contains(e.element.classes(),"ct-area")&&"area"===e.type?(s=D[e.index],n.isUndefined(s)||e.element.attr({style:"fill: "+s+";"})):n.contains(e.element.classes(),"ct-slice-donut")&&"slice"===e.type?(s=D[e.index],n.isUndefined(s)?e.element.attr({style:"stroke-width: "+y+"px;"}):e.element.attr({style:"stroke: "+s+"; stroke-width: "+y+"px;"})):n.isUndefined(e.seriesIndex)||(s=D[e.seriesIndex],"Bar"===r?(2>T&&(s=D[e.index]),t=b.stackBars&&T>1?w/(1.8*C):T>1?w/(T*C*1.7):w/(T*C*2),n.isUndefined(s)?e.element.attr({style:"stroke-width: "+t+"px;"}):e.element.attr({style:"stroke:"+s+";color:"+s+";stroke-width: "+t+"px;"})):n.isUndefined(s)||e.element.attr({style:"stroke:"+s+";color:"+s}));var p;if(k){var g,f,m,v,j,z,I;if("bar"===e.type&&(I=e.value,I>0&&(P&&(I=1===T?Math.round(100*I/i.totalSum(e.series.data))+"%":Math.round(100*I/M[e.index])+"%"),!n.isUndefined(b.stackBars)&&b.stackBars?(z=Math.min(5*t/25,16),x?(v=e.x1+.5*e.element.width(),j=e.y1+.12*t,m="rotate(0)"):(v=e.x1+e.element.width()/2+4*z/12,j=e.y1-e.element.height()/2,m="rotate(-90,"+v+","+j+")"),p=new o.Svg("text"),p.text(I.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),p.addClass("ct-barlabel"),p.attr({x:v,y:j,"text-anchor":"middle",transform:m,style:"font-family: arial,sans-serif; font-size: "+z+"px; fill: rgb(125, 125, 125);"}),e.group.append(p),g=x?e.element.width():e.element.height(),f=p._node.clientWidth,f+7>=g&&p.remove()):(z=Math.min(11*t/25,16),x?(j=e.y1+4*z/12,v=100,m="rotate(0)"):(v=e.x1+e.element.width()/2+4*z/12,j=b.height-50,m="rotate(-90,"+v+","+j+")"),p=new o.Svg("text"),p.text(I.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),p.addClass("ct-barlabel"),p.attr({x:v,y:j,"text-anchor":"start",transform:m,style:"font-family: arial,sans-serif; font-size: "+z+"px; fill: rgb(125, 125, 125);"}),e.group.append(p)))),"slice"===e.type&&E&&(I=e.value,I>0)){P&&(I=Math.round(100*I/e.totalDataSum)+"%");var _=e.radius,L=(e.endAngle+e.startAngle)/2,A=Math.min(d,c);b.donut&&(_+=y/2);var O,H=e.center.x+(_+A/25)*Math.sin(L*(Math.PI/180)),U=e.center.y-(_+A/25)*Math.cos(L*(Math.PI/180)),N=L-360*parseInt(L/360);O=N>0&&180>N?"start":"end",z=16*Math.min(d,w)/450,p=new o.Svg("text"),p.text(I.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),p.attr({x:H,y:U,"text-anchor":O,style:"font-family: arial,sans-serif; font-size: "+z+"px; fill: rgb(125, 125, 125);"}),e.group.append(p)}}if("Pie"===r)i.$el.find(".legend-label").css({color:F}),i.$el.find(".ct-label").css({"font-size":(17*Math.min(i.model.get("height"),i.model.get("width"))/450).toFixed(1)+"px"});else{i.$el.find(".ct-label").css({fill:F,color:F}),i.$el.find(".ct-label").css({"font-size":"13px"});var Y;1===T||"Bar"===r&&b.stackBars?Y=w/C>200?16:w/C>150?14:w/C>100?12:11:"Pie"!==r&&(Y=w/T>200?16:w/T>150?14:w/T>100?12:11),i.$el.find(".ct-label").css({"font-size":Y+"px"})}if("Bar"===r&&(b.horizontalBars?i.$el.find(".ct-label.ct-vertical").css({display:"block"}):i.$el.find(".ct-label.ct-horizontal").css({display:"block"})),S&&!$("#play-overlay").is(":visible")&&("editor"!==app.settings.get("editMode")||i.$el.closest(".flotr_c").length>0)&&"Download"!==app.settings.get("project_type")&&(delete R.seriesColors,delete R.labelsColor,n.isUndefined(R.options)||(delete R.options.showCallOuts,delete R.options.showPercentage),n.isEmpty(R.options)&&delete R.options,!n.isEmpty(R)))if("Line"===r)b.showLine&&!b.showArea?"line"===e.type?(e.element.animate({opacity:{begin:W*V+1e3,dur:B,from:0,to:1}}),W++):"point"===e.type&&(e.element.animate({x1:{begin:W*V+500,dur:B,from:e.x-10,to:e.x,easing:"easeOutQuart"},x2:{begin:W*V+500,dur:B,from:e.x-10,to:e.x,easing:"easeOutQuart"},opacity:{begin:W*V+500,dur:B,from:0,to:1,easing:"easeOutQuart"}}),W++):b.showLine&&b.showArea?"line"!==e.type&&"area"!==e.type||e.element.animate({d:{begin:1e3*e.index+500,dur:1e3,from:e.path.clone().scale(1,0).translate(0,e.chartRect.height()).stringify(),to:e.path.clone().stringify(),easing:o.Svg.Easing.easeOutQuint}}):b.showLine||b.showArea||"point"===e.type&&(e.element.animate({x1:{begin:W*V+500,dur:B,from:e.x-10,to:e.x,easing:"easeOutQuart"},x2:{begin:W*V+500,dur:B,from:e.x-10,to:e.x,easing:"easeOutQuart"},opacity:{begin:W*V+500,dur:B,from:0,to:1,easing:"easeOutQuart"}}),W++);else if("Pie"===r){if(B=3e3/T,b.donut)if("slice"===e.type){if(E&&p.animate({opacity:{begin:(i.isIE?Math.max(0,W-1):W)*B+500,dur:B,from:0,to:1,easing:o.Svg.Easing.easeOutQuint,fill:"freeze"}}),i.isIE)e.element.animate({opacity:{begin:W*B+500,dur:B,from:0,to:1,easing:o.Svg.Easing.easeOutQuint,fill:"freeze"}});else{var q=e.element._node.getTotalLength();if(e.element.attr({"stroke-dasharray":q+"px "+q+"px"}),e.element.attr({"stroke-dashoffset":-q+"px"}),i.isSafari())e.element.animate({"stroke-dashoffset":{begin:W*B+500,dur:B,from:-q+"px",to:"0px",easing:o.Svg.Easing.easeOutQuint,fill:"freeze"}});else{var X=new o.EventEmitter,G=i.$el.find("svg").find(".hover-donut-splice").eq(0);G.attr("class","hover-donut-splice-hide"),X.addEventHandler("animationEnd",function(){G.attr("class","hover-donut-splice")}),e.element.animate({"stroke-dashoffset":{begin:W*B+500,dur:B,from:-q+"px",to:"0px",easing:o.Svg.Easing.easeOutQuint,fill:"freeze"}},!0,X)}}W++}else"label"===e.type&&e.element.animate({opacity:{begin:(i.isIE?Math.max(0,W-1):W)*B+500,dur:B,from:0,to:1,easing:o.Svg.Easing.easeOutQuint,fill:"freeze"}});else if("slice"===e.type||"label"===e.type){if("label"===e.type&&W--,"slice"===e.type&&k&&E&&p.animate({opacity:{begin:(i.isIE?Math.max(0,W-1):W)*B+500,dur:B,from:0,to:1,easing:o.Svg.Easing.easeOutQuint,fill:"freeze"}}),i.isSafari()||i.isIE)e.element.animate({opacity:{begin:W*B+500,dur:B,from:0,to:1,easing:o.Svg.Easing.easeOutQuint,fill:"freeze"}});else{var J=new o.EventEmitter,Q=i.$el.find(".ct-series").eq(0);Q.css({"pointer-events":"none"}),J.addEventHandler("animationEnd",function(){Q.css({"pointer-events":"auto"})}),e.element.animate({opacity:{begin:W*B+500,dur:B,from:0,to:1,easing:o.Svg.Easing.easeOutQuint,fill:"freeze"}},!0,J)}W++}}else if("Bar"===r&&"bar"===e.type){var K=!n.isUndefined(b.stackBars)&&b.stackBars&&T>1;k&&(K?p.animate({opacity:{begin:500+800*W,dur:800,from:0,to:1,easing:o.Svg.Easing.easeOutQuint,fill:"freeze"}}):p.animate({opacity:{begin:500,dur:3e3,from:0,to:1,easing:o.Svg.Easing.easeOutQuint,fill:"freeze"}})),!n.isUndefined(b.horizontalBars)&&b.horizontalBars?K?(e.element.animate({x2:{begin:500+800*W,dur:800,from:e.x1,to:e.x2,easing:o.Svg.Easing.easeOutQuint}}),(e.index+1)%C===0&&W++):e.element.animate({x2:{begin:500,dur:3e3,from:e.x1,to:e.x2,easing:o.Svg.Easing.easeOutQuint}}):K?(e.element.animate({y2:{begin:500+800*W,dur:800,from:e.y1,to:e.y2,easing:o.Svg.Easing.easeOutQuint}}),(e.index+1)%C===0&&W++):e.element.animate({y2:{begin:500,dur:3e3,from:e.y1,to:e.y2,easing:o.Svg.Easing.easeOutQuint}})}}),delete this.model.changed.chartType,delete this.model.changed.chartData,delete this.model.changed.options,delete this.model.changed.seriesColors,this._super(e,t)}}},updateChartAttributesChanged:function(){return n.has(this.model.changed,"chartData")||n.has(this.model.changed,"options")||n.has(this.model.changed,"width")||n.has(this.model.changed,"height")},legendAttributesChanged:function(){return n.has(this.model.changed,"chartData")||n.has(this.model.changed,"seriesColors")||n.has(this.model.changed,"chartType")||n.has(this.model.changed,"options")&&n.has(this.model.changed.options,"showLegend")},generateLegend:function(e){var t=this.$el.find(".ct-legend");t.html("");var i=0,o="abcdefghijklmno".split(""),r=this.model.get("seriesColors");if("undefined"!=typeof r&&null!==r&&"undefined"!=typeof e)if("Pie"===this.model.get("chartType")){t[0].classList.add("ct-legend-inside"),t[0].id="pie-legend";var s=document.createElement("table");s.classList.add("ct-legend-table"),e.labels.forEach(function(e,t){if(t%2===0){var i=document.createElement("tr");i.classList.add("ct-legend-row"),s.appendChild(i)}var n=document.createElement("td");n.setAttribute("valign","top"),n.className="ct-series-"+t,n.setAttribute("data-legend",t);var o=document.createElement("div");o.className="legend-color",o.style.cssText="background-color:"+r[t]+';"';var a=document.createElement("div");a.classList.add("legend-label"),a.appendChild(document.createTextNode(e.name||e)),n.appendChild(a),n.insertBefore(o,a),s.lastChild.appendChild(n)}),t[0].appendChild(s)}else t[0].classList.remove("ct-legend-inside"),n.each(e.series,function(e){if(n.isObject(e)&&e.name){var s="ct-series-"+o[i],a=r[i++];n.isUndefined(a)?t.html(t.html()+'<li class="ct-legend-series '+s+'"><div class="ct-bar">'+e.name+"</div></li>"):t.html(t.html()+'<li class="ct-legend-series '+s+'"><div style="color:'+a+';"">'+e.name+"</div></li>")}},this)},generatePercentage:function(e){for(var t=0,i=0;i<e.series.length;i++)t+=parseFloat(e.series[i]);for(i=0;i<e.series.length;i++)e.labels[i]=e.labels[i]+" ("+Math.round(parseFloat(e.series[i])/t*100)+"%)";return e},totalSum:function(e){for(var t=0,i=0;i<e.length;i++)t+=parseFloat(e[i]);return t},labelPercentage:function(e){for(var t=this.totalSum(e),i=0;i<e.length;i++)e[i]=Math.round(parseFloat(e[i])/t*100)+"%";return e},removeLegend:function(){this.$el.find(".ct-legend").empty()},render:function(){this._super()},afterRender:function(){this.update(this.model.get("data"),this.model.get("options")),this._super()},dblclick:function(){app.trigger("chartPopup:show",this.model)},isSafari:function(){return-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")}})},{"../../objectView.js":75,chartist:"chartist",underscore:52}],80:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),r=o.extend(n.extend({},{initialize:function(){this._super(),this.propertyMenuItems=this.propertyMenuItems.concat(".icon5"),this.subMenu=n.extend({},o.prototype.subMenu),this.activeMenuItem=".icon5"},validators:{param1:{type:"number",params:{min:1,max:250}},animParam1:{type:"number",params:{min:0,max:100}},text:{type:"string",params:{notblank:!0}},render:{type:"string",params:{notblank:!0}}},defaults:{type:"clock",height:200,width:200}}));n.defaults(r.prototype.defaults,o.prototype.defaults),t.exports=r},{"./../../objectModel.js":74,underscore:52}],81:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js"),r=e("TweenLite");t.exports=o.extend({template:"#clock",settings:{widgets:["clockPopup"]},initialize:function(){this.nonTweenable=this.nonTweenable.concat(["style","hour","minute","second","period","showSecond","showPeriod","realTime"]),this._super()},update:function(e,t){this.model.subMenu.settings=n.extend({},this.settings.widgets),this._super(e,t),this.clockRender()},render:function(){this._super(),this.clockRender()},clockRender:function(){this.timer&&clearInterval(this.timer);var e=this.model.get("style"),t=this.model.get("hour"),i=this.model.get("minute"),n=this.model.get("second"),o=this.model.get("period"),r=this.$el.find(".handle-second"),s=this.$el.find(".period");this.$el.find("svg").hide(),this.$el.find("#"+e).show(),this.model.get("showSecond")===!1?r.hide():setTimeout(function(){r.show()},200),this.model.get("showPeriod")===!1?s.hide():s.show(),this.model.get("realTime")===!0?this.calcRealTime():this.showClock(t,i,n,o)},calcRealTime:function(){var e=this,t=new Date,i=t.getHours(),n=t.getMinutes(),o=t.getSeconds(),r="";r=12>i?"AM":"PM",this.timer=setInterval(function(){o+=1,o%60===0&&(o=0,n+=1,n%60===0&&(n=0,i+=1,24===i&&(i=0),r=12>i?"AM":"PM")),e.showClock(i,n,o,r)},1e3)},showClock:function(e,t,i,n){var o=this.$el.find(".handle-hour"),s=this.$el.find(".handle-minute"),a=this.$el.find(".handle-second"),l=this.$el.find(".period"),d=this.$el.find(".time");0===e?r.set(o,{rotation:30*e,transformOrigin:"100px 100px"}):(e=e>12?e-12:e,r.to(o,.5,{rotation:30*e+.5*t,transformOrigin:"100px 100px"})),0===t?r.set(s,{rotation:6*t,transformOrigin:"100px 100px"}):r.to(s,.5,{rotation:6*t,transformOrigin:"100px 100px"}),0===i?r.set(a,{rotation:6*i,transformOrigin:"100px 100px"}):r.to(a,.5,{rotation:6*i,transformOrigin:"100px 100px"}),l.text(n),this.model.get("showSecond")===!1?(d.text(e+":"+this.twoDigit(t)),r.set(d,{fontSize:"48px",x:"27",y:"115"}),10>e&&r.set(d,{fontSize:"53px",x:"40"})):(d.text(e+":"+this.twoDigit(t)+":"+this.twoDigit(i)),r.set(d,{fontSize:"30px",x:"27",y:"115"}),10>e&&r.set(d,{fontSize:"31px",x:"40"}))},twoDigit:function(e){return(10>e?"0":"")+e},dblclick:function(){app.trigger("clockPopup:show",this.model)}})},{"../../objectView.js":75,TweenLite:"TweenLite",underscore:52}],82:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),r=o.extend(n.extend({},{initialize:function(){this._super(),this.propertyMenuItems=this.propertyMenuItems.concat(".icon5"),this.subMenu=n.extend({},o.prototype.subMenu),this.activeMenuItem=".icon5"},validators:{param1:{type:"number",params:{min:1,max:250}},animParam1:{type:"number",params:{min:0,max:100}},text:{type:"string",params:{notblank:!0}},render:{type:"string",params:{notblank:!0}}},defaults:{type:"countdown",height:200,width:200}}));n.defaults(r.prototype.defaults,o.prototype.defaults),t.exports=r},{"./../../objectModel.js":74,underscore:52}],83:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js"),r=e("TweenLite");t.exports=o.extend({template:"#countdown",settings:{widgets:["countdownPopup"]},initialize:function(){this.nonTweenable=this.nonTweenable.concat(["style","format","value","param1","animparam1","alert"]),n.bindAll(this,"checkCurrentSlide"),app.bind("slide:transitionTo",this.checkCurrentSlide),this._super()},update:function(e,t){var i=this.model.get("style"),o=this.model.get("format"),s=this.model.get("value"),a=this.model.get("animParam1"),l=this.model.get(i+"Color1"),d=this.model.get(i+"Color2"),c=this.model.get(i+"Color3"),h=this.$el.find(".value"),u=this.$el.find(".bgValue"),p=this.$el.find(".format"),g=this.$el.find(".range");n.has(this.model.changed,"style")&&(this.$el.find("svg").hide(),this.$el.find("#"+i).show(),r.set(h,{fill:l}),r.set(p,{fill:l}),r.set(u,{fill:d}),r.set(g,{stroke:c}),delete this.model.changed.style),(n.has(this.model.changed,"value")||n.has(this.model.changed,"format")||n.has(this.model.changed,"param1")||n.has(this.model.changed,"animParam1"))&&(r.set(g,{drawSVG:a+"%"}),p.text(o),s=Math.floor(s*a/100),h.text(this.twoDigit(s)),delete this.model.changed.value,delete this.model.changed.format,delete this.model.changed.param1,delete this.model.changed.animParam1),n.has(this.model.changed,i+"Color1")&&(r.set(h,{fill:l}),r.set(p,{fill:l}),delete this.model.changed[i+"Color1"]),n.has(this.model.changed,i+"Color2")&&(r.set(u,{fill:d}),delete this.model.changed[i+"Color2"]),n.has(this.model.changed,i+"Color3")&&(r.set(g,{stroke:c}),delete this.model.changed[i+"Color3"]),this.model.subMenu.settings=n.extend({},this.settings.widgets),this._super(e,t)},render:function(){this._super(),this.counterRender()},counterRender:function(){var e=this.model.get("style"),t=this.model.get("format"),i=this.model.get("value"),n=this.model.get("animParam1"),o=this.model.get(e+"Color1"),s=this.model.get(e+"Color2"),a=this.model.get(e+"Color3"),l=this.$el.find(".value"),d=this.$el.find(".bgValue"),c=this.$el.find(".format"),h=this.$el.find(".range");this.$el.find("svg").hide(),this.$el.find("#"+e).show(),r.set(l,{fill:o}),r.set(c,{fill:o}),r.set(d,{fill:s}),r.set(h,{drawSVG:n+"%",rotation:270,transformOrigin:"100px 100px",stroke:a}),c.text(t),i=Math.floor(i*n/100),l.text(this.twoDigit(i))},checkCurrentSlide:function(e){$("#"+this.model.get("id")).parents(".stage").attr("id")===e.model.get("id")?(this.startCounting(),console.log("start")):console.log("not start")},startCounting:function(){var e,t=this,i=this.model.get("value"),n=this.model.get("format"),o=this.model.get("animParam1"),s=this.model.get("alert"),a=this.$el.find(".value"),l=this.$el.find(".range");"sec"===n&&(e=1),"min"===n&&(e=60),"hrs"===n&&(e=3600),this.timer&&clearInterval(this.timer),r.set(l,{drawSVG:o+"%"}),r.to(l,i*e,{drawSVG:"0",ease:"Linear.easeNone"}),i=Math.floor(i*o/100),a.text(t.twoDigit(i)),this.timer=setInterval(function(){i-=1,r.to(l,i*e,{drawSVG:"0",ease:"Linear.easeNone"}),0>i?(clearInterval(this.timer),s===!0&&console.log("Ding Ding Ding...")):a.text(t.twoDigit(i))},1e3*e)},twoDigit:function(e){return(10>e?"0":"")+e},dblclick:function(){app.trigger("countdownPopup:show",this.model)}})},{"../../objectView.js":75,TweenLite:"TweenLite",underscore:52}],84:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),r=o.extend(n.extend({},{initialize:function(){this._super(),this.propertyMenuItems=this.propertyMenuItems.concat(".icon_specialeffects"),this.activeMenuItem=null},defaults:{type:"iframe",height:150,width:200,src:"",mode:"iframe",html:""}}));n.defaults(r.prototype.defaults,o.prototype.defaults),t.exports=r},{"./../../objectModel.js":74,underscore:52}],85:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js");t.exports=o.extend({template:"#iframe",initialize:function(){this._super(),app.settings.get("Html5Download")&&-1===this.model.get("src").indexOf("http")&&this.model.set("src","http:"+this.model.get("src"))},update:function(e,t){var i=["src","height","width"];n.each(i,function(e){n.has(this.model.changed,e)&&(this.$el.find("iframe").attr(e,""),this.$el.find("iframe").attr(e,this.model.changed[e]))},this),n.has(this.model.changed,"src")&&""===this.model.changed.src&&this.$el.find("iframe").remove(),n.has(this.model.changed,"html")&&this.$el.find(".drag-inner").html(this.model.changed.html),this._super(e,t)},render:function(){this._super()},dblclick:function(){app.trigger("iframePopup:show",this.model)}})},{"../../objectView.js":75,underscore:52}],86:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),r=o.extend(n.extend({},{initialize:function(){this._super(),this.propertyMenuItems=this.propertyMenuItems.concat(".edit_image",".icon6",".icon_specialeffects"),this.activeMenuItem=".icon_specialeffects",this.get("src")||this.set("src","404.jpg")},validators:{reflection:{type:"number",params:{min:0,max:100}}},defaults:{type:"image",src:"",reflection:0},isCroped:function(){return"undefined"!=typeof this.get("crop")&&null!==this.get("crop")}}));n.defaults(r.prototype.defaults,o.prototype.defaults),n.defaults(r.prototype.validators,o.prototype.validators),t.exports=r},{"./../../objectModel.js":74,underscore:52}],87:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js"),r=e("TweenLite"),s=o.extend({template:"#image",imageDbclick:function(){$("#upload-trigger").click()},events:{dblclick:"imageDbclick"},isCropInProgress:function(){return"none"!==$(".crop_section").css("display")},initialize:function(){n.bindAll(this,"destroyCrop","beginDragging","finishDragging","restoreCrop","replaceImage"),this.listenTo(this.model,"object:destroy-crop",this.destroyCrop),this.listenTo(this.model,"object:restore-crop",this.restoreCrop),app.listenTo(app,"object:handle-drag-start",this.beginDragging),
app.listenTo(app,"object:handle-drag-end",this.finishDragging),app.listenTo(app,"image-replaced",this.replaceImage),this._super(),this.nonTweenable=this.nonTweenable.concat(["crop","ext","filename"])},beginDragging:function(){this.dragActive=!0},finishDragging:function(){this.dragActive=!1},replaceImage:function(e){parseInt(this.model.get("assetid"),10)===parseInt(e.id,10)&&(this.model.set("ext",e.ext),this.model.set("originsize",e.size),this.model.set("size",parseInt(e.size/1e3,10)+" KB"),this.model.set("filename",e.hash),this.model.set("updatedat",e.updatedAt),this.model.set("updatedby",e.updatedBy),this.model.set("src",e.hash+"."+e.ext),this.model.set("proportionLock",0),setTimeout(function(){app.trigger("save:force")},3e3))},update:function(e,t){if(n.has(this.model.changed,"reflection")){var i=this.model.changed.reflection,o="below 0px -webkit-gradient(linear, left top, left bottom, from(transparent), color-stop("+(100-i)+"%, transparent), to(rgba(255,255,255,0.2)))";i?r.set(this.$el.find("img"),{css:{"-webkit-box-reflect":o}}):r.set(this.$el.find("img"),{css:{"-webkit-box-reflect":"none"}}),delete this.model.changed.reflection}n.has(this.model.changed,"src")&&($("#"+this.$el[0].id+" .crop_wrapper img").attr("src",app.settings.get("usersDataStorage")+this.model.changed.src),delete this.model.changed.src),(n.has(this.model.changed,"crop")||this.isCropedImageBeingResized())&&(this.renderCropAttributes(),delete this.model.changed.crop),""!==this.model.get("src")?this.disableLoading():this.enableLoading(),this._super(e,t)},enableLoading:function(){r.set(this.$el.find(".loader_code"),{css:{display:"block"}})},disableLoading:function(){r.set(this.$el.find(".loader_code"),{css:{display:"none"}})},isCropedImageBeingResized:function(){return this.dragActive&&!this.isCropInProgress()&&this.model.isCroped()&&(n.has(this.model.changed,"height")||n.has(this.model.changed,"width"))},restoreCrop:function(e){if(!n.isUndefined(e)){var t=100*this.model.get("width")/e.width,i=100*this.model.get("height")/e.height,o=e.originX*this.model.get("width"),r=e.originY*this.model.get("height");this.model.set({width:t,height:i,x:this.model.get("x")+o,y:this.model.get("y")+r}),this.model.set("crop",e),app.trigger("object:deselect-object")}},destroyCrop:function(){if(this.model.isCroped()){var e=this.model.get("crop"),t=e.width/100*this.model.get("width"),i=e.height/100*this.model.get("height"),n=this.model.get("x")-e.originX*t,o=this.model.get("y")-e.originY*i;this.model.set({width:t,height:i,x:n,y:o}),$("#"+this.model.get("id")+" .crop_wrapper img").css({width:"100%",height:"100%",top:"0px",left:"0px",clip:"auto"}),this.model.set("crop",null),app.trigger("object:resize",this.model)}},renderCropAttributes:function(){var e=this.model.get("crop");if(!n.isNull(e)){var t=e.width/100*this.model.get("width"),i=e.height/100*this.model.get("height"),o=e.originX*t,r=e.originY*i;$("#"+this.model.get("id")+" div img").css({height:e.height+"%",width:e.width+"%",position:"absolute",left:-o+"px",top:-r+"px",clip:"rect("+r+"px "+(o+this.model.get("width"))+"px "+(r+this.model.get("height"))+"px "+o+"px)"})}},render:function(){if(this._super(),this.model.isCroped()){var e=this;setTimeout(function(){e.renderCropAttributes()},200)}this.$el.find("img").error(function(){$(this).attr("src",app.settings.get("usersDataStorage")+"404.jpg")}),this.bindMouseEvent()},bindMouseEvent:function(){this.bindMousedownEvent(),"publish"===app.settings.get("editMode")&&(this.$el.on("mouseenter",function(){this.mouseEnter()}.bind(this)),this.$el.on("mouseleave",function(){this.mouseLeave()}.bind(this)))}});n.defaults(s.prototype.events,o.prototype.events),n.defaults(s.prototype.render,o.prototype.render),t.exports=s},{"../../objectView.js":75,TweenLite:"TweenLite",underscore:52}],88:[function(e,t,i){t.exports={array:{settings:{widgets:["arrayPopup","colorPopup"]},render:function(){var e=20,t=this.$el.find("canvas")[0].getContext("2d"),i=e*parseInt(this.model.get("inarow")),n=44*Math.ceil(parseInt(this.model.get("param1"))/parseInt(this.model.get("inarow"))),o=this.model.get("width")/i;this.model.get("height")!==n*o&&this.model.set({height:n*o});var r=this.model.get("width")/i,s=this.model.get("height")/n;this.$el.find("canvas").width()!==this.model.get("width")||this.$el.find("canvas").height()!==this.model.get("height")?(this.$el.find("canvas").attr("width",this.model.get("width")),this.$el.find("canvas").attr("height",this.model.get("height"))):t.clearRect(0,0,this.model.get("width"),this.model.get("height")),t.save();var a=Math.min(r,s);t.scale(a,a);for(var l=0,d=0;d<parseInt(this.model.get("param1"));d++)d%parseInt(this.model.get("inarow"))===0&&0!==d&&l++,"male"!==this.model.get("icon")&&("mix"!==this.model.get("icon")||d%2!==0&&0!==d)||(t.save(),t.translate(0+20*(d-l*parseInt(this.model.get("inarow"))),44*l),t.beginPath(),t.moveTo(0,0),t.lineTo(17,0),t.lineTo(17,44),t.lineTo(0,44),t.closePath(),t.clip(),t.translate(0,0),t.translate(0,0),t.scale(1,1),t.translate(.795,.905),t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,t.save(),this.model.get("colors")&&(t.fillStyle=this.model.get("colors")[0]),t.beginPath(),t.moveTo(16.189,11.477),t.bezierCurveTo(16.189,9.353,14.498,7.631,12.411,7.631),t.bezierCurveTo(12.394,7.631,12.379,7.633,12.363,7.633),t.lineTo(12.363,7.631),t.lineTo(3.865,7.631),t.lineTo(3.865,7.635),t.bezierCurveTo(3.837,7.635,3.8070000000000004,7.631,3.7790000000000004,7.631),t.bezierCurveTo(1.692,7.631,0,9.353,0,11.477),t.bezierCurveTo(0,11.505,.002,11.533,.003,11.561),t.lineTo(0,11.561),t.lineTo(0,23.427),t.lineTo(.004,23.427),t.bezierCurveTo(.025,24.178,.651,24.782,1.425,24.782),t.bezierCurveTo(2.198,24.782,2.825,24.178,2.846,23.427),t.lineTo(2.85,23.427),t.lineTo(2.85,13.745),t.lineTo(3.866,13.745),t.lineTo(3.866,41.067),t.lineTo(3.871,41.067),t.bezierCurveTo(3.899,41.909,4.735,42.586,5.7669999999999995,42.586),t.bezierCurveTo(6.7989999999999995,42.586,7.635,41.909,7.662999999999999,41.067),t.lineTo(7.667999999999999,41.067),t.lineTo(7.667999999999999,24.181),t.lineTo(8.56,24.181),t.lineTo(8.56,41.068),t.lineTo(8.566,41.068),t.bezierCurveTo(8.593,41.91,9.430000000000001,42.586999999999996,10.462,42.586999999999996),t.bezierCurveTo(11.493999999999998,42.586999999999996,12.329,41.91,12.357,41.068),t.lineTo(12.363,41.068),t.lineTo(12.363,13.745),t.lineTo(13.34,13.745),t.lineTo(13.34,23.427),t.lineTo(13.344,23.427),t.bezierCurveTo(13.365,24.178,13.991,24.782,14.764999999999999,24.782),t.bezierCurveTo(15.538999999999998,24.782,16.165,24.178,16.186,23.427),t.lineTo(16.19,23.427),t.lineTo(16.19,11.562),t.lineTo(16.188000000000002,11.562),t.bezierCurveTo(16.187,11.533,16.189,11.505,16.189,11.477),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),this.model.get("colors")&&(t.fillStyle=this.model.get("colors")[0]),t.beginPath(),t.arc(8.094,3.492,3.492,0,6.283185307179586,!0),t.closePath(),t.fill(),t.stroke(),t.restore(),t.restore()),("female"===this.model.get("icon")||"mix"===this.model.get("icon")&&d%2!==0&&0!==d)&&(t.save(),t.translate(0+20*(d-l*parseInt(this.model.get("inarow"))),44*l),t.beginPath(),t.moveTo(0,0),t.lineTo(20,0),t.lineTo(20,42),t.lineTo(0,42),t.closePath(),t.clip(),t.translate(0,0),t.translate(0,0),t.scale(1,1),t.translate(.383,.905),t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,t.save(),t.fillStyle=this.model.get("colors")[1],t.beginPath(),t.arc(9.793,3.44,3.44,0,6.283185307179586,!0),t.closePath(),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle=this.model.get("colors")[1],t.beginPath(),t.moveTo(13.249,40.769),t.lineTo(13.249,28.795),t.lineTo(18.113,28.795),t.lineTo(13.553999999999998,14.313000000000002),t.lineTo(13.553999999999998,12.544000000000002),t.bezierCurveTo(13.578999999999999,12.548000000000002,13.722999999999999,12.604000000000003,14.034999999999998,13.332000000000003),t.bezierCurveTo(14.383,14.143000000000002,16.459,21.400000000000002,17.064999999999998,22.310000000000002),t.bezierCurveTo(17.671,23.218000000000004,18.633,23.080000000000002,19.269999999999996,22.520000000000003),t.bezierCurveTo(19.756999999999994,22.094000000000005,19.491999999999997,20.837000000000003,19.268999999999995,19.831000000000003),t.bezierCurveTo(19.006999999999994,18.906000000000002,16.761999999999993,10.922000000000002,16.459999999999994,10.358000000000002),t.bezierCurveTo(16.156999999999993,9.794000000000002,15.756999999999994,9.295000000000002,15.302999999999994,8.871000000000002),t.bezierCurveTo(14.848999999999993,8.447000000000003,13.554999999999994,7.820000000000002,13.554999999999994,7.820000000000002),t.lineTo(5.99,7.820000000000002),t.bezierCurveTo(5.99,7.820000000000002,4.695,8.447000000000003,4.241,8.871000000000002),t.bezierCurveTo(3.7869999999999995,9.294000000000002,3.3869999999999996,9.794000000000002,3.085,10.358000000000002),t.bezierCurveTo(2.782,10.922000000000002,.5369999999999999,18.906000000000002,.2759999999999998,19.831000000000003),t.bezierCurveTo(.051999999999999796,20.837000000000003,-.2130000000000002,22.094,.2729999999999998,22.520000000000003),t.bezierCurveTo(.9089999999999998,23.080000000000002,1.8719999999999999,23.218000000000004,2.4779999999999998,22.310000000000002),t.bezierCurveTo(3.0839999999999996,21.400000000000002,5.16,14.143000000000002,5.507,13.332000000000003),t.bezierCurveTo(5.819999999999999,12.604000000000003,5.9639999999999995,12.549000000000003,5.989,12.544000000000002),t.lineTo(5.989,14.313000000000002),t.lineTo(1.4290000000000003,28.795),t.lineTo(5.989,28.795),t.lineTo(5.989,40.769000000000005),t.fill(),t.stroke(),t.restore(),t.save(),t.fillStyle=this.model.get("colors")[1],t.beginPath(),t.moveTo(9.284,40.769),t.lineTo(9.284,28.795),t.lineTo(9.955,28.795),t.lineTo(9.955,40.769),t.fill(),t.stroke(),t.restore(),t.restore());t.restore()}}}},{}],89:[function(e,t,i){t.exports=function(){function e(e,t,i){e.save(),e.translate(8+40*(i-1),0),e.translate(0,0),e.beginPath(),e.moveTo(0,0),e.lineTo(41.719906,0),e.lineTo(41.719906,79.1875),e.lineTo(0,79.1875),e.closePath(),e.clip(),e.translate(0,0),e.translate(0,0),e.translate(-201,-143),e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.restore(),e.save(),e.restore(),e.save(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.restore(),e.save(),e.translate(-9.6557007,-.34375),e.beginPath(),e.moveTo(210.6557,137.19182),e.lineTo(252.375606,137.19182),e.quadraticCurveTo(252.375606,137.19182,252.375606,137.19182),e.lineTo(252.375606,224.82183300000003),e.quadraticCurveTo(252.375606,224.82183300000003,252.375606,224.82183300000003),e.lineTo(210.6557,224.82183300000003),e.quadraticCurveTo(210.6557,224.82183300000003,210.6557,224.82183300000003),e.lineTo(210.6557,137.19182),e.quadraticCurveTo(210.6557,137.19182,210.6557,137.19182),e.closePath(),e.clip(),e.save();var n=e.createLinearGradient(314.9238,218.72169,314.9238,148.18311);n.addColorStop(.0165,"#808080"),n.addColorStop(.1209,"#D9D9D9"),n.addColorStop(.3407,"#FFFFFF"),n.addColorStop(.6538,"#FFFFFF"),n.addColorStop(.8791,"#E0E0E0"),n.addColorStop(1,"#828282"),e.fillStyle=n,e.beginPath(),e.moveTo(208.5376,148.1826),e.lineTo(421.3096,148.1826),e.quadraticCurveTo(421.3096,148.1826,421.3096,148.1826),e.lineTo(421.3096,218.721701),e.quadraticCurveTo(421.3096,218.721701,421.3096,218.721701),e.lineTo(208.5376,218.721701),e.quadraticCurveTo(208.5376,218.721701,208.5376,218.721701),e.lineTo(208.5376,148.1826),e.quadraticCurveTo(208.5376,148.1826,208.5376,148.1826),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#7d7e81",e.beginPath(),e.moveTo(250.8174,147.5322),e.lineTo(250.8174,218.35941),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(249.9502,148.3989),e.lineTo(249.9502,217.7813),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(251.6841,148.3989),e.lineTo(251.6841,217.7813),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#7d7e81",e.beginPath(),e.moveTo(296.92679,147.5313),e.lineTo(296.92679,218.35941),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(296.0596,148.3989),e.lineTo(296.0596,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(297.7944,148.3989),e.lineTo(297.7944,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#7d7e81",e.beginPath(),e.moveTo(342.89261,147.5313),e.lineTo(342.89261,218.35941),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(342.02539,148.3989),e.lineTo(342.02539,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(343.75879,148.3989),e.lineTo(343.75879,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#d5d7d8",e.lineWidth=2,e.beginPath(),e.moveTo(424.9658,213.2412),e.bezierCurveTo(424.9658,215.3652,423.0888,217.0879,420.7656,217.0879),e.lineTo(209.4419,217.0879),e.bezierCurveTo(207.1231,217.0879,205.24020000000002,215.3652,205.24020000000002,213.2412),e.lineTo(205.24020000000002,152.8662),e.bezierCurveTo(205.24020000000002,150.74169999999998,207.12300000000002,149.0195,209.4419,149.0195),e.lineTo(420.7656,149.0195),e.bezierCurveTo(423.0888,149.0195,424.9658,150.74169999999998,424.9658,152.8662),e.lineTo(424.9658,213.2412),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#757679",e.lineWidth=3,e.beginPath(),e.moveTo(423.7383,214.6025),e.bezierCurveTo(423.7383,216.8242,421.87789999999995,218.625,419.5791,218.625),e.lineTo(210.3398,218.625),e.bezierCurveTo(208.0419,218.625,206.1796,216.8242,206.1796,214.6025),e.lineTo(206.1796,151.43359999999998),e.bezierCurveTo(206.1796,149.21089999999998,208.0419,147.41019999999997,210.3398,147.41019999999997),e.lineTo(419.5791,147.41019999999997),e.bezierCurveTo(421.87789999999995,147.41019999999997,423.7383,149.21099999999998,423.7383,151.43359999999998),e.lineTo(423.7383,214.6025),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#c4c4c4",e.lineWidth=4,e.beginPath(),e.moveTo(425.7559,216.2891),e.bezierCurveTo(425.7559,218.6289,423.8584,220.5274,421.5176,220.5274),e.lineTo(208.3281,220.5274),e.bezierCurveTo(205.9873,220.5274,204.0898,218.629,204.0898,216.2891),e.lineTo(204.0898,149.74609999999998),e.bezierCurveTo(204.0898,147.40579999999997,205.9873,145.50879999999998,208.3281,145.50879999999998),e.lineTo(421.5176,145.50879999999998),e.bezierCurveTo(423.8584,145.50879999999998,425.7559,147.40579999999997,425.7559,149.74609999999998),e.lineTo(425.7559,216.2891),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#ea1d25",e.lineWidth=4,e.beginPath(),e.moveTo(341.8877,145.5088),e.lineTo(421.5176,145.5088),e.bezierCurveTo(423.8584,145.5088,425.7559,147.4058,425.7559,149.7461),e.lineTo(425.7559,216.28910000000002),e.bezierCurveTo(425.7559,218.62890000000002,423.8584,220.52740000000003,421.5176,220.52740000000003),e.lineTo(341.8877,220.52740000000003),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#858585",e.beginPath(),e.moveTo(427.4902,148.2632),e.lineTo(427.4902,217.48340000000002),e.bezierCurveTo(427.4902,219.9189,425.5625,221.89260000000002,423.1884,221.89260000000002),e.lineTo(206.8003,221.89260000000002),e.bezierCurveTo(204.4253,221.89260000000002,202.49949999999998,219.919,202.49949999999998,217.48340000000002),e.lineTo(202.49949999999998,148.2632),e.bezierCurveTo(202.49949999999998,145.82770000000002,204.4253,143.854,206.8003,143.854),e.lineTo(423.1885,143.854),e.fill(),e.stroke(),e.restore(),e.restore(),e.restore()}function t(e,t,i){e.save(),e.translate(8+40*(i-1),0),e.fillStyle="#ffffff",e.fillRect(40,5,5,70),e.save(),e.translate(0,0),e.beginPath(),e.moveTo(0,0),e.lineTo(47.266228,0),e.lineTo(47.266228,79.1875),e.lineTo(0,79.1875),e.closePath(),e.clip(),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(-201,-143),e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.restore(),e.save(),e.restore(),e.save(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.restore(),e.save(),e.transform(-1,0,0,1,450.26623,-.34375),e.beginPath(),e.moveTo(193.70395,134.32486),e.lineTo(249.26622899999998,134.32486),e.quadraticCurveTo(249.26622899999998,134.32486,249.26622899999998,134.32486),e.lineTo(249.26622899999998,233.663475),e.quadraticCurveTo(249.26622899999998,233.663475,249.26622899999998,233.663475),e.lineTo(193.70395,233.663475),e.quadraticCurveTo(193.70395,233.663475,193.70395,233.663475),e.lineTo(193.70395,134.32486),e.quadraticCurveTo(193.70395,134.32486,193.70395,134.32486),e.closePath(),e.clip(),e.save();var n=e.createLinearGradient(314.9238,218.72169,314.9238,148.18311);n.addColorStop(.0165,"#808080"),n.addColorStop(.1209,"#D9D9D9"),n.addColorStop(.3407,"#FFFFFF"),n.addColorStop(.6538,"#FFFFFF"),n.addColorStop(.8791,"#E0E0E0"),n.addColorStop(1,"#828282"),e.fillStyle=n,e.beginPath(),e.moveTo(208.5376,148.1826),e.lineTo(421.3096,148.1826),e.quadraticCurveTo(421.3096,148.1826,421.3096,148.1826),e.lineTo(421.3096,218.721701),e.quadraticCurveTo(421.3096,218.721701,421.3096,218.721701),e.lineTo(208.5376,218.721701),e.quadraticCurveTo(208.5376,218.721701,208.5376,218.721701),e.lineTo(208.5376,148.1826),e.quadraticCurveTo(208.5376,148.1826,208.5376,148.1826),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#7d7e81",e.beginPath(),e.moveTo(250.8174,147.5322),e.lineTo(250.8174,218.35941),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(249.9502,148.3989),e.lineTo(249.9502,217.7813),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(251.6841,148.3989),e.lineTo(251.6841,217.7813),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#7d7e81",e.beginPath(),e.moveTo(296.92679,147.5313),e.lineTo(296.92679,218.35941),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(296.0596,148.3989),e.lineTo(296.0596,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(297.7944,148.3989),e.lineTo(297.7944,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#7d7e81",e.beginPath(),e.moveTo(342.89261,147.5313),e.lineTo(342.89261,218.35941),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(342.02539,148.3989),e.lineTo(342.02539,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(343.75879,148.3989),e.lineTo(343.75879,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#d5d7d8",e.lineWidth=2,e.beginPath(),e.moveTo(424.9658,213.2412),e.bezierCurveTo(424.9658,215.3652,423.0888,217.0879,420.7656,217.0879),e.lineTo(209.4419,217.0879),e.bezierCurveTo(207.1231,217.0879,205.24020000000002,215.3652,205.24020000000002,213.2412),e.lineTo(205.24020000000002,152.8662),e.bezierCurveTo(205.24020000000002,150.74169999999998,207.12300000000002,149.0195,209.4419,149.0195),e.lineTo(420.7656,149.0195),e.bezierCurveTo(423.0888,149.0195,424.9658,150.74169999999998,424.9658,152.8662),e.lineTo(424.9658,213.2412),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#757679",e.lineWidth=3,e.beginPath(),e.moveTo(423.7383,214.6025),e.bezierCurveTo(423.7383,216.8242,421.87789999999995,218.625,419.5791,218.625),e.lineTo(210.3398,218.625),e.bezierCurveTo(208.0419,218.625,206.1796,216.8242,206.1796,214.6025),e.lineTo(206.1796,151.43359999999998),e.bezierCurveTo(206.1796,149.21089999999998,208.0419,147.41019999999997,210.3398,147.41019999999997),e.lineTo(419.5791,147.41019999999997),e.bezierCurveTo(421.87789999999995,147.41019999999997,423.7383,149.21099999999998,423.7383,151.43359999999998),e.lineTo(423.7383,214.6025),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle=this.model.get("colors")[0],e.lineWidth=4,e.beginPath(),e.moveTo(425.7559,216.2891),e.bezierCurveTo(425.7559,218.6289,423.8584,220.5274,421.5176,220.5274),e.lineTo(208.3281,220.5274),e.bezierCurveTo(205.9873,220.5274,204.0898,218.629,204.0898,216.2891),e.lineTo(204.0898,149.74609999999998),e.bezierCurveTo(204.0898,147.40579999999997,205.9873,145.50879999999998,208.3281,145.50879999999998),e.lineTo(421.5176,145.50879999999998),e.bezierCurveTo(423.8584,145.50879999999998,425.7559,147.40579999999997,425.7559,149.74609999999998),e.lineTo(425.7559,216.2891),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle=this.model.get("colors")[0],e.lineWidth=4,e.beginPath(),e.moveTo(341.8877,145.5088),e.lineTo(421.5176,145.5088),e.bezierCurveTo(423.8584,145.5088,425.7559,147.4058,425.7559,149.7461),e.lineTo(425.7559,216.28910000000002),e.bezierCurveTo(425.7559,218.62890000000002,423.8584,220.52740000000003,421.5176,220.52740000000003),e.lineTo(341.8877,220.52740000000003),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#858585",e.beginPath(),e.moveTo(427.4902,148.2632),e.lineTo(427.4902,217.48340000000002),e.bezierCurveTo(427.4902,219.9189,425.5625,221.89260000000002,423.1884,221.89260000000002),e.lineTo(206.8003,221.89260000000002),e.bezierCurveTo(204.4253,221.89260000000002,202.49949999999998,219.919,202.49949999999998,217.48340000000002),e.lineTo(202.49949999999998,148.2632),e.bezierCurveTo(202.49949999999998,145.82770000000002,204.4253,143.854,206.8003,143.854),e.lineTo(423.1885,143.854),e.fill(),e.stroke(),e.restore(),e.restore(),e.restore()}var i=function(e){e.save(),e.translate(0,0),e.fillStyle="#ffffff",e.fillRect(2,2,5,72),e.beginPath(),e.moveTo(0,0),e.lineTo(8.1091423,0),e.lineTo(8.1091423,79.1875),e.lineTo(0,79.1875),e.closePath(),e.clip(),e.translate(0,0),e.translate(0,0),e.translate(-201,-143),e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(-1,-.34375),e.beginPath(),e.moveTo(200.81781,141.38202),e.lineTo(210.1091422,141.38202),e.quadraticCurveTo(210.1091422,141.38202,210.1091422,141.38202),e.lineTo(210.1091422,223.36436600000002),e.quadraticCurveTo(210.1091422,223.36436600000002,210.1091422,223.36436600000002),e.lineTo(200.81781,223.36436600000002),e.quadraticCurveTo(200.81781,223.36436600000002,200.81781,223.36436600000002),e.lineTo(200.81781,141.38202),e.quadraticCurveTo(200.81781,141.38202,200.81781,141.38202),e.closePath(),e.clip(),e.save();var t=e.createLinearGradient(314.9238,218.72169,314.9238,148.18311);t.addColorStop(.0165,"#808080"),t.addColorStop(.1209,"#D9D9D9"),t.addColorStop(.3407,"#FFFFFF"),t.addColorStop(.6538,"#FFFFFF"),t.addColorStop(.8791,"#E0E0E0"),t.addColorStop(1,"#828282"),e.fillStyle=t,e.beginPath(),e.moveTo(208.5376,148.1826),e.lineTo(421.3096,148.1826),e.quadraticCurveTo(421.3096,148.1826,421.3096,148.1826),e.lineTo(421.3096,218.721701),e.quadraticCurveTo(421.3096,218.721701,421.3096,218.721701),e.lineTo(208.5376,218.721701),e.quadraticCurveTo(208.5376,218.721701,208.5376,218.721701),e.lineTo(208.5376,148.1826),e.quadraticCurveTo(208.5376,148.1826,208.5376,148.1826),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#7d7e81",e.beginPath(),e.moveTo(250.8174,147.5322),e.lineTo(250.8174,218.35941),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(249.9502,148.3989),e.lineTo(249.9502,217.7813),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(251.6841,148.3989),e.lineTo(251.6841,217.7813),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#7d7e81",e.beginPath(),e.moveTo(296.92679,147.5313),e.lineTo(296.92679,218.35941),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(296.0596,148.3989),e.lineTo(296.0596,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(297.7944,148.3989),e.lineTo(297.7944,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#7d7e81",e.beginPath(),e.moveTo(342.89261,147.5313),e.lineTo(342.89261,218.35941),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(342.02539,148.3989),e.lineTo(342.02539,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(343.75879,148.3989),e.lineTo(343.75879,217.7803),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#d5d7d8",e.lineWidth=2,e.beginPath(),e.moveTo(424.9658,213.2412),e.bezierCurveTo(424.9658,215.3652,423.0888,217.0879,420.7656,217.0879),e.lineTo(209.4419,217.0879),e.bezierCurveTo(207.1231,217.0879,205.24020000000002,215.3652,205.24020000000002,213.2412),e.lineTo(205.24020000000002,152.8662),e.bezierCurveTo(205.24020000000002,150.74169999999998,207.12300000000002,149.0195,209.4419,149.0195),e.lineTo(420.7656,149.0195),e.bezierCurveTo(423.0888,149.0195,424.9658,150.74169999999998,424.9658,152.8662),e.lineTo(424.9658,213.2412),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#757679",e.lineWidth=3,e.beginPath(),e.moveTo(423.7383,214.6025),e.bezierCurveTo(423.7383,216.8242,421.87789999999995,218.625,419.5791,218.625),e.lineTo(210.3398,218.625),e.bezierCurveTo(208.0419,218.625,206.1796,216.8242,206.1796,214.6025),e.lineTo(206.1796,151.43359999999998),e.bezierCurveTo(206.1796,149.21089999999998,208.0419,147.41019999999997,210.3398,147.41019999999997),e.lineTo(419.5791,147.41019999999997),e.bezierCurveTo(421.87789999999995,147.41019999999997,423.7383,149.21099999999998,423.7383,151.43359999999998),e.lineTo(423.7383,214.6025),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#c4c4c4",e.lineWidth=4,e.beginPath(),e.moveTo(425.7559,216.2891),e.bezierCurveTo(425.7559,218.6289,423.8584,220.5274,421.5176,220.5274),e.lineTo(208.3281,220.5274),e.bezierCurveTo(205.9873,220.5274,204.0898,218.629,204.0898,216.2891),e.lineTo(204.0898,149.74609999999998),e.bezierCurveTo(204.0898,147.40579999999997,205.9873,145.50879999999998,208.3281,145.50879999999998),e.lineTo(421.5176,145.50879999999998),e.bezierCurveTo(423.8584,145.50879999999998,425.7559,147.40579999999997,425.7559,149.74609999999998),e.lineTo(425.7559,216.2891),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#ea1d25",e.lineWidth=4,e.beginPath(),e.moveTo(341.8877,145.5088),e.lineTo(421.5176,145.5088),e.bezierCurveTo(423.8584,145.5088,425.7559,147.4058,425.7559,149.7461),e.lineTo(425.7559,216.28910000000002),e.bezierCurveTo(425.7559,218.62890000000002,423.8584,220.52740000000003,421.5176,220.52740000000003),e.lineTo(341.8877,220.52740000000003),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#858585",e.beginPath(),e.moveTo(427.4902,148.2632),e.lineTo(427.4902,217.48340000000002),e.bezierCurveTo(427.4902,219.9189,425.5625,221.89260000000002,423.1884,221.89260000000002),e.lineTo(206.8003,221.89260000000002),e.bezierCurveTo(204.4253,221.89260000000002,202.49949999999998,219.919,202.49949999999998,217.48340000000002),e.lineTo(202.49949999999998,148.2632),e.bezierCurveTo(202.49949999999998,145.82770000000002,204.4253,143.854,206.8003,143.854),e.lineTo(423.1885,143.854),e.fill(),e.stroke(),e.restore(),e.restore()},n=function(n,o){i.call(this,n);for(var r=this.model.get("iDigits"),s=1;r>s;s++)e(n,"",s);t.call(this,n,"",r)},o=function(e,t,i){var n=e/Math.pow(10,t-i-1);return n-=n%1,n%10},r=function(e,t,i,n){e.restore(),e.save(),this.renderVectorText(String(n),this.$el.find("canvas")[0],60,10+40*i,60,"helvetica","normal","normal")};return{digitaldial:{settings:{widgets:["numberPopup","digitaldialsPopup"]},render:function(){var e=this.$el.find("canvas")[0].getContext("2d");this.$el.find("canvas").width()!==this.model.get("width")||this.$el.find("canvas").height()!==this.model.get("height")?(this.$el.find("canvas").attr("width",this.model.get("width")),this.$el.find("canvas").attr("height",this.model.get("height")),e.clearRect(0,0,this.model.get("width"),this.model.get("height"))):e.clearRect(0,0,this.model.get("width"),this.model.get("height")),e.save();var t=parseInt(this.model.get("iDigits"));e.scale(this.model.get("height")/80,this.model.get("height")/80),n.call(this,e),e.fillStyle=this.model.get("textColor"),e.fillStyle="black";for(var i=parseInt(this.model.get("numParam")),s=0;t>s;s++){var a=o(i,t,s);r.call(this,e,"",s,a)}e.restore(),e.restore()}}}}()},{}],90:[function(e,t,i){t.exports=function(){function e(e){e.save(),e.translate(0,0),e.beginPath(),e.moveTo(0,0),e.lineTo(202,0),e.lineTo(202,202),e.lineTo(0,202),e.closePath(),e.clip(),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(.666992,.583984),e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.save(),e.restore(),e.save(),e.restore(),e.restore(),e.save(),this.model.get("radialStroke")&&n.call(this,e),e.restore(),e.save(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.restore(),e.save();var r=e.createLinearGradient(58.530273,71.368652,120.928581,115.060417);r.addColorStop(0,"#F0F0F0"),r.addColorStop(.259647,"#EBEBEB"),r.addColorStop(.555871,"#DDDDDD"),r.addColorStop(.868948,"#C6C6C6"),r.addColorStop(.978022,"#BDBDBD"),e.fillStyle=r,e.strokeStyle="#86888a",e.beginPath(),e.arc(100.3125,100.625,93.90625,0,6.283185307179586,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f3f4f4",e.globalAlpha=.9599999785423279,e.beginPath(),e.arc(100.5,100.5,92.573242,0,6.283185307179586,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.save(),e.restore(),e.save(),e.restore(),e.restore(),e.save(),r=e.createLinearGradient(99.715332,16.381836,99.715332,52.254238),r.addColorStop(.368132,"#EDEDED"),r.addColorStop(1,"#F2F2F2"),e.fillStyle=r,e.strokeStyle="#a5a7aa",e.beginPath(),e.moveTo(11.210938,100.084473),e.bezierCurveTo(11.210938,51.205567,50.835938,11.580567000000002,99.715821,11.580567000000002),e.bezierCurveTo(148.593751,11.580567000000002,188.219727,51.205567,188.219727,100.084473),e.fill(),e.stroke(),e.restore(),e.save(),e.save(),e.save(),e.fillStyle="#fafafa",e.beginPath(),e.moveTo(113.88916,20.965332),e.bezierCurveTo(121.373047,21.064941,128.597168,22.227539,135.452148,24.274414),e.bezierCurveTo(124.24658199999999,17.98584,111.43994099999999,14.324219,97.790039,14.142578),e.bezierCurveTo(53.005858999999994,13.547363,16.204589999999996,50.47168,15.591308999999995,96.61816400000001),e.lineTo(32.054199999999994,96.83691400000001),e.bezierCurveTo(35.899414,53.827637,71.265137,20.398926,113.88916,20.965332),e.closePath(),e.fill(),e.stroke(),e.restore(),e.restore(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#a1a3a6",e.beginPath(),e.moveTo(10.75,100.591309),e.lineTo(188.496094,100.591309),e.fill(),e.stroke(),
e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#e0e1e2",e.lineWidth=1.5,e.beginPath(),e.moveTo(11.026367,101.422852),e.lineTo(188.774414,101.422852),e.fill(),e.stroke(),e.restore(),e.save(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.restore(),e.save(),r=e.createLinearGradient(99.853516,142.013672,99.853516,131.667114),r.addColorStop(0,"#D9D9D9"),r.addColorStop(.506525,"#E6E6E6"),r.addColorStop(1,"#EDEDED"),e.fillStyle=r,e.strokeStyle="#9b9da0",e.beginPath(),e.moveTo(147.985352,142.172852),e.bezierCurveTo(147.985352,145.304688,145.891602,147.841797,143.31152400000002,147.841797),e.lineTo(56.394531,147.841797),e.bezierCurveTo(53.813476,147.841797,51.721679,145.30468800000003,51.721679,142.172852),e.lineTo(51.721679,127.99804700000001),e.bezierCurveTo(51.721679,124.86621100000002,53.813476,122.32910200000002,56.394531,122.32910200000002),e.lineTo(143.311523,122.32910200000002),e.bezierCurveTo(145.89160099999998,122.32910200000002,147.98535099999998,124.86621100000002,147.98535099999998,127.99804700000001),e.lineTo(147.98535099999998,142.172852),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f1f2f2",e.beginPath(),e.moveTo(147.140625,141.580078),e.bezierCurveTo(147.140625,144.47363299999998,145.084961,146.81640599999997,142.54882800000001,146.81640599999997),e.lineTo(57.15625,146.81640599999997),e.bezierCurveTo(54.620117,146.81640599999997,52.564453,144.47363299999998,52.564453,141.58007799999996),e.lineTo(52.564453,128.48535099999995),e.bezierCurveTo(52.564453,125.59081999999995,54.620117,123.24706999999995,57.15625,123.24706999999995),e.lineTo(142.54882800000001,123.24706999999995),e.bezierCurveTo(145.08496100000002,123.24706999999995,147.140625,125.59081999999995,147.140625,128.48535099999995),e.lineTo(147.140625,141.580078),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),o.call(this,e),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#fff200",e.lineWidth=8,e.beginPath(),e.moveTo(133.157227,59.757324),e.bezierCurveTo(124.25976600000001,52.414550999999996,112.85351600000001,48.003417999999996,100.416993,48.003417999999996),e.bezierCurveTo(88.180665,48.003417999999996,76.942384,52.272949,68.109376,59.402832),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#f7f7f7",e.beginPath(),e.moveTo(144.583008,129.894531),e.bezierCurveTo(144.583008,132.995117,143.463867,135.505859,142.083008,135.505859),e.lineTo(57.33300800000001,135.505859),e.bezierCurveTo(55.952149000000006,135.505859,54.83300800000001,132.995117,54.83300800000001,129.89453099999997),e.lineTo(54.83300800000001,129.89453099999997),e.bezierCurveTo(54.83300800000001,126.79492199999997,55.952149000000006,124.28222599999997,57.33300800000001,124.28222599999997),e.lineTo(142.083008,124.28222599999997),e.bezierCurveTo(143.463867,124.282227,144.583008,126.794922,144.583008,129.894531),e.lineTo(144.583008,129.894531),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.restore(),e.save(),t.call(this,e),i.call(this,e),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#939598",e.beginPath(),e.moveTo(181.583008,98.136719),e.lineTo(186.895508,98.134766),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#919396",e.beginPath(),e.moveTo(17.684082,99.428223),e.lineTo(12.684082,99.362793),e.bezierCurveTo(12.688965,99.019043,12.695312,98.67627,12.704102,98.333496),e.lineTo(17.702149,98.458496),e.bezierCurveTo(17.694336,98.781738,17.687988,99.10498,17.684082,99.428223),e.lineTo(17.684082,99.428223),e.closePath(),e.moveTo(180.561523,89.754395),e.bezierCurveTo(180.528808,89.432129,180.49414,89.11084,180.45800699999998,88.79052800000001),e.lineTo(185.42577999999997,88.225098),e.bezierCurveTo(185.46484299999997,88.565918,185.50097499999998,88.907715,185.53613199999998,89.249512),e.lineTo(180.561523,89.754395),e.lineTo(180.561523,89.754395),e.closePath(),e.moveTo(18.505859,88.791016),e.lineTo(13.555664,88.087891),e.bezierCurveTo(13.604004,87.746582,13.654297,87.40625,13.707519,87.065918),e.lineTo(18.647949,87.835449),e.bezierCurveTo(18.598633,88.15332,18.55127,88.472168,18.505859,88.791016),e.lineTo(18.505859,88.791016),e.closePath(),e.moveTo(178.796875,79.243652),e.bezierCurveTo(178.72168,78.927734,178.64502,78.612793,178.566895,78.298339),e.lineTo(183.418458,77.089355),e.bezierCurveTo(183.501466,77.421386,183.582032,77.753906,183.66113399999998,78.087402),e.lineTo(178.796875,79.243652),e.lineTo(178.796875,79.243652),e.closePath(),e.moveTo(20.695313,78.358398),e.lineTo(15.879883,77.01171799999999),e.bezierCurveTo(15.972168,76.68163999999999,16.065918,76.35253799999998,16.16211,76.02392499999999),e.lineTo(20.961914999999998,77.42333899999998),e.bezierCurveTo(20.871582,77.734375,20.782715,78.045898,20.695313,78.358398),e.lineTo(20.695313,78.358398),e.closePath(),e.moveTo(175.65332,69.063965),e.bezierCurveTo(175.537597,68.762695,175.419922,68.461914,175.300293,68.16211),e.lineTo(179.943848,66.308594),e.bezierCurveTo(180.071289,66.62793,180.196778,66.948242,180.320313,67.269043),e.lineTo(175.65332,69.063965),e.lineTo(175.65332,69.063965),e.closePath(),e.moveTo(24.229492,68.292969),e.lineTo(19.630859,66.329102),e.bezierCurveTo(19.766113,66.01318400000001,19.902343000000002,65.698243,20.041015,65.383301),e.lineTo(24.617187,67.397949),e.bezierCurveTo(24.486328,67.695313,24.356934,67.993652,24.229492,68.292969),e.lineTo(24.229492,68.292969),e.closePath(),e.moveTo(171.165039,59.408691),e.bezierCurveTo(171.009766,59.126464,170.852539,58.845214,170.693848,58.565428999999995),e.lineTo(175.043457,56.099608999999994),e.bezierCurveTo(175.21191399999998,56.39697199999999,175.378906,56.69579999999999,175.54394499999998,56.994628999999996),e.lineTo(171.165039,59.408691),e.lineTo(171.165039,59.408691),e.closePath(),e.moveTo(29.047363,58.770508),e.lineTo(24.742675000000002,56.227539),e.bezierCurveTo(24.917968000000002,55.930664,25.094726,55.635254,25.273437,55.34082),e.lineTo(29.545898,57.937988000000004),e.bezierCurveTo(29.37793,58.214355,29.211914,58.492188,29.047363,58.770508),e.lineTo(29.047363,58.770508),e.closePath(),e.moveTo(165.407715,50.463867),e.bezierCurveTo(165.215332,50.205566,165.02148499999998,49.948242,164.825684,49.692871000000004),e.lineTo(168.79638699999998,46.653808000000005),e.bezierCurveTo(169.00488299999998,46.926757,169.211426,47.200683000000005,169.41650399999997,47.475585),e.lineTo(165.407715,50.463867),e.lineTo(165.407715,50.463867),e.closePath(),e.moveTo(35.058594,49.957031),e.lineTo(31.121094,46.875976),e.bezierCurveTo(31.332031999999998,46.606445,31.544434,46.33789,31.757324,46.0708),e.lineTo(35.663574,49.19287),e.bezierCurveTo(35.460449,49.446289,35.258789,49.701172,35.058594,49.957031),e.lineTo(35.058594,49.957031),e.closePath(),e.moveTo(158.48291,42.384766),e.bezierCurveTo(158.255371,42.153809,158.026367,41.923339999999996,157.796387,41.694825),e.lineTo(161.32080100000002,38.14795),e.bezierCurveTo(161.563477,38.389161,161.804199,38.631348,162.04443400000002,38.875001000000005),e.lineTo(158.48291,42.384766),e.lineTo(158.48291,42.384766),e.closePath(),e.moveTo(42.158691,41.992188),e.lineTo(38.648925,38.430665),e.bezierCurveTo(38.892576999999996,38.190919,39.137206,37.952638,39.3833,37.714845),e.lineTo(42.855956,41.312501),e.bezierCurveTo(42.622559,41.537598,42.389648,41.76416,42.158691,41.992188),e.lineTo(42.158691,41.992188),e.closePath(),e.moveTo(150.518066,35.311523),e.bezierCurveTo(150.26123,35.112793,150.003906,34.916015,149.744628,34.720703),e.lineTo(152.756347,30.729492),e.bezierCurveTo(153.030761,30.936523,153.303222,31.145019,153.574706,31.354492),e.lineTo(150.518066,35.311523),e.lineTo(150.518066,35.311523),e.closePath(),e.moveTo(50.222168,35.010254),e.lineTo(47.199707000000004,31.026856000000002),e.bezierCurveTo(47.472656,30.819825,47.74707,30.614258000000003,48.021973,30.410645000000002),e.lineTo(50.997559,34.4292),e.bezierCurveTo(50.738281,34.621094,50.479492,34.814941,50.222168,35.010254),e.lineTo(50.222168,35.010254),e.closePath(),e.moveTo(141.668945,29.370605),e.bezierCurveTo(141.38720700000002,29.208007000000002,141.104004,29.046875,140.820312,28.887207),e.lineTo(143.27246,24.529785),e.bezierCurveTo(143.571776,24.698242,143.869628,24.868164,144.166991,25.039551),e.lineTo(141.668945,29.370605),e.lineTo(141.668945,29.370605),e.closePath(),e.moveTo(59.115234,29.128906),e.lineTo(56.632812,24.789062),e.bezierCurveTo(56.930175,24.618652,57.228027000000004,24.451171000000002,57.527343,24.284667000000002),e.lineTo(59.958007,28.653808),e.bezierCurveTo(59.67627,28.810547,59.39502,28.969238,59.115234,29.128906),e.lineTo(59.115234,29.128906),e.closePath(),e.moveTo(132.098633,24.65625),e.bezierCurveTo(131.799317,24.532715,131.499512,24.410645,131.198242,24.290527),e.lineTo(133.051758,19.646972),e.bezierCurveTo(133.369629,19.773925000000002,133.687012,19.902831000000003,134.003906,20.033202000000003),e.lineTo(132.098633,24.65625),e.lineTo(132.098633,24.65625),e.closePath(),e.moveTo(68.689941,24.452637),e.lineTo(66.79248,19.82666),e.bezierCurveTo(67.108398,19.697265,67.424316,19.569824,67.741699,19.443847),e.lineTo(69.587402,24.090331000000003),e.bezierCurveTo(69.287598,24.209473,68.988281,24.330078,68.689941,24.452637),e.lineTo(68.689941,24.452637),e.closePath(),e.moveTo(121.997559,21.236328),e.bezierCurveTo(121.68457099999999,21.152344,121.371094,21.070312,121.05712899999999,20.990234),e.lineTo(122.29345699999999,16.145507000000002),e.bezierCurveTo(122.62597699999999,16.230468000000002,122.95703099999999,16.317382000000002,123.28759799999999,16.405273),e.lineTo(121.997559,21.236328),e.lineTo(121.997559,21.236328),e.closePath(),e.moveTo(78.793945,21.061523),e.lineTo(77.517578,16.227539),e.bezierCurveTo(77.848633,16.140137,78.18066400000001,16.054687,78.513183,15.970703),e.lineTo(79.734863,20.819336),e.bezierCurveTo(79.419922,20.898438,79.106445,20.979004,78.793945,21.061523),e.lineTo(78.793945,21.061523),e.closePath(),e.moveTo(111.530762,19.135254),e.bezierCurveTo(111.210449,19.091797,110.88964899999999,19.050293,110.56836,19.010254),e.lineTo(111.183594,14.04834),e.bezierCurveTo(111.524414,14.090332,111.864746,14.134765999999999,112.20459,14.181153),e.lineTo(111.530762,19.135254),e.lineTo(111.530762,19.135254),e.closePath(),e.moveTo(89.260254,19.016602),e.lineTo(88.621582,14.057617999999998),e.bezierCurveTo(88.96191400000001,14.013672999999997,89.303223,13.972168999999997,89.644531,13.932129999999997),e.lineTo(90.222656,18.898926999999997),e.bezierCurveTo(89.900879,18.936035,89.580078,18.975586,89.260254,19.016602),e.lineTo(89.260254,19.016602),e.closePath(),e.moveTo(100.878418,18.351074),e.lineTo(99.903809,18.344238),e.lineTo(99.91113299999999,13.344238),e.bezierCurveTo(100.25292999999999,13.344726000000001,100.59472699999999,13.347168,100.937012,13.351074),e.lineTo(100.878418,18.351074),e.lineTo(100.878418,18.351074),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#797a7d",e.beginPath(),e.moveTo(161.520508,38.728516),e.lineTo(152.083008,47.999512),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#797a7d",e.beginPath(),e.moveTo(39.011719,38.17334),e.lineTo(47.645508,46.853516),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#797a7d",e.beginPath(),e.moveTo(100.416504,12.853516),e.lineTo(100.416504,24.853516),e.fill(),e.stroke(),e.restore(),e.restore()}var t=function(e,t){this.renderVectorText(String(parseInt(this.model.get("min"))),this.$el.find("canvas")[0],13,21,98,"helvetica","normal","normal"),this.renderVectorText(String(parseInt(this.model.get("max"))),this.$el.find("canvas")[0],13,158,98,"helvetica","normal","normal")},i=function(e,t){e.translate(100,100);var i=parseInt(this.model.get("max")),n=parseInt(this.model.get("min")),o=i-n,r=parseInt(this.model.get("animParam1")*o/100);r=Math.abs(r);var s=r/o;s=Math.min(s,1),e.rotate((s-.5)*Math.PI);var a=e.createLinearGradient(94.150879,68.208984,106.535645,68.208984);a.addColorStop(.032967,"#3B3B3B"),a.addColorStop(.261715,"#353535"),a.addColorStop(.563195,"#242424"),a.addColorStop(.90393,"#090909"),a.addColorStop(1,"#000000"),e.fillStyle=a,e.strokeStyle="#4d4d4f",e.beginPath(),e.moveTo(1.749512,-70.750488),e.lineTo(6.535645,2.183594),e.lineTo(3.191895,7.189453),e.lineTo(-2.233887,7.175781),e.lineTo(-5.849121,2.087891),e.lineTo(-.500488,-70.771484),e.fill(),e.stroke()},n=function(e){var t=e.createLinearGradient(65.13623,59.277344,117.948776,120.839973);t.addColorStop(0,"#D1D1D1"),t.addColorStop(1,"#A6A6A6"),e.fillStyle=t,e.strokeStyle="#a5a7aa",e.beginPath(),e.arc(100.5,100.5,100,0,6.283185307179586,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#f3f4f4",e.globalAlpha=.8999999761581421,e.beginPath(),e.arc(100.5,100.5,95.239258,0,6.283185307179586,!0),e.closePath(),e.fill(),e.stroke()},o=function(e){var t="#8dc63f",i="#ed1c24";this.model.get("flipZone")&&(t="#ed1c24",i="#8dc63f"),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle=t,e.lineWidth=8,e.beginPath(),e.moveTo(68.109375,59.402832),e.bezierCurveTo(56.420898,68.838379,48.944336,83.28417999999999,48.944336,99.476562),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle=i,e.lineWidth=8,e.beginPath(),e.moveTo(151.888672,99.476563),e.bezierCurveTo(151.888672,83.48584,144.59668000000002,69.19824299999999,133.157227,59.757325),e.fill(),e.stroke(),e.restore(),e.save()};return{gauge:{settings:{widgets:["valuePopup","minPopup","maxPopup","strokePopup","flipzonePopup","textPopup","textcolorPopup"]},render:function(){var t=this.$el.find("canvas")[0].getContext("2d");this.$el.find("canvas").attr("width",this.model.get("width")),this.$el.find("canvas").attr("height",this.model.get("height")),t.save(),t.scale(this.model.get("width")/202,this.model.get("height")/202),t.save(),t.translate(0,0),e.call(this,t),t.fillStyle=this.model.get("textColor"),t.save();var i=parseInt(this.model.get("max")),n=parseInt(this.model.get("min"));parseInt(this.model.get("animParam1")*(i-n)/100)+n<=9?this.renderVectorText(String(parseInt(this.model.get("animParam1")*(i-n)/100)+n),this.$el.find("canvas")[0],18,93,143,"helvetica","normal","normal"):parseInt(this.model.get("animParam1")*(i-n)/100+n)<=99?this.renderVectorText(String(parseInt(this.model.get("animParam1")*(i-n)/100)+n),this.$el.find("canvas")[0],18,90,143,"helvetica","normal","normal"):this.renderVectorText(String(parseInt(this.model.get("animParam1")*(i-n)/100)+n),this.$el.find("canvas")[0],18,87,143,"helvetica","normal","normal"),this.model.get("text")&&this.model.get("showtext")&&(t.fillStyle=this.model.get("textColor"),t.textAlign="center",this.renderVectorText(String(this.model.get("text")),this.$el.find("canvas")[0],15,100,173,"helvetica","normal","normal"),t.textAlign="start"),t.restore()}}}}()},{}],91:[function(e,t,i){t.exports=function(){function e(e,t,i,n,o){e.save(),e.translate(22*(i-1),0),e.beginPath(),e.moveTo(0,0),e.lineTo(23,0),e.lineTo(23,23),e.lineTo(0,23),e.closePath(),e.clip(),e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.translate(-363.5,-520.875),e.save(),"green"===n&&(o?e.fillStyle="#8dc63f":e.fillStyle="#19793B"),"yellow"===n&&(o?e.fillStyle="#ffe040":e.fillStyle="#685700"),"red"===n&&(o?e.fillStyle="#e84125":e.fillStyle="#6A0000"),e.strokeStyle="#50483e",e.beginPath(),e.moveTo(364,521.36218),e.lineTo(386,521.36218),e.quadraticCurveTo(386,521.36218,386,521.36218),e.lineTo(386,543.36218),e.quadraticCurveTo(386,543.36218,386,543.36218),e.lineTo(364,543.36218),e.quadraticCurveTo(364,543.36218,364,543.36218),e.lineTo(364,521.36218),e.quadraticCurveTo(364,521.36218,364,521.36218),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#ffffff",o?e.globalAlpha=.3499999940395355:e.globalAlpha=.1,e.beginPath(),e.moveTo(364.48541,521.87286),e.lineTo(385.48541,521.87286),e.quadraticCurveTo(385.48541,521.87286,385.48541,521.87286),e.lineTo(385.48541,532.87286),e.quadraticCurveTo(385.48541,532.87286,385.48541,532.87286),e.lineTo(364.48541,532.87286),e.quadraticCurveTo(364.48541,532.87286,364.48541,532.87286),e.lineTo(364.48541,521.87286),e.quadraticCurveTo(364.48541,521.87286,364.48541,521.87286),e.closePath(),e.fill(),e.stroke(),e.restore(),e.restore(),e.restore()}function t(e,t,i,n,o){e.save(),e.translate(22*(i-1),0);var r;o&&(e.save(),r=e.createLinearGradient(71.311996,97.857399,77.288597,97.857399),r.addColorStop(0,"#FFFFFF"),r.addColorStop(1,"#FFFFFF"),e.fillStyle=r,e.strokeStyle="#ffffff",e.translate(298.7948,432.30681),e.globalAlpha=.1600000113248825,e.beginPath(),e.arc(74.300301,97.857399,2.9883001,0,6.283185307179586,!0),e.closePath(),e.fill(),e.restore()),e.beginPath(),e.moveTo(0,0),e.lineTo(23,0),e.lineTo(23,23),e.lineTo(0,23),e.closePath(),e.clip(),e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.translate(-363.5,-520.875),e.save(),e.translate(298.7948,432.30681),e.save(),r=e.createRadialGradient(74.098602,97.076202,0,74.098602,97.076202,10.8811),o?("green"===n&&(r.addColorStop(.2747,"#B0D235"),r.addColorStop(.7802,"#39B54A")),"yellow"===n&&(r.addColorStop(.2747,"#F8E527"),r.addColorStop(.7802,"#FEBE2D")),"red"===n&&(r.addColorStop(.2747,"#EA8235"),r.addColorStop(.7802,"#ED1C24")),e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=5,e.shadowColor="rgba(255, 255, 255, 1)"):("green"===n&&(r.addColorStop(.2747,"#1C8444"),r.addColorStop(.7802,"#04622F")),"yellow"===n&&(r.addColorStop(.2747,"#847A1B"),r.addColorStop(.7802,"#685925")),"red"===n&&(r.addColorStop(.2747,"#8B1C1F"),r.addColorStop(.7802,"#690B0C"))),e.fillStyle=r,e.beginPath(),e.arc(76.191399,100.2979,8.0010004,0,6.283185307179586,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",o?("green"===n&&(e.strokeStyle="#6c8259"),"yellow"===n&&(e.strokeStyle="#93681f"),"red"===n&&(e.strokeStyle="#884d1a")):("green"===n&&(e.strokeStyle="#6c8259"),"yellow"===n&&(e.strokeStyle="#93681f"),"red"===n&&(e.strokeStyle="#884d1a")),e.beginPath(),e.moveTo(84.1919,100.2959),e.bezierCurveTo(84.1919,104.7168,80.6108,108.2988,76.1914,108.2988),e.bezierCurveTo(71.77250000000001,108.2988,68.1914,104.7168,68.1914,100.2959),e.bezierCurveTo(68.1914,95.8789,71.77250000000001,92.29690000000001,76.1914,92.29690000000001),e.bezierCurveTo(80.6108,92.29690000000001,84.1919,95.8789,84.1919,100.2959),e.closePath(),e.fill(),e.stroke(),e.restore(),e.restore(),e.restore(),e.save(),o&&(r=e.createLinearGradient(71.311996,97.857399,77.288597,97.857399),r.addColorStop(0,"#FFFFFF"),r.addColorStop(1,"#FFFFFF"),e.fillStyle=r,e.strokeStyle="#ffffff",e.translate(298.7948,432.30681),e.globalAlpha=.1600000113248825,e.beginPath(),e.arc(74.300301,97.857399,2.9883001,0,6.283185307179586,!0),e.closePath(),e.fill()),e.restore()}var i,n=function(){var e=this.$el.find("canvas")[0].getContext("2d");this.$el.find("canvas").width()===this.model.get("width")&&this.$el.find("canvas").height()===this.model.get("height")||(this.$el.find("canvas").attr("width",this.model.get("width")),this.$el.find("canvas").attr("height",this.model.get("height"))),e.clearRect(0,0,this.model.get("width"),this.model.get("height"));var t=0;this.model.get("showtext")&&(t=100);var n=Math.min(this.model.get("width")/(221+t),this.model.get("height")/23);e.save(),e.scale(n,n),i.call(this,e),e.fillStyle=this.model.get("textColor"),e.fillStyle="black",e.restore()};return i=function(i){var n=parseInt(this.model.get("iDigits")),o=parseInt(this.model.get("animParam1")),r=parseInt(this.model.get("max")),s=1,a=n/(100/o);for(s=1;n>=s;s++){var l=!0;s>a&&(l=!1);var d;d=this.model.get("flipZone")?s<=Math.floor(.333*n+1)?"red":s<=Math.floor(.666*n+1)?"yellow":"green":s<=Math.floor(.333*n+1)?"green":s<=Math.floor(.666*n+1)?"yellow":"red",this.model.get("radialStroke")?t(i,"",s,d,l):e(i,"",s,d,l)}""!==this.model.get("text")&&this.model.get("showtext")&&(i.fillStyle=this.model.get("textColor"),this.model.get("radialStroke")?this.renderVectorText(String(parseInt(this.model.get("animParam1")*r/100)+" "+this.model.get("text")),this.$el.find("canvas")[0],16,22*this.model.get("iDigits")+5,18,"helvetica","normal","normal"):this.renderVectorText(String(parseInt(this.model.get("animParam1")*r/100)+" "+this.model.get("text")),this.$el.find("canvas")[0],18,22*this.model.get("iDigits")+10,18,"helvetica","normal","normal"))},{led:{settings:{widgets:["valuePopup","maxPopup","strokePopup","textPopup","textcolorPopup","strokePopup","flipzonePopup"]},render:function(){n.call(this)}}}}()},{}],92:[function(e,t,i){t.exports=function(){function e(e,t,i){e.save(),e.translate(0,0),e.beginPath(),e.moveTo(0,0),e.lineTo(263.79199,0),e.lineTo(263.79199,24),e.lineTo(0,24),e.closePath(),e.clip(),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.beginPath(),e.moveTo(0,0),e.lineTo(24,0),e.lineTo(24,24),e.lineTo(0,24),e.lineTo(0,0),e.closePath(),e.fill(),e.restore(),e.save(),e.translate(0,0),e.save(),e.save(),e.fillStyle=this.model.get("colors")[0],e.beginPath(),e.moveTo(29,0),e.lineTo(i,0),e.lineTo(i,24),e.lineTo(29,24),e.lineTo(29,0),e.closePath(),e.fill(),e.restore(),e.restore(),e.restore(),e.save(),e.fillStyle="#ffffff",e.globalAlpha=.28999999165534973,e.beginPath(),e.moveTo(0,0),e.lineTo(24,0),e.lineTo(24,12),e.lineTo(0,12),e.lineTo(0,0),e.closePath(),e.fill(),e.restore(),e.save(),e.fillStyle="#ffffff",e.globalAlpha=.28999999165534973,e.beginPath(),e.moveTo(29,0),e.lineTo(i,0),e.lineTo(i,12),e.lineTo(29,12),e.lineTo(29,0),e.closePath(),e.fill(),e.restore(),e.restore()}function t(e,t,i){e.save(),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.translate(0,0),e.save(),e.save(),e.fillStyle=this.model.get("colors")[0],e.beginPath(),e.moveTo(29,0),e.lineTo(i,0),e.arc(i,12,12,-.5*Math.PI,.5*Math.PI),e.lineTo(29,24),e.lineTo(29,0),e.closePath(),e.fill(),e.restore(),e.restore(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.translate(0,0),e.beginPath(),e.arc(12,12,12,0,2*Math.PI,!0),e.closePath(),e.fill(),e.restore(),e.save(),e.fillStyle="#ffffff",e.globalAlpha=.3,e.beginPath(),e.arc(12,12,12,0,Math.PI,!0),e.fill(),e.restore(),e.save(),e.fillStyle="#ffffff",e.globalAlpha=.3,e.beginPath(),e.moveTo(29,0),e.lineTo(i,0),e.arc(i,12,12,-.5*Math.PI,0),e.lineTo(29,12),e.lineTo(29,0),e.closePath(),e.fill(),e.restore(),e.save(),e.restore(),e.restore()}return{linearbar:{settings:{widgets:["valuePopup","maxPopup","textPopup","textcolorPopup","roundnessPopup"]},render:function(){var i=this.$el.find("canvas")[0].getContext("2d");this.$el.find("canvas").width()===this.model.get("width")&&this.$el.find("canvas").height()===this.model.get("height")||(this.$el.find("canvas").attr("width",this.model.get("width")),this.$el.find("canvas").attr("height",this.model.get("height"))),i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,this.model.get("width"),this.model.get("height")),i.save(),i.scale(this.model.get("width")/200,this.model.get("height")/24),i.save(),i.translate(0,0);var n,o,r,s;o=this.model.get("max"),r=171,n=this.model.get("animParam1"),s=r*n/100+29,this.model.get("roundness")?t.call(this,i,"",s):e.call(this,i,"",s),i.fillStyle=this.model.get("textColor"),i.save(),parseInt(this.model.get("animParam1")*o/100)<=9?this.renderVectorText(String(parseInt(this.model.get("animParam1"))*o/100),this.$el.find("canvas")[0],13,8.5,17,"helvetica","normal","normal"):parseInt(this.model.get("animParam1")*o/100)<=99?this.renderVectorText(String(parseInt(this.model.get("animParam1"))*o/100),this.$el.find("canvas")[0],13,4.5,17,"helvetica","normal","normal"):this.renderVectorText(String(parseInt(this.model.get("animParam1"))*o/100),this.$el.find("canvas")[0],13,.5,17,"helvetica","normal","normal"),this.model.get("text")&&this.model.get("showtext")&&(i.fillStyle=this.model.get("textColor"),this.renderVectorText(String(this.model.get("text")),this.$el.find("canvas")[0],13,33,17,"helvetica","normal","normal")),i.restore(),i.restore()}}}}()},{}],93:[function(e,t,i){t.exports={ometer:{settings:{widgets:["textPopup","textcolorPopup","valuePopup"]},render:function(){var e=this.$el.find("canvas")[0].getContext("2d");this.$el.find("canvas").width()!==this.model.get("width")||this.$el.find("canvas").height()!==this.model.get("height")?(this.$el.find("canvas").attr("width",this.model.get("width")),this.$el.find("canvas").attr("height",this.model.get("height"))):e.clearRect(0,0,this.model.get("width"),this.model.get("height")),e.save(),e.scale(this.model.get("width")/200,this.model.get("height")/200),e.save(),e.translate(0,0),e.beginPath(),e.moveTo(0,0),e.lineTo(200,0),e.lineTo(200,200),e.lineTo(0,200),e.closePath(),e.clip(),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(-3.167,-1.167),e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.save(),e.save(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.restore(),e.save();var t=e.createLinearGradient(36.9351,167.4004,169.4001,34.9354);t.addColorStop(0,"#FFFFFF"),t.addColorStop(.6252,"#FBFBFB"),t.addColorStop(1,"#F5F5F5"),e.fillStyle=t,e.beginPath(),e.arc(103.167,101.167,93.667,0,6.283185307179586,!0),e.closePath(),e.shadowColor="#CCC",e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=10,e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#dedede",e.beginPath(),e.arc(103.167,101.167,93.667,0,6.283185307179586,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.restore(),e.restore(),e.save(),e.save(),e.save(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.restore(),e.save(),t=e.createLinearGradient(102.8511,171.1006,102.8511,31.2334),t.addColorStop(0,"#F7F7F7"),t.addColorStop(.4251,"#F2F2F2"),t.addColorStop(.9845,"#E1E1E1"),t.addColorStop(1,"#E0E0E0"),e.fillStyle=t,e.beginPath(),e.arc(102.851,101.167,69.934,0,6.283185307179586,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#dadbdc",e.beginPath(),e.arc(102.851,101.167,69.934,0,6.283185307179586,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.restore(),e.save(),e.restore(),e.save(),e.globalAlpha=.11999999731779099,e.save(),e.fillStyle="#030202",e.beginPath(),e.arc(102.851,101.167,69.934,0,6.283185307179586,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle="#030202",e.beginPath(),e.arc(102.851,101.167,69.934,0,6.283185307179586,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.restore(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle=this.model.get("colors")[0],e.lineWidth=6,e.beginPath();var i=2*Math.PI/100*this.model.get("animParam1")-.5*Math.PI;this.model.get("animParam1")>=100?e.arc(102.834,102.167,82.333,0,2*Math.PI,!1):this.model.get("animParam1")>0&&e.arc(102.834,102.167,82.333,1.5*Math.PI,i,!1),e.fill(),e.stroke(),e.restore(),e.save(),e.save(),e.save(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.save(),e.restore(),e.restore(),e.save(),t=e.createLinearGradient(109.833,31.2329,109.833,183.1636),t.addColorStop(0,this.model.get("colors")[0]),t.addColorStop(.2074,this.model.get("colors")[0]),t.addColorStop(.4547,this.model.get("colors")[0]),t.addColorStop(.7224,this.model.get("colors")[0]),t.addColorStop(1,this.model.get("colors")[0]),e.fillStyle=t;var n=parseFloat(this.model.get("animParam1"));e.beginPath(),this.model.get("animParam1")>0&&e.arc(102.851,101.167,69.934,.5*Math.PI+n/32.7,.5*Math.PI-n/32.7,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.restore(),e.restore(),e.restore(),e.fillStyle=this.model.get("textColor");var o=0;this.model.get("text")&&this.model.get("showtext")&&(o=10,this.renderVectorText(String(this.model.get("text")),this.$el.find("canvas")[0],12,102-3.2*String(this.model.get("text")).length,153-o,"arial","normal","normal")),this.model.get("animParam1")<10?this.renderVectorText(String(parseInt(this.model.get("animParam1"))),this.$el.find("canvas")[0],75,78,133-o,"impact","normal","normal"):this.model.get("animParam1")>=100?this.renderVectorText(String(parseInt(this.model.get("animParam1"))),this.$el.find("canvas")[0],75,42,133-o,"impact","normal","normal"):this.renderVectorText(String(parseInt(this.model.get("animParam1"))),this.$el.find("canvas")[0],75,60,133-o,"impact","normal","normal"),e.scale(1,1),e.closePath(),e.restore(),e.restore()}}}},{}],94:[function(e,t,i){var n=e("./../../../../../helpers/colorLuminance.js");t.exports=function(){var e=function(e,t,i){e.fillStyle=n(t,-.3),e.beginPath(),e.moveTo(65.246329,92.314571),e.arc(65.246329,92.314571,62.4130854,1.5*Math.PI-.01*i*2*Math.PI,-.5*Math.PI,!1),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save()},t=function(e){e.fillStyle="rgba(175,177,180,0.75)",e.strokeStyle="rgba(125,126,129,0.75)",e.lineWidth=1.1666432619094849,e.beginPath(),e.moveTo(134.46562,92.313394),e.bezierCurveTo(134.46562,130.54431,103.4749,161.53268,65.246329,161.53268),e.bezierCurveTo(27.017761,161.53268,-3.9717873000000026,130.54313,-3.9717873000000026,92.313394),e.bezierCurveTo(-3.9717873000000026,54.088331000000004,27.017760999999997,23.097616000000002,65.246329,23.097616000000002),e.bezierCurveTo(103.4749,23.097616000000002,134.46562,54.087164,134.46562,92.313394),e.closePath(),e.fill(),e.stroke()},i=function(e){e.fillStyle="rgba(244, 244, 244, 0.75)",e.transform(1.1666434,0,0,1.1666434,-10.001,-37.884),e.beginPath(),e.moveTo(65.5,0),e.lineTo(48.012,21.527),e.lineTo(0,21.527),e.lineTo(7.175,10.935),e.lineTo(0,0),e.lineTo(65.5,0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(229, 228, 228, 0.75)",e.transform(1.1666434,0,0,1.1666434,-10.001,-37.884),e.beginPath(),e.moveTo(65.5,0),e.lineTo(65.5,21.527),e.lineTo(47.858,21.527),e.fill(),e.stroke(),e.restore(),e.save()},o=function(o){o.save(),o.translate(0,0),o.beginPath(),o.moveTo(0,0),o.lineTo(145.06351,0),o.lineTo(145.06351,200.0145),o.lineTo(0,200.0145),o.closePath(),o.clip(),o.translate(0,0),o.translate(0,0),o.scale(1,1),o.translate(10.001,37.884),o.strokeStyle="rgba(0,0,0,0)",o.lineCap="butt",o.lineJoin="miter",o.miterLimit=4,o.save(),o.restore(),o.save(),o.restore(),o.save(),this.model.get("radialStroke")&&t.call(this,o),o.restore(),o.save();var r=this.model.get("colors")[0],s=n(r,.07*parseFloat(this.model.get("animParam2")));o.fillStyle=s,o.transform(1.1666434,0,0,1.1666434,-10.001,-37.884),o.beginPath(),o.arc(64.499001,111.601,53.498001,0,6.283185307179586,!0),o.closePath(),o.fill(),o.stroke(),o.restore(),o.save(),e.call(this,o,s,parseInt(this.model.get("animParam1"))),o.fillStyle="#1a1a1a",o.transform(1.1666434,0,0,1.1666434,-10.001,-37.884),o.beginPath(),o.arc(64.5,111.603,2.872,0,6.283185307179586,!0),o.closePath(),o.fill(),o.stroke(),o.restore(),o.save(),i(o),o.fillStyle="#1a1a1a",o.beginPath(),o.moveTo(64.080856,-10.332556),o.lineTo(66.4141425,-10.332556),o.quadraticCurveTo(66.4141425,-10.332556,66.4141425,-10.332556),o.lineTo(66.4141425,89.51343700000001),o.quadraticCurveTo(66.4141425,89.51343700000001,66.4141425,89.51343700000001),o.lineTo(64.080856,89.51343700000001),o.quadraticCurveTo(64.080856,89.51343700000001,64.080856,89.51343700000001),o.lineTo(64.080856,-10.332556),o.quadraticCurveTo(64.080856,-10.332556,64.080856,-10.332556),o.closePath(),o.fill(),o.stroke(),o.restore(),o.restore()};return{pieceofapie:{settings:{widgets:["valuePopup","strokePopup"]},render:function(){var e=this.$el.find("canvas")[0].getContext("2d");this.$el.find("canvas").width()!==this.model.get("width")||this.$el.find("canvas").height()!==this.model.get("height")?(this.$el.find("canvas").attr("width",this.model.get("width")),this.$el.find("canvas").attr("height",this.model.get("height"))):e.clearRect(0,0,this.model.get("width"),this.model.get("height")),e.save(),e.scale(this.model.get("width")/145,this.model.get("height")/201),
e.save(),o.call(this,e),e.fillStyle=this.model.get("textColor"),e.fillStyle="black",this.renderVectorText(String(parseInt(this.model.get("animParam1")))+"%",this.$el.find("canvas")[0],17,20,18,"helvetica","normal","normal"),e.restore()}}}}()},{"./../../../../../helpers/colorLuminance.js":54}],95:[function(e,t,i){t.exports={radial:{settings:{widgets:["valuePopup","textcolorPopup","strokePopup","showvaluePopup"]},render:function(){var e=this.$el.find("canvas")[0].getContext("2d");this.$el.find("canvas").width()!==this.model.get("width")||this.$el.find("canvas").height()!==this.model.get("height")?(this.$el.find("canvas").attr("width",this.model.get("width")),this.$el.find("canvas").attr("height",this.model.get("height"))):e.clearRect(0,0,this.model.get("width"),this.model.get("height")),e.save(),e.scale(this.model.get("width")/200,this.model.get("height")/200),e.save(),e.translate(0,0),e.beginPath(),e.moveTo(0,0),e.lineTo(200,0),e.lineTo(200,200),e.lineTo(0,200),e.closePath(),e.clip(),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(6.5,6.5),e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle=this.model.get("colors")[0],this.model.get("radialStroke")?e.lineWidth=20:e.lineWidth=7,e.beginPath(),e.arc(93.5,93.5,90,0,6.283185307179586,!0),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="rgba(0, 0, 0, 0)",e.strokeStyle=this.model.get("textColor"),this.model.get("radialStroke")?e.lineWidth=20:e.lineWidth=7,e.beginPath();var t=2*Math.PI/100*this.model.get("animParam1")-.5*Math.PI;this.model.get("animParam1")>=100?e.arc(93.5,93.5,90,0,2*Math.PI,!1):this.model.get("animParam1")>0&&(e.strokeStyle="#FFF",e.arc(93.5,93.5,90,1.5*Math.PI-.01*Math.PI,t+.01*Math.PI,!1),e.stroke(),e.beginPath(),e.strokeStyle=this.model.get("textColor"),e.arc(93.5,93.5,90,1.5*Math.PI,t,!1)),e.fill(),e.stroke(),this.model.get("radialStroke")&&(e.beginPath(),e.strokeStyle="#FFF",e.lineWidth=3,e.arc(93.5,93.5,90,0,6.283185307179586,!0),e.stroke()),e.restore(),e.restore(),e.fillStyle=this.model.get("textColor");var i=0;this.model.get("iSettings1")&&(this.model.get("animParam1")<10?this.renderVectorText(String(parseInt(this.model.get("animParam1")))+"%",this.$el.find("canvas")[0],65,58,133-i-7,"helvetica","normal","normal"):this.model.get("animParam1")>=100?this.renderVectorText(String(parseInt(this.model.get("animParam1")))+"%",this.$el.find("canvas")[0],65,19,133-i-7,"helvetica","normal","normal"):this.renderVectorText(String(parseInt(this.model.get("animParam1")))+"%",this.$el.find("canvas")[0],65,40,133-i-7,"helvetica","normal","normal")),e.restore()}}}},{}],96:[function(e,t,i){var n=e("./../../../../../helpers/colorLuminance.js");t.exports={ribbon:{settings:{widgets:["textPopup","textcolorPopup","valuePopup"]},render:function(){var e=this.$el.find("canvas")[0].getContext("2d");this.$el.find("canvas").width()!==this.model.get("width")||this.$el.find("canvas").height()!==this.model.get("height")?(this.$el.find("canvas").attr("width",this.model.get("width")),this.$el.find("canvas").attr("height",this.model.get("height"))):e.clearRect(0,0,this.model.get("width"),this.model.get("height")),e.save(),e.scale(this.model.get("width")/200,this.model.get("height")/15),e.save(),e.translate(0,-20),e.beginPath(),e.moveTo(0,0),e.lineTo(200,0),e.lineTo(200,50),e.lineTo(0,50),e.closePath(),e.clip(),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,19.966),e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.fillStyle=n(this.model.get("colors")[0],-.3),e.beginPath(),e.moveTo(0,3.734),e.lineTo(68.375,3.734),e.quadraticCurveTo(68.375,3.734,68.375,3.734),e.lineTo(68.375,15.044),e.quadraticCurveTo(68.375,15.044,68.375,15.044),e.lineTo(0,15.044),e.quadraticCurveTo(0,15.044,0,15.044),e.lineTo(0,3.734),e.quadraticCurveTo(0,3.734,0,3.734),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.beginPath(),e.rect(62.265,.534,parseInt(this.model.get("animParam1")),12),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=n(this.model.get("colors")[0],-.6),e.beginPath(),e.moveTo(62.255,12.834),e.lineTo(68.255,12.834),e.lineTo(68.255,15.039),e.fill(),e.stroke(),e.closePath(),e.restore(),e.restore(),e.translate(0,-20),e.fillStyle=this.model.get("textColor");var t=0;this.model.get("text")&&this.model.get("showtext")&&this.renderVectorText(String(this.model.get("text")),this.$el.find("canvas")[0],10,2,33-t,"arial","normal","normal"),e.fillStyle="#000",this.model.get("tempCanvas")&&(this.model.get("animParam1")<10?this.renderVectorText(String(parseInt(this.model.get("animParam1")))+"%",this.$el.find("canvas")[0],12,58+parseInt(this.model.get("animParam1"))+7+5,31,"helvetica","normal","normal"):this.model.get("animParam1")>=100?this.renderVectorText(String(parseInt(this.model.get("animParam1")))+"%",this.$el.find("canvas")[0],12,19+parseInt(this.model.get("animParam1"))+40+7,31,"helvetica","normal","normal"):this.renderVectorText(String(parseInt(this.model.get("animParam1")))+"%",this.$el.find("canvas")[0],12,40+parseInt(this.model.get("animParam1"))+20+7,31,"helvetica","normal","normal")),e.restore()}}}},{"./../../../../../helpers/colorLuminance.js":54}],97:[function(e,t,i){t.exports={semicircles:{settings:{widgets:["valuePopup","circlesPopup"]},render:function(){var e=this.$el.find("canvas")[0].getContext("2d");this.$el.find("canvas").attr("width",this.model.get("width")),this.$el.find("canvas").attr("height",this.model.get("height")),e.save(),e.scale(this.model.get("width")/200,this.model.get("height")/50),e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(200,0),e.lineTo(200,50),e.lineTo(0,50),e.closePath(),e.clip(),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,3.196),e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.fillStyle=this.model.get("colors")[0],e.beginPath();var t=Math.abs(this.model.get("animParam1")/2);e.moveTo(t,47),e.arc(t,47,t,Math.PI,0,!1),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[1];var i,n;this.model.get("circle2")&&(e.beginPath(),i=Math.abs(this.model.get("animParam2")/2),e.moveTo(2*t+i,47),e.moveTo(i+2*t,47),e.arc(i+2*t,47,i,Math.PI,0,!1),e.fill(),e.stroke(),e.closePath()),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[2],this.model.get("circle3")&&(e.beginPath(),e.moveTo(158,47),n=Math.abs(this.model.get("animParam3")/2),e.moveTo(n+2*t+2*i,47),e.arc(n+2*t+2*i,47,n,Math.PI,0,!1),e.fill(),e.closePath()),e.stroke(),e.restore(),e.restore(),e.fillStyle=this.model.get("textColor"),this.model.get("text")&&(e.fillStyle="#FFF"),e.fillStyle=this.model.get("textColor"),e.fillStyle="#FFF",this.renderVectorText(String(parseInt(this.model.get("animParam1")))+"%",this.$el.find("canvas")[0],parseInt(t/2),t,53-t/2,"helvetica","normal","normal",0,0,0,1),this.model.get("circle2")&&this.renderVectorText(String(parseInt(this.model.get("animParam2")))+"%",this.$el.find("canvas")[0],parseInt(i/2),i+2*t,53-i/2,"helvetica","normal","normal",0,0,0,1),this.model.get("circle3")&&this.renderVectorText(String(parseInt(this.model.get("animParam3")))+"%",this.$el.find("canvas")[0],parseInt(n/2),n+2*i+2*t,53-n/2,"helvetica","normal","normal",0,0,0,1)}}}},{}],98:[function(e,t,i){t.exports={verticalmeter:{settings:{widgets:["textPopup","textcolorPopup","valuePopup"]},render:function(){var e=this.$el.find("canvas")[0].getContext("2d");this.$el.find("canvas").width()!==this.model.get("width")||this.$el.find("canvas").height()!==this.model.get("height")?(this.$el.find("canvas").attr("width",this.model.get("width")),this.$el.find("canvas").attr("height",this.model.get("height"))):e.clearRect(0,0,this.model.get("width"),this.model.get("height")),e.save(),e.scale(this.model.get("width")/86,this.model.get("height")/220),e.save(),e.translate(12,5),e.beginPath(),e.moveTo(0,0),e.lineTo(50,0),e.lineTo(50,200),e.lineTo(0,200),e.closePath(),e.clip(),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(2.417,7.75),e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.fillStyle="#c7c8ca",e.beginPath(),e.moveTo(22.583,.25),e.lineTo(26.583,.25),e.quadraticCurveTo(26.583,.25,26.583,.25),e.lineTo(26.583,180.25),e.quadraticCurveTo(26.583,180.25,26.583,180.25),e.lineTo(22.583,180.25),e.quadraticCurveTo(22.583,180.25,22.583,180.25),e.lineTo(22.583,.25),e.quadraticCurveTo(22.583,.25,22.583,.25),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(17.583,.25),e.lineTo(31.583,.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(17.583,45.25),e.lineTo(31.583,45.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(17.583,89.25),e.lineTo(31.583,89.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.strokeStyle=this.model.get("colors")[0],e.lineWidth=.5,e.beginPath(),e.moveTo(17.583,135.25),e.lineTo(31.583,135.25),e.fill(),e.stroke(),e.restore(),e.save(),e.beginPath(),e.strokeStyle=this.model.get("colors")[0],e.lineWidth=4,e.moveTo(24.583,180.25),e.lineTo(24.583,180.25-.9*parseInt(2*this.model.get("animParam1"))),e.stroke(),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(19.583,9.25),e.lineTo(29.583,9.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(19.75,18.25),e.lineTo(29.75,18.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(19.75,27.25),e.lineTo(29.75,27.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(19.75,36.25),e.lineTo(29.75,36.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(19.583,52.25),e.lineTo(29.583,52.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(19.75,61.25),e.lineTo(29.75,61.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(19.75,70.25),e.lineTo(29.75,70.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(19.75,79.25),e.lineTo(29.75,79.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle="#c7c8ca",e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(19.583,99.25),e.lineTo(29.583,99.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.strokeStyle=this.model.get("colors")[0],e.lineWidth=.5,e.beginPath(),e.moveTo(19.75,108.25),e.lineTo(29.75,108.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.strokeStyle=this.model.get("colors")[0],e.lineWidth=.5,e.beginPath(),e.moveTo(19.75,117.25),e.lineTo(29.75,117.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.strokeStyle=this.model.get("colors")[0],e.lineWidth=.5,e.beginPath(),e.moveTo(19.75,126.25),e.lineTo(29.75,126.25),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.strokeStyle=this.model.get("colors")[0],e.lineWidth=.5,e.beginPath(),e.moveTo(19.458,143.688),e.lineTo(29.458,143.688),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.strokeStyle=this.model.get("colors")[0],e.lineWidth=.5,e.beginPath(),e.moveTo(19.625,152.688),e.lineTo(29.625,152.688),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.strokeStyle=this.model.get("colors")[0],e.lineWidth=.5,e.beginPath(),e.moveTo(19.625,161.688),e.lineTo(29.625,161.688),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.strokeStyle=this.model.get("colors")[0],e.lineWidth=.5,e.beginPath(),e.moveTo(19.625,170.688),e.lineTo(29.625,170.688),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=this.model.get("colors")[0],e.strokeStyle="#c7c8ca",e.lineWidth=.5,e.beginPath(),e.moveTo(17.208,180.25),e.lineTo(31.208,180.25),e.fill(),e.stroke(),e.restore(),e.save(),e.save(),e.save(),e.fillStyle=this.model.get("colors")[0],e.beginPath(),e.save(),e.translate(0,72-.9*parseInt(2*this.model.get("animParam1"))),e.moveTo(6.683,101.427),e.bezierCurveTo(2.992,101.44,0,104.419,0,108.11),e.bezierCurveTo(0,111.801,2.992,114.795,6.683,114.793),e.bezierCurveTo(9.041,114.792,18.77,108.11000000000001,18.77,108.11000000000001),e.bezierCurveTo(18.77,108.11000000000001,9.291,101.417,6.683,101.427),e.restore(),e.closePath(),e.fill(),e.stroke(),e.restore(),e.restore(),e.restore(),e.restore(),e.fillStyle=this.model.get("textColor");var t=0;this.model.get("text")&&this.model.get("showtext")&&this.renderVectorText(String(this.model.get("text")),this.$el.find("canvas")[0],12,40-3.5*String(this.model.get("text")).length,208-t,"arial","normal","normal"),this.model.get("animParam1")<10?this.renderVectorText(String(parseInt(this.model.get("animParam1")))+"",this.$el.find("canvas")[0],8,19,195.75-.9*parseInt(2*this.model.get("animParam1")),"helvetica","normal","normal"):this.model.get("animParam1")>=100?this.renderVectorText(String(parseInt(this.model.get("animParam1")))+"",this.$el.find("canvas")[0],8,15,195.75-.9*parseInt(2*this.model.get("animParam1")),"helvetica","normal","normal"):this.renderVectorText(String(parseInt(this.model.get("animParam1")))+"",this.$el.find("canvas")[0],8,17,195.75-.9*parseInt(2*this.model.get("animParam1")),"helvetica","normal","normal"),e.restore()}}}},{}],99:[function(e,t,i){var n=e("underscore"),o={update:function(e,t){this.renders[this.model.get("render")].render.call(this),this.model.subMenu.settings=n.extend({},this.renders[this.model.get("render")].settings.widgets),this._super(e,t)},renders:{}};n.extend(o.renders,e("./renders/ometer.js")),n.extend(o.renders,e("./renders/radial.js")),n.extend(o.renders,e("./renders/led.js")),n.extend(o.renders,e("./renders/ribbon.js")),n.extend(o.renders,e("./renders/semicircles.js")),n.extend(o.renders,e("./renders/verticalmeter.js")),n.extend(o.renders,e("./renders/linearbar.js")),n.extend(o.renders,e("./renders/pieceofapie.js")),n.extend(o.renders,e("./renders/gauge.js")),n.extend(o.renders,e("./renders/digitaldial.js")),n.extend(o.renders,e("./renders/array.js")),t.exports=o},{"./renders/array.js":88,"./renders/digitaldial.js":89,"./renders/gauge.js":90,"./renders/led.js":91,"./renders/linearbar.js":92,"./renders/ometer.js":93,"./renders/pieceofapie.js":94,"./renders/radial.js":95,"./renders/ribbon.js":96,"./renders/semicircles.js":97,"./renders/verticalmeter.js":98,underscore:52}],100:[function(e,t,i){t.exports={renderVectorText:function(e,t,i,n,o,r,s,a,l,d,c,h){var u=t.getContext("2d");h&&(u.textAlign="center",u.textBaseline="middle"),u.font=i+"px "+r,u.fillText(e,n,o)}}},{}],101:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),r=o.extend(n.extend({},{initialize:function(){if(this._super(),"array"===this.get("render")){if(this.propertyMenuItems=this.propertyMenuItems.concat(".icon5"),1===this.get("colors").length){var e=this.get("colors")[0];this.set("colors",[e,"#d65642"])}}else this.propertyMenuItems=this.propertyMenuItems.concat(".icon5",".icon_color");this.subMenu=n.extend({},o.prototype.subMenu),this.activeMenuItem=".icon5"},validators:{param1:{type:"number",params:{min:1,max:250}},inarow:{type:"number",params:{min:1,max:100}},animParam1:{type:"number",params:{min:0,max:100}},numParam:{type:"number",params:{min:0}},animParam2:{type:"number",params:{min:0,max:100}},param2:{type:"number",params:{min:0,max:100}},animParam3:{type:"number",params:{min:0,max:100}},param3:{type:"number",params:{min:0,max:100}},arrParam:{type:"number",params:{min:1,max:250}},text:{type:"string",params:{notblank:!0}},render:{type:"string",params:{notblank:!0}}},defaults:{type:"infogrWidget",colors:["#00b0d8"],textColor:"#000",param1:45,animParam1:45,render:""}}));n.defaults(r.prototype.defaults,o.prototype.defaults),n.defaults(r.prototype.validators,o.prototype.validators),t.exports=r},{"./../../objectModel.js":74,underscore:52}],102:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js"),r=e("./updateMixin.js"),s=e("./vectorTextMixin.js");t.exports=o.extend(n.extend({},r,s,{template:"#infogr-widget",initialize:function(){this.nonTweenable=this.nonTweenable.concat(["circle2","circle3","radialStroke","roundness"]),this._super(),this.setParams()},render:function(){this._super(),this.update()},setParams:function(){!n.isUndefined(this.model.get("render"))&&"array"===this.model.get("render")&&n.isUndefined(this.model.get("arrParam"))?this.model.set("arrParam",this.model.get("param1")):"array"===this.model.get("render")||"led"===this.model.get("render")||n.isUndefined(this.model.get("animParam1"))||this.model.set("param1",this.model.get("animParam1")),!n.isUndefined(this.model.get("param2"))&&n.isUndefined(this.model.get("animParam2"))&&this.model.set("animParam2",this.model.get("param2")),!n.isUndefined(this.model.get("param3"))&&n.isUndefined(this.model.get("animParam3"))&&this.model.set("animParam3",this.model.get("param3"))}}))},{"../../objectView.js":75,"./updateMixin.js":99,"./vectorTextMixin.js":100,underscore:52}],103:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),r=o.extend(n.extend({},{initialize:function(){this._super(),this.propertyMenuItems=this.propertyMenuItems.concat(".edit_pdf",".icon6",".icon_specialeffects"),this.activeMenuItem=".icon_specialeffects",this.get("src")||this.set("src","404.pdf")},defaults:{type:"pdf",src:"",proportionLock:!1}}));n.defaults(r.prototype.defaults,o.prototype.defaults),n.defaults(r.prototype.validators,o.prototype.validators),t.exports=r},{"./../../objectModel.js":74,underscore:52}],104:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js"),r=e("TweenLite"),s=o.extend({template:"#pdf",pdfDbclick:function(){$("#upload-trigger").click()},events:{dblclick:"pdfDbclick"},initialize:function(){n.bindAll(this,"beginDragging","finishDragging","replacePdf"),app.listenTo(app,"object:handle-drag-start",this.beginDragging),app.listenTo(app,"object:handle-drag-end",this.finishDragging),app.listenTo(app,"pdf-replaced",this.replacePdf),this._super(),this.nonTweenable=this.nonTweenable.concat(["crop","ext","filename"])},beginDragging:function(){this.dragActive=!0},finishDragging:function(){this.dragActive=!1},replacePdf:function(e){parseInt(this.model.get("assetid"),10)===parseInt(e.id,10)&&(this.model.set("link",e.link),this.model.set("ext",e.ext),this.model.set("originsize",e.size),this.model.set("size",parseInt(e.size/1e3,10)+" KB"),this.model.set("filename",e.hash),this.model.set("updatedat",e.updatedAt),this.model.set("updatedby",e.updatedBy),this.model.set("src",e.hash+"."+e.ext),this.model.set("proportionLock",0),setTimeout(function(){app.trigger("save:force")},3e3))},update:function(e,t){r.set(this.$el.find("iframe"),{css:{"-webkit-box-reflect":"none"}}),n.has(this.model.changed,"src")&&($("#"+this.$el[0].id+" .crop_wrapper iframe").attr("src","https://docs.google.com/gview?url="+app.settings.get("usersDataStorage")+this.model.changed.src+"&embedded=true"),delete this.model.changed.src),""!==this.model.get("src")?this.disableLoading():this.enableLoading(),this._super(e,t)},enableLoading:function(){r.set(this.$el.find(".loader_code"),{css:{display:"block"}})},disableLoading:function(){r.set(this.$el.find(".loader_code"),{css:{display:"none"}})},render:function(){this._super(),this.$el.find("iframe").error(function(){$(this).attr("src",app.settings.get("usersDataStorage")+"404.pdf")})}});n.defaults(s.prototype.events,o.prototype.events),n.defaults(s.prototype.render,o.prototype.render),t.exports=s},{"../../objectView.js":75,TweenLite:"TweenLite",underscore:52}],105:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),r=o.extend(n.extend({},{initialize:function(){setTimeout(function(){this.get("svg.src").match(/(Shapes|Lines)/)&&this.set({proportionLock:!1})}.bind(this),0),this._super(),this.propertyMenuItems=this.propertyMenuItems.concat(".icon_color",".icon_specialeffects"),this.subMenu=n.extend({},o.prototype.subMenu),this.subMenu.effect=["opacityPopup"],this.activeMenuItem=null},defineReadyPromise:function(){var e=$.Deferred(),t=this;this.bind("object:ajax-loaded",e.resolve),e.done(function(e){t.trigger("ready")}),this.promise=e.promise()},tempAttributes:["xml","parseTextCallback","svgHtml"],validators:{"svg.src":{type:"string",params:{notblank:!0}}},defaults:{type:"svg",colors:!1,patterns:!1,repeat:!1}}));n.defaults(r.prototype.defaults,o.prototype.defaults),n.defaults(r.prototype.validators,o.prototype.validators),n.defaults(r.prototype.tempAttributes,o.prototype.tempAttributes),t.exports=r},{"./../../objectModel.js":74,underscore:52}],106:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js");t.exports=o.extend({initialize:function(){this._super(),this.nonTweenable=this.nonTweenable.concat(["removeText","thumbnail","svgHtml"]),this.asyncProperties=this.asyncProperties.concat(["svgHtml"])},template:"#svg",setXml:function(){var e=this.model.get("xml");e.find("svg").attr({width:"100%",height:"100%"}),this.$el.find("svg").eq(0).remove(),this.$el.append(e.find("svg").eq(0)),this.model.get("preserveAspectRatio")||this.$el.find("svg").get(0).setAttribute("preserveAspectRatio","none"),this.$el.find("svg").get(0).setAttribute("overflow","hidden"),this.model.get("colors")||this.model.set("colors",this.parseColors(this.el)),!this.model.get("removeText")&&this.model.get("parseText")&&this.model.get("parseTextCallback")&&(this.parseText(),this.model.set("removeText",!0)),this.model.get("removeText")&&this.removeText(),this.model.set("pattern",this.parsePatterns(this.model.get("svgHtml"))),(!this.model.get("width")||this.model.get("width")<10)&&this.model.set({width:this.model.get("svg.width"),height:this.model.get("svg.height")})},update:function(e,t){n.has(this.model.changed,"xml")&&this.model.get("xml")&&(this.setXml(),n.has(this.model.changed,"colors")||(this.model.changed.colors=JSON.parse(JSON.stringify(this.model.get("colors")))),delete this.model.changed.xml),this.model.get("pattern")!==!1&&n.has(this.model.changed,"width")&&this.renderPattern(),n.has(this.model.changed,"pattern")&&delete this.model.changed.pattern,n.has(this.model.changed,"svg")&&delete this.model.changed.svg,n.has(this.model.changed,"colors")&&(!n.isNull(this.model.changed.colors)&&this.model.changed.colors.length&&n.each(this.model.changed.colors,function(e,t){var i=this.$el.find('[id^="Color'+(t+1)+'"]'),n=this.$el.find('[id^="Strokecolor'+(t+1)+'"]');0===i.length&&0===n.length?this.$el.find("g").css("fill",e):(i.css("fill",e),n.css("stroke",e))},this),delete this.model.changed.colors),this._super(e,t)},getSvgXml:function(){var e=this.model.get("svg.src"),t=app.settings.get("assetsStorage"),i=e.indexOf(t)>-1?e:t+e;if(this.model.get("svgHtml")){var n=this.model.get("svgHtml");this.$el.find("img").hide();var o=$('<div class="fake-doc">').append($("<div>"+n+"</div>").find("svg").eq(0));o=$("<a>").append(o);var r=o.html();this.model.set("xml",$(r)),this.model.get("pattern")&&this.renderPattern(),this.model.trigger("object:ajax-loaded"),app.trigger("object:ajax-loaded")}else $.ajax({url:i,dataType:"xml",context:this,success:function(t){this.$el.find("img").hide();var i=$('<div class="fake-doc">').append($(t).find("svg").eq(0));i=$("<a>").append(i);var n=i.html();this.model.set({xml:$(n),svg:{width:this.parseSize(n,"width"),height:this.parseSize(n,"height"),src:e},svgHtml:n}),this.model.get("pattern")&&this.renderPattern(),this.model.trigger("object:ajax-loaded"),app.trigger("object:ajax-loaded")}})},render:function(){this._super(),n.isUndefined(this.model.get("xml"))?this.getSvgXml():(this.model.set("xml",$(this.model.get("svgHtml"))),this.setXml())},removeText:function(e){for(var t=this.$el.find("text"),i=t.length,n=0;i>n;n++)t.eq(n).remove()},parseText:function(e){var t=this.$el.find("text"),i=t.length,o=[];t.find("tspan").length>0&&(t=t.find("tspan"),i=t.length),this.$el.find("svg").css("position","absolute");for(var r=0;i>r;r++){var s=t.eq(r).position().top+this.model.get("y"),a=t.eq(r).position().left+this.model.get("x");isNaN(Number(t.eq(r).attr("x")))||(a+=Number(t.eq(r).attr("x")));var l=t.eq(r).css("fill"),d=t.eq(r).css("font-family"),c=t.eq(r).css("font-size").replace("px","");n.each(app.settings.get("fonts"),function(e){-1!==d.toLowerCase().indexOf(e.toLowerCase())&&(d=e)});var h="",u="";-1!==d.toLowerCase().indexOf("italic")&&(h="font-style:italic;"),-1!==d.toLowerCase().indexOf("bold")&&(u="font-weight:bold;"),-1!==d.toLowerCase().indexOf("light")&&-1!==d.toLowerCase().indexOf("lato")&&(u="font-weight:300;"),o.push({type:"text",name:t.eq(r).text(),x:a,y:s,text:"<span style='color:"+l+";"+u+h+";'>"+t.eq(r).text()+"</span>",padding:{vertical:0,horizontal:0},lineHeight:1,font:{name:d,size:c,usedFonts:[d]},width:t.eq(r).width(),height:t.eq(r).height()}),t.eq(r).remove()}this.model.get("parseTextCallback.callback").call(this.model.get("parseTextCallback.scope"),o,this.model.get("parseTextCallback.done"))},parseColors:function(e){var t;if($(e).find('[id^="Color"]').length>0||$(e).find('[id^="Strokecolor"]').length>0){var i=[];for(t=0;3>=t;t++)$(e).find('[id^="Color'+(t+1)+'"]').length&&(i[t]=$(e).find('[id^="Color'+(t+1)+'"]').css("fill")),$(e).find('[id^="Strokecolor'+(t+1)+'"]').length&&(i[t]=$(e).find('[id^="Strokecolor'+(t+1)+'"]').css("stroke"));return i}return!1},parsePatterns:function(e){var t=!1;return $(e).find('[id^="repeat"]').length>0&&(t=$(e).find('[id^="repeat"]').attr("width")?parseInt($(e).find('[id^="repeat"]').attr("width").replace("px","")):$(e).find('[id^="repeat"]').children().eq(0).attr("width")?parseInt($(e).find('[id^="repeat"]').children().eq(0).attr("width").replace("px","")):$(e).find("svg").attr("width")?parseInt($(e).find("svg").attr("width").replace("px","")):$(e).find('[id^="repeat"]').children().eq(0).attr("cx")?parseInt($(e).find('[id^="repeat"]').children().eq(0).attr("cx").replace("px","")):100),t},parseSize:function(e,t){return parseInt($(e).find("svg").attr(t).replace("px",""))},renderPattern:function(){var e=this.model.get("width")-this.model.get("svg.width"),t=this.model.get("pattern"),i=Math.ceil(e/t),n=this.$el.find('[id^="repeat"]').clone();n.attr("id","rclone");var o=this.$el.find('[id^="rclone"]').length,r=Number(this.$el.find('[id^="repeat"]').first().attr("x"));if(isNaN(r)&&(r=Number(this.$el.find('[id^="repeat"]').first().attr("cx"))),isNaN(r)&&(r=Number(this.$el.find('[id^="repeat"]').first().attr("width"))),isNaN(r)&&(r=t),o>i&&this.$el.find("svg").eq(0).find('[id^="rclone"]').eq(i).nextAll('[id^="rclone"]').remove(),i){i=i;for(var s=o;i>=s;s++){var a=n.clone();a.attr("id","rclone_"+s),a.attr("transform","translate("+(r+s*t)+")"),this.$el.find("svg").find('[id="rzone"]').length>0?this.$el.find("svg").find('[id="rzone"]').append(a):this.$el.find("svg").find('[id^="rclone"]').length>0?this.$el.find("svg").find('[id^="rclone"]').last().after(a):this.$el.find("svg").find('[id^="repeat"]').last().after(a)}}if(this.$el.find("#alignright").length>0){var l=this.$el.find("#alignright").attr("width");this.$el.find("#alignright").attr("transform","translate("+(this.model.get("width")-l-(this.model.get("svg.width")-l))+")"),this.$el.find("#rzone").length>0&&this.$el.find("#rzone").attr("width",this.model.get("width")-l)}this.$el.find("svg").eq(0).attr("width",this.model.get("width")),this.model.get("svg.height")&&this.model.get("pattern")>0&&this.$el.find("svg").get(0)&&this.$el.find("svg").get(0).setAttribute("viewBox","0 0 "+this.model.get("width")+" "+this.model.get("svg.height"))}})},{"../../objectView.js":75,underscore:52}],107:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),r=o.extend(n.extend({},{initialize:function(){this._super(),this.propertyMenuItems=this.propertyMenuItems.concat(".icon5",".icon_specialeffects"),this.subMenu=n.extend({},o.prototype.subMenu),this.subMenu.settings=["colorPopup","spacingPopup","transformPopup","borderPopup"],this.activeMenuItem=".icon5"},tempAttributes:["forceStartEditorOnce"],validators:{text:{type:"string",params:{notblank:!0}},lineHeight:{type:"number",params:{min:0,max:3}},"padding.horizontal":{type:"number",params:{min:0,max:100}},"padding.vertical":{type:"number",params:{min:0,max:100}},borderWidth:{type:"number",params:{min:0,max:100}},borderRadius:{type:"number",params:{min:0,max:45}}},defaults:{type:"table",font:{name:"Arial",usedFonts:[]},theme:"theme5",padding:{vertical:10,horizontal:10},border:{style:"none",size:1,color:"#000"},align:"left",lineHeight:1.2,fixedWidth:!1,proportionLock:!1,borderRadius:0,borderWidth:1,backgroundColor:"transparent",tableObject:!0}}));n.defaults(r.prototype.defaults,o.prototype.defaults),n.defaults(r.prototype.validators,o.prototype.validators),n.defaults(r.prototype.tempAttributes,o.prototype.tempAttributes),t.exports=r},{"./../../objectModel.js":74,underscore:52}],108:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js"),r=e("../../../../helpers/fontLoader.js"),s=e("TweenLite"),a=o.extend({template:"#table",groupHold:!1,textRenderingBuff:1,initialize:function(){n.bindAll(this,"setGroupHold","startEditor","initCellsWidth","initCellsHeight"),app.on("groupHold",this.setGroupHold),app.on("object:onclick",this.startEditor),app.on("table:rewidth",this.initCellsWidth),this._super(),this.nonTweenable=this.nonTweenable.concat(["font","lineHeight","text","padding","paddingHorizontal","paddingVertical","tableObject","fixedWidth","theme"]),this.model.get("forceStartEditorOnce")&&(setTimeout(function(){this.startEditor(this.model)}.bind(this),500),this.model.set({forceStartEditorOnce:!1},{silent:!0}))},initCellsWidth:function(e,t){this.initCellsHeight(e,t);var i,n,o=this.$vmTable||e,r=o.find("tr").first().find("td"),a=[],l=[];for(n=0;n<r.length;n++)i=r.eq(n).attr("style")||"",-1!==i.indexOf("width")&&-1===i.indexOf("width: auto")?a.push(r.eq(n)):l.push(r.eq(n));var d,c=0;for(n=0;n<a.length;n++)d=a[n].attr("style"),d=parseFloat(d.slice(d.indexOf("width")+7).split("%")[0]),c+=d;var h,u=100/parseFloat(r.length),p=0;if(t)for(n=0;n<r.length;n++)s.set(r.eq(n),{css:{width:u+"%"}});else if(!(c>99&&0===l.length))if(c>99){for(n=0;n<l.length;n++)s.set(l[n],{css:{width:u+"%"}}),p+=u;for(h=parseFloat(p)/a.length,n=0;n<a.length;n++)d=a[n].attr("style"),d=parseFloat(d.slice(d.indexOf("width")+7).split("%")[0]),d-h>1&&s.set(a[n],{css:{width:d-h+"%"}})}else for(h=parseFloat(100-c)/a.length,n=0;n<a.length;n++)d=a[n].attr("style"),d=parseFloat(d.slice(d.indexOf("width")+7).split("%")[0]),s.set(a[n],{css:{width:d+h+"%"}})},initCellsHeight:function(e,t){var i,n,o=this.$vmTable||e,r=o.find("tr"),a=[],l=[];for(n=0;n<r.length;n++)i=r.eq(n).attr("style")||"",-1!==i.indexOf("height")&&-1===i.indexOf("height: auto")?a.push(r.eq(n)):l.push(r.eq(n));var d,c=0;for(n=0;n<a.length;n++)d=a[n].attr("style"),d=parseFloat(d.slice(d.indexOf("height")+7).split("%")[0]),c+=d;var h,u=100/parseFloat(r.length),p=0;if(t)for(n=0;n<r.length;n++)s.set(r.eq(n),{css:{height:u+"%"}});else if(!(c>99&&0===l.length))if(c>99){for(n=0;n<l.length;n++)s.set(l[n],{css:{height:u+"%"}}),p+=u;for(h=parseFloat(p)/a.length,n=0;n<a.length;n++)d=a[n].attr("style"),d=parseFloat(d.slice(d.indexOf("height")+7).split("%")[0]),d-h>1&&s.set(a[n],{css:{height:d-h+"%"}})}else for(h=parseFloat(100-c)/a.length,n=0;n<a.length;n++)d=a[n].attr("style"),d=parseFloat(d.slice(d.indexOf("height")+7).split("%")[0]),s.set(a[n],{css:{height:d+h+"%"}})},setGroupHold:function(e){this.groupHold=e},startEditor:function(e){
this.groupHold||this.model!==e||app.trigger("textEditorPopup:show",this.model)},update:function(e,t){var i=n.isUndefined(this.model.get("borderStyle"))||"none"===this.model.get("borderStyle").toLowerCase()?0:this.model.get("borderWidth");if(n.has(this.model.changed,"theme")&&(this.$el.find("table").attr("data-theme",this.model.changed.theme),delete this.model.changed.theme),n.has(this.model.changed,"fixedWidth")&&delete this.model.changed.fixedWidth,n.has(this.model.changed,"tableObject")&&delete this.model.changed.tableObject,n.has(this.model.changed,"borderRadius")&&(s.set(this.$el,{borderRadius:this.model.changed.borderRadius+"px"}),delete this.model.changed.borderRadius),n.has(this.model.changed,"lineHeight")&&(s.set(this.$vmTable,{lineHeight:this.model.changed.lineHeight}),delete this.model.changed.lineHeight),n.has(this.model.changed,"padding")){var o=this.model.get("padding");s.set(this.$vmTable,{css:{"padding-bottom":o.vertical,"padding-top":o.vertical,"padding-left":o.horizontal,"padding-right":o.horizontal}}),s.set(this.$vmTable,{width:this.model.get("width")-2*this.model.get("padding.horizontal")-2*i}),delete this.model.changed.padding}n.has(this.model.changed,"text")&&(""===$("<div>"+this.model.changed.text+"</div>").text()&&app.trigger("objectCollection:remove:view-model",[this.model]),this.$el.find(".vm-table").html(this.model.changed.text),delete this.model.changed.text,this.initCellsWidth()),n.has(this.model.changed,"font.usedFonts")&&delete this.model.changed["font.usedFonts"],n.has(this.model.changed,"font")&&(r.add(this.model.get("font.name")),n.each(this.model.get("font.usedFonts"),function(e){r.add(e)},this),s.set(this.$vmTable,{css:{fontSize:this.model.get("font.size")}}),delete this.model.changed["font.size"],delete this.model.changed["font.name"],delete this.model.changed["font.usedFonts"]),n.has(this.model.changed,"align")&&(this.$el.find(".vm-table").css("text-align",this.model.changed.align),delete this.model.changed.align),(n.has(this.model.changed,"borderStyle")||n.has(this.model.changed,"borderWidth"))&&s.set(this.$vmTable,{width:this.model.get("width")-2*this.model.get("padding.horizontal")-2*i}),this._super(e,t)},render:function(){this._super(),s.set(this.$el,{css:{"box-sizing":"border-box"}}),s.set(this.$el.find(".drag-helper"),{width:this.model.get("width")+this.extraDragSpace,height:this.model.get("height")+this.extraDragSpace,x:-this.extraDragSpace/2,y:-this.extraDragSpace/2}),s.set(this.$el.find(".drag-helper div"),{width:this.model.get("width"),height:this.model.get("height"),x:this.extraDragSpace/2,y:this.extraDragSpace/2}),this.$vmTable=this.$el.find(".vm-table")}});n.defaults(a.prototype.events,o.prototype.events),t.exports=a},{"../../../../helpers/fontLoader.js":55,"../../objectView.js":75,TweenLite:"TweenLite",underscore:52}],109:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),r=o.extend(n.extend({},{initialize:function(){this._super(),this.propertyMenuItems=this.propertyMenuItems.concat(".icon5",".icon_specialeffects"),this.subMenu=n.extend({},o.prototype.subMenu),this.subMenu.settings=["colorPopup","spacingPopup","transformPopup","borderPopup"],this.activeMenuItem=".icon5"},tempAttributes:["forceStartEditorOnce"],validators:{text:{type:"string",params:{notblank:!0}},lineHeight:{type:"number",params:{min:0,max:3}},"padding.horizontal":{type:"number",params:{min:0,max:100}},"padding.vertical":{type:"number",params:{min:0,max:100}},borderWidth:{type:"number",params:{min:0,max:100}},borderRadius:{type:"number",params:{min:0,max:45}}},defaults:{type:"text",font:{name:"Arial",usedFonts:[]},padding:{vertical:10,horizontal:10},border:{style:"none",size:1,color:"#000"},align:"left",lineHeight:1.2,fixedWidth:!1,proportionLock:!1,borderRadius:0,borderWidth:1,backgroundColor:"transparent"}}));n.defaults(r.prototype.defaults,o.prototype.defaults),n.defaults(r.prototype.validators,o.prototype.validators),n.defaults(r.prototype.tempAttributes,o.prototype.tempAttributes),t.exports=r},{"./../../objectModel.js":74,underscore:52}],110:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js"),r=e("../../../../helpers/fontLoader.js"),s=e("TweenLite"),a=o.extend({template:"#text",groupHold:!1,initialize:function(){n.bindAll(this,"fitToTextSize","fitToTextSizeVertical","setGroupHold","startEditor"),this.model.bind("change:lineHeight change:borderWidth change:borderStyle change:fixedWidth",this.fitToTextSizeVertical),this.model.bind("change:padding.vertical resize-end change:font.size change:font.name change:font.usedFonts",this.fitToTextSize),this.model.get("fixedWidth")||app.on("object:resize",function(){this.model.set("fixedWidth",!0)}.bind(this)),app.on("groupHold",this.setGroupHold),app.on("object:onclick",this.startEditor),this._super(),this.nonTweenable=this.nonTweenable.concat(["font","lineHeight","text","padding","paddingHorizontal","paddingVertical"]),this.model.get("forceStartEditorOnce")&&(setTimeout(function(){this.startEditor(this.model)}.bind(this),500),this.model.set({forceStartEditorOnce:!1},{silent:!0}))},setGroupHold:function(e){this.groupHold=e},startEditor:function(e){this.groupHold||this.model!==e||(this.initText(),app.trigger("textEditorPopup:show",this.model))},initText:function(){if(!this.model.get("fixedWidth")){var e=this,t=this.$el.find(".vm-text");t.one("paste",function(){e.model.set("fixedWidth",!0)}),t.css({width:"auto"})}},update:function(e,t){var i=n.isUndefined(this.model.get("borderStyle"))||"none"===this.model.get("borderStyle").toLowerCase()?0:this.model.get("borderWidth");if(n.has(this.model.changed,"borderRadius")&&(s.set(this.$el,{borderRadius:this.model.changed.borderRadius+"px"}),delete this.model.changed.borderRadius),n.has(this.model.changed,"lineHeight")&&(s.set(this.$vmText,{lineHeight:this.model.changed.lineHeight}),delete this.model.changed.lineHeight),n.has(this.model.changed,"padding")){var o=this.model.get("padding");s.set(this.$vmText,{css:{"padding-bottom":o.vertical,"padding-top":o.vertical,"padding-left":o.horizontal,"padding-right":o.horizontal}}),s.set(this.$vmText,{width:this.model.get("width")-2*this.model.get("padding.horizontal")-2*i}),delete this.model.changed.padding}n.has(this.model.changed,"fixedWidth")&&delete this.model.changed.fixedWidth,n.has(this.model.changed,"text")&&(""===$("<div>"+this.model.changed.text+"</div>").text()&&app.trigger("objectCollection:remove:view-model",[this.model]),this.$el.find(".vm-text").html(this.model.changed.text),delete this.model.changed.text),n.has(this.model.changed,"font.usedFonts")&&delete this.model.changed["font.usedFonts"],n.has(this.model.changed,"font")&&(r.add(this.model.get("font.name")),n.each(this.model.get("font.usedFonts"),function(e){r.add(e)},this),s.set(this.$vmText,{css:{fontSize:this.model.get("font.size")}}),delete this.model.changed["font.size"],delete this.model.changed["font.name"],delete this.model.changed["font.usedFonts"]),n.has(this.model.changed,"align")&&(this.$el.find(".vm-text").css("text-align",this.model.changed.align),delete this.model.changed.align),n.has(this.model.changed,"width")&&"editor"!==app.settings.get("editMode")&&this.model.get("fixedWidth")&&(this.model.attributes.width=this.model.changed.width+this.textRenderingBuff),(n.has(this.model.changed,"borderStyle")||n.has(this.model.changed,"borderWidth"))&&s.set(this.$vmText,{width:this.model.get("width")-2*this.model.get("padding.horizontal")-2*i}),this._super(e,t)},textRenderingBuff:1,fitToTextSizeVertical:function(){var e=this,t=this.$el.find(".vm-text"),i=this.model.get("padding.vertical"),o=n.isUndefined(this.model.get("borderStyle"))||"none"===this.model.get("borderStyle").toLowerCase()?0:this.model.get("borderWidth");setTimeout(function(){var n=t.height()+2*(i+o);n>e.model.get("height")&&e.model.set("height",n)}.bind(this),500)},fitToTextSize:function(){var e=this,t=this.$el.find(".vm-text"),i=this.model.get("padding.horizontal"),o=this.model.get("padding.vertical"),r=n.isUndefined(this.model.get("borderStyle"))||"none"===this.model.get("borderStyle").toLowerCase()?0:this.model.get("borderWidth");setTimeout(function(){var n=t.height()+2*(o+r),s=t.width()+2*(i+r);e.model.set("width",s),n>e.model.get("height")&&e.model.set("height",n)}.bind(this),0)},render:function(){this._super(),s.set(this.$el,{css:{"box-sizing":"border-box"}}),s.set(this.$el.find(".drag-helper"),{width:this.model.get("width")+this.extraDragSpace,height:this.model.get("height")+this.extraDragSpace,x:-this.extraDragSpace/2,y:-this.extraDragSpace/2}),s.set(this.$el.find(".drag-helper div"),{width:this.model.get("width"),height:this.model.get("height"),x:this.extraDragSpace/2,y:this.extraDragSpace/2}),this.$vmText=this.$el.find(".vm-text"),0===this.model.get("height")&&this.fitToTextSizeVertical()}});n.defaults(a.prototype.events,o.prototype.events),t.exports=a},{"../../../../helpers/fontLoader.js":55,"../../objectView.js":75,TweenLite:"TweenLite",underscore:52}],111:[function(e,t,i){var n=e("underscore"),o=e("./../../objectModel.js"),r=o.extend(n.extend({},{initialize:function(){this._super(),this.propertyMenuItems=this.propertyMenuItems.concat(".icon_specialeffects"),this.activeMenuItem=".icon_specialeffects"},useVideoTemplate:function(){this.set("type","video")},useThumbTemplate:function(){this.set("type","video-thumb")},defaults:{type:"video-thumb",controls:!0,autoplay:!1,loop:!1,mute:!1,thumbnail:".images/video_placeholder.jpg",videoLink:"",provider:"",videoid:"",src:"",width:500,height:300},getVideoId:function(){}}));n.defaults(r.prototype.defaults,o.prototype.defaults),t.exports=r},{"./../../objectModel.js":74,underscore:52}],112:[function(e,t,i){var n=e("underscore"),o=e("../../objectView.js"),r=o.extend({youtubeSrc:"https://www.youtube.com/embed/",vimeoSrc:"https://player.vimeo.com/video/",args:"{videoid}?{startTime}&controls={controls}&loop={loop}&mute={mute}&enablejsapi=1",vimeoVideoTemplate:"#vimeo-video",youtubeVideoTemplate:"#youtube-video",vismeVideoTemplate:"#visme-video",thumbnailTemplate:"#video-thumb",initialize:function(){this.template=this.getTemplate(),this.model.attributes.src=this.generateSrc(),this._super(),this.nonTweenable=this.nonTweenable.concat(["controls","autoplay","loop","mute","thumbnail","provider","videoLink","videoid"]),this.player=this.$el.find("video")[0],n.bindAll(this,"stop","play","setVolume"),app.bind("slide:transitionTo",this.stop),this.model.get("autoplay")&&app.bind("timeline:play timeline:no-animations-play",this.play),app.settings.bind("change:mute",this.setVolume)},isActiveSlide:function(){return this.$el.closest(".stage").attr("id")===$(".stage")[app.views.slidesView.currentSlideIndex].id},afterRender:function(){if("publish"===app.settings.get("editMode"))if("youtube"===this.model.get("provider"))this.setupYoutubeAPI();else if("visme"===this.model.get("provider")||"vismeold"===this.model.get("provider")){this.$el.find("video").get(0).mute=!0,this.$el.find("video").get(0).addEventListener("ended",function(){app.trigger("video:ended")},!1);var e=this.model.get("startTime");if(e){var t=60*e.minute+e.second;this.$el.find("video").get(0).addEventListener("loadedmetadata",function(){t>this.duration?this.currentTime=this.duration:this.currentTime=t},!1)}this.$el.on("click","video",function(e){var t=e.pageY-$(this).offset().top,i=parseFloat($(this).height());return t>.92*i?void 0:(this.paused?this.play():this.pause(),!1)})}this._super()},setupYoutubeAPI:function(){if(!$("#youtube-api-script").length){var e=document.createElement("script");$(e).attr("id","youtube-api-script"),e.src="//www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),window.onYouTubeIframeAPIReady=function(){window.players={};for(var e=function(e){console.log("state changed : "+e.data),e.data===YT.PlayerState.ENDED&&app.trigger("video:ended",app.views.slidesView.currentSlideIndex)},t=function(e){$(e.target.getIframe()).hasClass("muted")?e.target.mute():e.target.unMute()},i=0;i<$(".ytplayer").length;i++){var o=$(".ytplayer")[i].id.replace("ytvel",""),r={};r[o]=new YT.Player($(".ytplayer")[i].id,{events:{onReady:t,onStateChange:e}}),n.extend(window.players,r)}}}},dblclick:function(){app.trigger("videoPopup:show",this.model)},generateSrc:function(){var e=""+this.args,t=this.model.get("startTime"),i=0;if("youtube"===this.model.get("provider"))e=this.youtubeSrc+e,this.model.get("loop")&&(e+="&playlist="+this.model.get("videoid")),i=n.isUndefined(t)?0:60*t.minute+t.second,e=e.replace("{startTime}","start="+i);else if("vimeo"===this.model.get("provider"))e=this.vimeoSrc+e,t?(i=t.minute+"m"+t.second+"s",e=e.replace("?{startTime}&","#t="+i+"?")):e=e.replace("{startTime}&","");else{if("vismeold"===this.model.get("provider")){var o="//ec2-50-17-186-69.compute-1.amazonaws.com/getvideo.php?id=";return e=-1!==this.model.get("src").indexOf("ec")?this.model.get("src"):o+this.model.get("link.target")+"&t=v&f=.mp4"}e=e.replace("{startTime}&","")}return n.each(["videoid","controls","loop","mute"],function(t){var i="";i="videoid"===t?this.model.get(t):this.model.get(t)?"1":"0",e=e.replace("{"+t+"}",i)},this),e},updateHeight:function(){var e=this.$el.find("img, iframe");e.attr("height",this.model.get("height")),e.attr("width",this.model.get("width")),e.css({height:this.model.get("height"),width:this.model.get("width")})},update:function(e,t){(n.has(this.model.changed,"height")||n.has(this.model.changed,"width"))&&this.updateHeight(),n.has(this.model.changed,"thumbnail")&&this.$el.find("img").attr("src",this.model.changed.thumbnail),this._super(e,t)},getTemplate:function(){var e=app.settings.get("editMode"),t=this.thumbnailTemplate;return"publish"===e&&("youtube"===this.model.get("provider")?t=this.youtubeVideoTemplate:"vimeo"===this.model.get("provider")?t=this.vimeoVideoTemplate:"visme"===this.model.get("provider")?t=this.vismeVideoTemplate:"vismeold"===this.model.get("provider")&&(t=this.vismeVideoTemplate)),t},stop:function(e){if($("#"+this.model.get("id")).parents(".stage").attr("id")!==e.model.get("id"))if("youtube"===this.model.get("provider")){var t=this.model.get("id"),i=$("#"+t).find(".ytplayer")[0];i.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}else if("vimeo"===this.model.get("provider")){var n=this.model.get("id"),o=$("#"+n).find(".vplayer")[0];o.contentWindow.postMessage('{"method":"pause","value":""}',"*")}else $("#"+this.model.get("id")).find("video").length&&$("#"+this.model.get("id")).find("video").get(0).pause()},setVolume:function(){var e=app.settings.get("mute"),t=0;if("youtube"===this.model.get("provider")){var i=this.model.get("id"),n=$("#"+i).find(".ytplayer")[0];e?n.contentWindow.postMessage('{"event":"command","func":"mute","args":""}',"*"):n.contentWindow.postMessage('{"event":"command","func":"unMute","args":""}',"*")}else if("vimeo"===this.model.get("provider")){e||(t=1);var o=this.model.get("id"),r=$("#"+o);r.find("iframe")[0].contentWindow.postMessage('{"method":"setVolume","value":'+t+"}","*")}else e||(t=1),$("#"+this.model.get("id")).find("video").length&&($("#"+this.model.get("id")).find("video").get(0).volume=t)},play:function(e){if(this.isActiveSlide()&&$("#"+this.model.get("id")).parents(".stage").attr("id")===e.get("id"))if("youtube"===this.model.get("provider")){var t=this.model.get("id"),i=$("#"+t).find(".ytplayer")[0];i.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}else"vimeo"===this.model.get("provider")?$("#"+this.model.get("id")).find("iframe")[0].contentWindow.postMessage('{"method":"play","value":""}',"*"):$("#"+this.model.get("id")).find("video").get(0).play()}});n.defaults(r.prototype.events,o.prototype.events),t.exports=r},{"../../objectView.js":75,underscore:52}],113:[function(e,t,i){var n=e("TweenLite");t.exports=function(e,t){var i=1,o=e.get("animation.enter.delay"),r=0,s=0,a=10;switch(e.get("animation.enter.name")){case"Fly from Left":r=Math.abs(e.get("height")*Math.sin(e.get("rotation")*(Math.PI/180)))+Math.abs(e.get("width")*Math.cos(e.get("rotation")*(Math.PI/180))),n.set($("#content #"+e.get("id")),{x:-(e.get("width")+r)/2-a}),t.to($("#content #"+e.get("id")),i,{x:e.get("x")},o);break;case"Fly from Right":r=Math.abs(e.get("height")*Math.sin(e.get("rotation")*(Math.PI/180)))+Math.abs(e.get("width")*Math.cos(e.get("rotation")*(Math.PI/180))),n.set($("#content #"+e.get("id")),{x:app.settings.get("slideWidth")+(r-e.get("width"))/2+a}),t.to($("#content #"+e.get("id")),i,{x:e.get("x")},o);break;case"Fly from Top":s=Math.abs(e.get("width")*Math.sin(e.get("rotation")*(Math.PI/180)))+Math.abs(e.get("height")*Math.cos(e.get("rotation")*(Math.PI/180))),n.set($("#content #"+e.get("id")),{y:-(e.get("height")+s)/2-a}),t.to($("#content #"+e.get("id")),i,{y:e.get("y")},o);break;case"Fly from Bottom":s=Math.abs(e.get("width")*Math.sin(e.get("rotation")*(Math.PI/180)))+Math.abs(e.get("height")*Math.cos(e.get("rotation")*(Math.PI/180))),n.set($("#content #"+e.get("id")),{y:app.settings.get("slideHeight")+(s-e.get("height"))/2+a}),t.to($("#content #"+e.get("id")),i,{y:e.get("y")},o);break;case"Fade In":n.set($("#content #"+e.get("id")),{opacity:0}),t.to($("#content #"+e.get("id")),i,{opacity:e.get("opacity")/100},o);break;case"Pop Out":n.set($("#content #"+e.get("id")),{scale:[0,0]}),t.to($("#content #"+e.get("id")),i,{scale:[1,1]},o);break;case"Custom animation":app.trigger("error","old animation detected");break;case"None":0!==o&&(n.set($("#content #"+e.get("id")),{css:{opacity:0}}),t.to($("#content #"+e.get("id")),.1,{css:{opacity:e.get("opacity")/100}},o));break;default:if(o>=0){var l=function(){};"audio"===e.get("type")&&(l=function(){e.set("state","play")}),t.to($("#content #"+e.get("id")),.1,{},o).call(l)}}}},{TweenLite:"TweenLite"}],114:[function(e,t,i){t.exports=function(){function e(e,t){var i,n=Number(e.get("animation.enter.delay"));console.log($("#"+e.get("id")).find("audio")[0].readyState),$("#"+e.get("id")).find("audio")[0].readyState>=3?(i=n+$("#"+e.get("id")).find("audio")[0].duration,t.to($("#content #"+e.get("id")),0,{x:-e.get("width")},i),$("#"+e.get("id")).closest(".stage").trigger("timeline:ready"),t.ready=!0):(t.ready=!1,e.bind("oncanplay",function(){console.log($("#"+e.get("id")).find("audio")[0].readyState),i=n+$("#"+e.get("id")).find("audio")[0].duration,t.to($("#content #"+e.get("id")),0,{x:-e.get("width")},i),e.unbind("oncanplay"),$("#"+e.get("id")).closest(".stage").trigger("timeline:ready"),t.ready=!0}))}return{setUp:function(t,i){var n="audio"===t.get("type")?0:1,o=0,r=Number(t.get("animation.enter.delay"));"audio"===t.get("type")?t.get("loop")?o=r+216e3:e(t,i):o=r+Number(t.get("animation.exit.delay")),"audio"!==t.get("type")&&(o=Number(t.get("animation.enter.delay"))+1+Number(t.get("animation.exit.delay")));var s="audio"===t.get("type")?"Fly to Left":t.get("animation.exit.name");switch(s){case"Fly to Left":i.to($("#content #"+t.get("id")),n,{x:-t.get("width")},o);break;case"Fly to Right":i.to($("#content #"+t.get("id")),n,{x:app.settings.get("slideWidth")},o);break;case"Fly to Top":i.to($("#content #"+t.get("id")),n,{y:-t.get("height")},o);break;case"Fly to Bottom":i.to($("#content #"+t.get("id")),n,{y:app.settings.get("slideHeight")},o);break;case"Fade Out":i.to($("#content #"+t.get("id")),n,{css:{opacity:0}},o);break;case"Pop Away":i.to($("#content #"+t.get("id")),n,{scale:[0,0]},o)}}}}()},{}],115:[function(e,t,i){t.exports=function(e,t){function i(e){var t=$("<div></div>"),n=e.contents().clone();return n.each(function(){if(3===this.nodeType){for(var e="",n=this.wholeText,o=0;o<n.length;o++)e+=" "===n[o]?"<span>&nbsp;</span>":"<span class='letter'>"+n[o]+"</span>";t.append($(e))}else $(this).html(i($(this))),t.append($(this))}),t.html()}var n=e.get("animation.enter.delay")+1;$("#content #"+e.get("id")+" .vm-text").html(i($("#content #"+e.get("id")+" .vm-text")));var o=$("#content #"+e.get("id")+" .vm-text .letter");switch(e.set("width",e.get("width")+1),e.get("textEffect")){case"wave":t.staggerFrom(o,.48,{alpha:0},.06,n),t.staggerFrom(o,.96,{rotationY:"-270deg",top:60,transformOrigin:"50% 50% -80",ease:"Back.easeOut"},.06,n);break;case"impact":o.css("opacity",0),t.to(o,0,{scale:[3,3],rotationY:"-270deg",opacity:0},n),t.staggerTo(o,1,{scale:[1,1],rotationY:0,opacity:1,ease:"Back.easeOut"},.06,n);break;case"typewriter":o.css("opacity",0),t.set(o,{top:-5,opacity:0},0),t.staggerTo(o,.2,{top:0,opacity:1,ease:"Back.easeOut"},.06,n)}}},{}],116:[function(e,t,i){var n=e("underscore");t.exports=function(e,t){e.tweenAnimParam1=0,e.set("animParam1",0);var i=0;e.get("animation.enter.delay")&&(i=e.get("animation.enter.delay")+1),n.isUndefined(e.get("arrParam"))?t.fromTo(e,1,{tweenAnimParam1:0},{tweenAnimParam1:e.get("param1"),onUpdateParams:["{self}","tweenAnimParam1"],onUpdate:function(e){e.target.set("animParam1",Number(e.target.tweenAnimParam1))},ease:"Bounce.easeOut"},i):(e.tweenArrParam=0,e.set("arrParam",0),t.fromTo(e,1,{tweenArrParam:0},{tweenArrParam:e.get("param1"),onUpdateParams:["{self}","tweenArrParam"],onUpdate:function(e){e.target.set("arrParam",Number(e.target.tweenArrParam))},ease:"Bounce.easeOut"},i)),n.isUndefined(e.get("param2"))||(e.tweenAnimParam2=0,e.set("animParam2",0),t.fromTo(e,1,{tweenAnimParam2:0},{tweenAnimParam2:e.get("param2"),onUpdateParams:["{self}","tweenAnimParam2"],onUpdate:function(e){e.target.set("animParam2",Number(e.target.tweenAnimParam2))},ease:"Bounce.easeOut"},i)),n.isUndefined(e.get("param2"))||(e.tweenAnimParam2=0,e.set("animParam2",0),t.fromTo(e,1,{tweenAnimParam2:0},{tweenAnimParam2:e.get("param2"),onUpdateParams:["{self}","tweenAnimParam2"],onUpdate:function(e){e.target.set("animParam2",Number(e.target.tweenAnimParam2))},ease:"Bounce.easeOut"},i)),n.isUndefined(e.get("param3"))||(e.tweenAnimParam3=0,e.set("animParam3",0),t.fromTo(e,1,{tweenAnimParam3:0},{tweenAnimParam3:e.get("param3"),onUpdateParams:["{self}","tweenAnimParam3"],onUpdate:function(e){e.target.set("animParam3",Number(e.target.tweenAnimParam3))},ease:"Bounce.easeOut"},i))}},{underscore:52}],117:[function(e,t,i){var n=e("backbone"),o=e("underscore"),r=e("./../../helpers/gradient.js"),s=e("TweenLite");t.exports=n.View.extend(o.extend({},{el:"#content",resizeTimeout:!1,footerTimeout:!1,hideFooter:function(){this.footerTimeout||(this.footerTimeout=setTimeout(function(){this.$controls.fadeOut("fast"),this.footerTimeout=!1}.bind(this),800))},toggleControls:function(){(this.isFullScreenMode()||this.isEmbedded())&&this.hideFooter()},showFooter:function(){this.footerTimeout&&(clearTimeout(this.footerTimeout),this.footerTimeout=!1),this.$controls.is(":visible")||this.$controls.fadeIn()},renderCustomBackground:function(e){if(o.isEmpty(e.value)||-1!==e.value.indexOf("background")||(e=JSON.parse(e.value)),!o.isNull(e.type)&&"gradient"===e.type){var t=$("#wrapper").width(),i=$("#wrapper").height(),n=document.createElement("canvas");$(n).css({width:t,height:i}),$(n).attr({width:t,height:i}),r(n,t,i,e.value);var s=n.toDataURL();$("body").css("background","url("+s+")")}},initialize:function(){o.bindAll(this,"windowResize","hideFooter","iFrameMessage","bindMobileEvent","bindWindowResize"),this.$footer=$(".bottom-controls"),this.$controls=$(".bottom-controls").find("#controls-container");var e=this;this.$footer.bind("mouseenter",function(){e.showFooter()}),this.$footer.bind("mouseleave",function(){e.toggleControls()}),this.removeBrand(),this.windowResize(),this.isEmbedded()&&this.hideFooter(),this.isMobile()?this.bindMobileEvent():this.bindWindowResize(),setTimeout(function(){$(document).width()>$(window).width()&&this.windowResize()}.bind(this),500)},bindMobileEvent:function(){$(window).on("orientationchange",function(e){setTimeout(function(){this.windowResize()}.bind(this),500)}.bind(this)),this.isEmbedded()&&app.bind("iframe-message",this.iFrameMessage)},bindWindowResize:function(){$(window).resize(function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){this.windowResize()}.bind(this),300)}.bind(this))},iFrameMessage:function(e){console.log(e),o.isUndefined(e)||"embed-iframe"===e.type&&(this.iFrameWidth=e.width,this.iFrameHeight=e.height)},removeBrand:function(){o.contains(app.settings.get("permissions"),"player:watermarkRemoveBranding")&&$(".bottom-controls").find("#logosmall").hide()},isFullScreenMode:function(){return!o.isUndefined(app.settings.get("fullscreen"))&&app.settings.get("fullscreen")},isResponsive:function(){return!o.isUndefined(app.settings.get("is_responsive"))&&app.settings.get("is_responsive")},isEmbedded:function(){return!o.isUndefined(app.settings.get("mode"))&&"embed"===app.settings.get("mode")},isPreview:function(){return!o.isUndefined(app.settings.get("mode"))&&"preview"===app.settings.get("mode")},isMobile:function(){return!o.isUndefined(app.settings.get("is_mobile"))&&app.settings.get("is_mobile")},ratioThreshold:1.8,windowResize:function(){var e=this.isResponsive(),t=this.isFullScreenMode(),i=app.settings.get("type"),n=this.isEmbedded(),o=this.isPreview(),r=this.isMobile(),a=Number(app.settings.get("slideWidth")),l=Number(app.settings.get("slideHeight")),d=0,c=app.settings.get("project_type");if("render"===app.settings.get("mode"))"plain"===i?this.$el.css({width:a,height:l*app.settings.get("slidesData").length}):this.$el.css({width:a,height:l});else{var h=$("#slide-panel").find(".slide_zone"),u=h.width(),p=h.height(),g=Math.min(u/a,p/l);s.set($("#slide-panel").find("section"),{scaleX:g,scaleY:g,y:-(l*g)/2,transformOrigin:"0% 0%"});var f,m,v=$(".bottom-controls").height();if(t){f=$(window).width()/a;var b=f*l;m=l/a,m<this.ratioThreshold&&"infographic"!==c?(d=$(window).height(),f=b>d?d/l:$(window).width()/a):d=b,setTimeout(function(){s.set($("#content"),{css:{height:d,width:$(window).width()}})},0),s.to($(".stage"),.5,{position:"absolute",scaleX:f,scaleY:f,left:"50%",top:"50%"}),this.$controls.fadeOut("fast")}else if(n){var y=this;setTimeout(function(){$("body").css("overflow","hidden"),r&&y.iFrameWidth&&y.iFrameHeight?(y.$el.css({width:y.iFrameWidth,height:y.iFrameHeight}),f=parseInt(y.iFrameWidth)/a,y.iFrameWidth=null,y.iFrameHeight=null):(y.$el.css({width:Math.min($(document).width(),$(window).width()),height:$(window).height()}),f=Math.min($(document).width(),$(window).width())/a),s.to($(".stage"),.5,{position:"absolute",scaleX:f,scaleY:f,left:"50%",top:"50%"})},500)}else{var w=$("#logos").is(":visible")?Number($("#logos").height()):0;if(e&&!o||r){m=l/a,v||(v=20);var T=Number($(window).height())-w-v,x=T/l;m<this.ratioThreshold&&"infographic"!==c?(f=x*a<.9*$(window).width()?x:.9*$(window).width()/a,this.$el.css({width:$(window).width(),height:T+v}),s.to($(".stage"),.5,{position:"absolute",scaleX:f,scaleY:f,left:"50%",top:T/2})):(f=.9*$(window).width()/a,d=l*f,this.$el.css({width:$(window).width(),height:d+v}),s.to($(".stage"),0,{position:"absolute",scaleX:f,scaleY:f,left:"50%",top:l*f/2}))}else d=l>$(window).height()-v-w?l+v:$(window).height()-w,this.$el.css({width:Math.max($(window).width(),a),height:d}),s.to($(".stage"),.5,{scaleX:1,scaleY:1,marginLeft:-(a/2),marginTop:-((l+v)/2)})}$("#profile-content").css("width",Math.min($(window).width()-100,1e3)),$(".publ_h2, .pname").css("width",Math.min($(window).width()-200,900)),$("#disqus_thread").css("width",Math.min($(window).width()-100,1e3))}this.renderCustomBackground({value:app.settings.get("background")})}}))},{"./../../helpers/gradient.js":56,TweenLite:"TweenLite",backbone:"backbone",underscore:52}],118:[function(e,t,i){var n=e("backbone"),o=e("underscore"),r=e("./fullscreen.js");t.exports=n.View.extend(o.extend({},{el:"#controls",inactiveClass:"inactive",autotransitionTimeout:!1,events:{"click #next-slide":"nextClick","click #prev-slide":"prevClick","click #play":"playClick","click #fullscreen":"fullScreenClick","click #sound":"soundClick","click #download":"downloadClick"},initialize:function(){this.$currentSlide=this.$el.find("span:eq(0)"),this.$slidesConter=this.$el.find("span:eq(1)"),this.$nextButton=this.$el.find("#next-slide"),this.$prevButton=this.$el.find("#prev-slide"),this.$playButton=this.$el.find("#play"),o.bindAll(this,"setSlidesCounter","setCurrentSlide","playStarted","playPaused","updateProgressBar","toggleFullScreen","proceedAutoadvance","keyPress","bindClickTransition","unbindClickTransition","touchstart","touchend","touchmove","playOverlayClick"),app.bind("slide:transitionTo",this.setCurrentSlide),app.bind("slides:rendered",this.setSlidesCounter),app.bind("timeline:play backgroundMusic:play",this.playStarted),app.bind("timeline:pause",this.playPaused),app.bind("timeline:progress",this.updateProgressBar),app.bind("slide:complete-animations",this.proceedAutoadvance),this.$timelineSlider=$("#timeline"),this.$timelineSlider.slider({value:0,min:0,animate:!0,max:1,step:.01,range:"min",slide:function(e,t){app.trigger("timeline:set-progress",t.value)}}),$("#play-overlay").length&&$("#play-overlay").bind("click",this.playOverlayClick),r.init(this.toggleFullScreen),this.bmusicView=null,this.bmusicModel=null;var e=app.settings.get("background_music");if(e&&"number"!=typeof e){var t=e.indexOf("audio")>-1?app.settings.get("assetsStorage"):app.settings.get("audioStorage");app.settings.get("Html5Download")&&e.indexOf("audio")>-1&&(t="https://dh7fnycu2r4y5.cloudfront.net/"),this.bmusicModel=new app.models.objects.audio({name:"Background Music",loop:0!==parseInt(app.settings.get("is_loop_background_music")),hash:e,is_bmusic:!0,audioStorage:t}),this.bmusicView=new app.views.objects.audio({model:this.bmusicModel})}$(document).on("keydown",this.keyPress),$(document).on("touchstart",this.touchstart),$(document).on("touchend",this.touchend),$(document).on("touchmove",this.touchmove)},swipeX:0,swipeY:0,swipeThreshold:150,swipeAllowedTime:250,swipeStartTime:0,touchstart:function(e){var t=e.originalEvent.changedTouches[0];this.swipeX=t.pageX,this.swipeY=t.pageY,this.swipeStartTime=(new Date).getTime()},touchend:function(e){var t=e.originalEvent.changedTouches[0],i=Math.abs(t.pageX-this.swipeX),n=(new Date).getTime()-this.swipeStartTime,o=n<=this.swipeAllowedTime,r=i>=this.swipeThreshold,s=Math.abs(t.pageY-this.swipeY)<=100,a=this.swipeX>t.pageX;o&&s&&r&&(a?this.nextClick():this.prevClick())},touchmove:function(e){return!0},keyPress:function(e){switch(e.which){case 37:case 33:return clearTimeout(this.autotransitionTimeout),app.trigger("slide:prev"),!1;case 39:case 34:return clearTimeout(this.autotransitionTimeout),app.trigger("slide:next"),!1;case 190:return this.toggleContentVisibility(e),!1;case 27:return this.playClick(),!1}},toggleContentVisibility:function(e){0===$("input:focus").length&&("hidden"!==$("#content").css("visibility")?$("#content").css("visibility","hidden"):$("#content").css("visibility","visible"))},isLastSlide:function(){return $("#next-slide").hasClass("inactive")},proceedAutoadvance:function(e){if(app.settings.get("auto_advance")&&!this.autotransitionTimeout&&!$("#play-overlay").length)if("timer"===e.get("transition.type")){var t=parseFloat(e.get("transition.duration"));this.isLastSlide()&&"0"!==app.settings.get("loop_presentation")&&(t+=parseFloat(app.settings.get("loop_presentation"))),this.autotransitionTimeout=setTimeout(function(){app.trigger("slide:next"),this.autotransitionTimeout=!1}.bind(this),1e3*t)}else e.get("transition.type")||(this.autotransitionTimeout=setTimeout(function(){app.trigger("slide:next"),this.autotransitionTimeout=!1}.bind(this),1e3*app.settings.get("loop_presentation")))},playOverlayClick:function(){$("#play-overlay").remove(),app.trigger("timeline:set-play"),this.bmusicModel&&this.bmusicModel.set("state","play")},toggleFullScreen:function(e){app.settings.set("fullscreen",e),e||($(".ui-standard-el").show(),$(".at4-share-outer").show())},fullScreenClick:function(){app.settings.get("fullscreen")?(r.exit(),$("#wrapper").removeClass("fullscreen")):($(".ui-standard-el").hide(),$(".at4-share-outer").hide(),$("#wrapper").addClass("fullscreen"),r.enter())},playClick:function(){$("#play").hasClass("pause-mode")?app.trigger("timeline:set-pause","pauseClicked"):app.trigger("timeline:set-play");
},downloadClick:function(){return app.trigger("player-download:show"),!1},playStarted:function(e){"bgmusic"!==e&&this.$playButton.addClass("pause-mode"),o.isNull(this.bmusicModel)||"play"===this.bmusicModel.get("state")||this.playBMusic()},playBMusic:function(){$("body").children("#"+this.bmusicModel.get("id")).find("audio")[0].readyState>=3?this.bmusicModel.set("state","play"):this.bmusicModel.bind("oncanplay",function(){this.set("state","play")})},updateProgressBar:function(e){this.$timelineSlider.slider("value",e),this.updateViewedProgress(),1===e&&this.setViewedInterval()},updateViewedProgress:function(){if($("#time-viewed").length>0&&$(".ui-slider-handle").length>0){var e=$("#time-viewed"),t=Math.ceil($(".ui-slider-handle").offset().left-e.offset().left);e.css("width",Math.min(100*t/$(".timeline-container").width(),96)+"%")}},setViewedInterval:function(){window.viewedInterval||(window.viewedInterval=setInterval(this.updateViewedProgress,50),setTimeout(this.removeViewedInterval,5e3))},removeViewedInterval:function(){clearInterval(window.viewedInterval),delete window.viewedInterval},playPaused:function(e){this.setViewedInterval(),o.isNull(this.bmusicModel)&&this.$playButton.removeClass("pause-mode"),o.isNull(this.bmusicModel)||"play"!==this.bmusicModel.get("state")||(this.$playButton.removeClass("pause-mode"),"pauseClicked"===e&&this.bmusicModel.set("state","pause"))},setSlidesCounter:function(e){this.maxSlides=e.length,this.$slidesConter.text(this.maxSlides)},setCurrentSlide:function(e){0===e.index?this.$prevButton.addClass(this.inactiveClass):this.$prevButton.removeClass(this.inactiveClass),e.index+1===this.maxSlides?this.$nextButton.addClass(this.inactiveClass):this.$nextButton.removeClass(this.inactiveClass),this.$currentSlide.text(e.index+1),this.unbindClickTransition(),"onclick"===e.model.get("transition.type")&&this.bindClickTransition()},bindClickTransition:function(){},unbindClickTransition:function(){},nextClick:function(){this.$nextButton.hasClass("inactive")||(clearTimeout(this.autotransitionTimeout),app.trigger("slide:next"))},prevClick:function(){clearTimeout(this.autotransitionTimeout),app.trigger("slide:prev")},soundClick:function(e){var t=$(e.currentTarget);t.toggleClass("inactive"),app.settings.set("mute",t.hasClass("inactive")),this.bmusicModel&&(t.hasClass("inactive")?(this.lastBmusicVolume=this.bmusicModel.get("volume")||this.lastBmusicVolume||100,this.bmusicModel.set("volume",0)):this.bmusicModel.set("volume",this.lastBmusicVolume))}}))},{"./fullscreen.js":120,backbone:"backbone",underscore:52}],119:[function(e,t,i){var n=e("backbone"),o=e("underscore"),r=e("../mixin/view/showHideMixin.js"),s=e("../popup/publishViewMixins/downloadMixin.js"),a=[s],l=n.View.extend(o.extend({},r,{el:"#player-download",events:{"click #download-close":"hide"},initHooks:[],initialize:function(){o.bindAll(this,"show","hide"),app.bind("player-download:show",this.show),this.initHooks.length&&o.each(this.initHooks,function(e){e.call(this)},this)}}));o.each(a,function(e){o.extend(this.prototype,e.methods),o.extend(this.prototype.events,e.events),this.prototype.initHooks.push(e.initializeHook)},l),t.exports=l},{"../mixin/view/showHideMixin.js":69,"../popup/publishViewMixins/downloadMixin.js":126,backbone:"backbone",underscore:52}],120:[function(e,t,i){var n=e("underscore");t.exports={onChangeCallback:!1,init:function(e){this.onChangeCallback=e,n.bindAll(this,"onChange"),document.addEventListener("webkitfullscreenchange",this.onChange,!1),document.addEventListener("mozfullscreenchange",this.onChange,!1),document.addEventListener("fullscreenchange",this.onChange,!1),document.addEventListener("MSFullscreenChange",this.onChange,!1)},onChange:function(e){this.onChangeCallback.call(this,!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement))},enter:function(){var e=document.documentElement,t=e.requestFullscreen||e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen;t.call(e)},exit:function(){var e=document,t=e.exitFullscreen||e.webkitExitFullScreen||e.msExitFullscreen||e.webkitExitFullscreen||e.mozCancelFullScreen;t.call(e)}}},{underscore:52}],121:[function(e,t,i){var n=e("backbone"),o=e("underscore"),r=e("TweenLite");t.exports=n.View.extend(o.extend({},{initialize:function(){o.bindAll(this,"checkLinks","checkObjectLinkIn","checkObjectLinkOut","checkTextLinkIn","textLink","checkTextLinkOut"),app.bind("object:click",this.checkLinks),app.bind("object:mouseenter",this.checkObjectLinkIn),app.bind("object:mouseleave",this.checkObjectLinkOut),$(".vm-text a").click(this.textLink),$(".vm-text a").mouseleave(this.checkTextLinkOut),$(".vm-text a").mouseenter(this.checkTextLinkIn)},isObjectTextLink:function(e){var t=$(e.target).closest("a")[0].href.split(":"),i=t[0];return"object"===i&&2===t.length?t[1]:!1},isSlideTextLink:function(e){var t=$(e.target).closest("a")[0].href.split(":"),i=t[0];return 2!==t.length||"slide"!==i&&"slde"!==i?!1:t[1]},textLink:function(e){var t=this.isSlideTextLink(e);t?this.gotoSlide(t):t=this.isObjectTextLink(e),t&&e.preventDefault()},checkTextLinkIn:function(e){var t=this.isObjectTextLink(e);t&&this.fadeObjectIn($("#"+t))},checkTextLinkOut:function(e){var t=this.isObjectTextLink(e);t&&this.fadeObjectOut($("#"+t))},checkLinks:function(e){var t=e.get("link");if(t){var i=t.type;switch(i){case"hyperlink":"newWindow"===t.options[0]?this.openInNewWindow(t.target):this.openInSameWindow(t.target);break;case"slide":case"slde":0===t.options.length&&(t.options=["0","stop"]);var n=function(){app.trigger("timeline:set-time",t.options)};this.gotoSlide(t.target,n);break;case"object":"Click"===t.options[0]&&(0===parseFloat($("#"+t.target).css("opacity"))?this.fadeObjectIn($("#"+t.target)):this.fadeObjectOut($("#"+t.target)))}}},checkObjectLinkOut:function(e){var t=e.get("link");t&&"object"===t.type&&"Hover"===t.options[0]&&this.fadeObjectOut($("#"+t.target))},checkObjectLinkIn:function(e){var t=e.get("link");t?($("#"+e.get("id")).css("cursor","pointer"),"object"===t.type&&"Hover"===t.options[0]&&this.fadeObjectIn($("#"+t.target))):"text"===e.get("type")},openInNewWindow:function(e){window.open(e,"_blank")},openInSameWindow:function(e){window.location=e},fadeObjectIn:function(e){r.to(e,1,{css:{opacity:1}})},fadeObjectOut:function(e){r.to(e,1,{css:{opacity:0}})},gotoSlide:function(e,t){$('section[style*="opacity: 1"]').attr("id")!==e&&app.trigger("slide:find",e,t)}}))},{TweenLite:"TweenLite",backbone:"backbone",underscore:52}],122:[function(e,t,i){var n=e("underscore"),o=e("TimelineLite"),r=e("./animations/enterAnimations.js"),s=e("./animations/exitAnimations.js"),a=e("./animations/textAnimations.js"),l=e("./animations/widgetAnimations.js");t.exports={initHook:function(){n.bindAll(this,"setupTimeline","transitionComplete","play","pause","progress","completeAnimation","setProgress","volume","seekToTime"),app.bind("slides:rendered",this.setupTimeline),app.bind("slide:transition-complete",this.transitionComplete),app.bind("timeline:set-progress",this.setProgress),app.bind("timeline:set-play",this.play),app.bind("timeline:set-pause",this.pause),app.settings.bind("change:mute",this.volume),app.bind("timeline:set-time",this.seekToTime),this.timeline=new o({paused:!0,defaultEase:"Quad.easeOut",onUpdate:this.progress,onComplete:this.completeAnimation})},methods:{setupTimeline:function(){var e=this;this.exitAnimationsSetUp=s.setUp,setTimeout(function(){"Download"!==app.settings.get("project_type")&&e.model.objectCollection.each(function(t){r(t,this.timeline),e.exitAnimationsSetUp(t,this.timeline),"text"===t.get("type")&&t.get("textEffect")&&a(t,this.timeline),$("#"+t.get("id")).length&&$("#"+t.get("id")).css("display","block"),"infogrWidget"===t.get("type")&&l(t,this.timeline)}.bind(e))},500)},transitionComplete:function(e){this.selected&&!this.timeline.totalDuration()?($("#play").addClass("inactive"),$("#timeline").hide()):this.selected&&($("#timeline").show(),$("#play").removeClass("inactive")),$("#play-overlay").length||(n.isUndefined(e)?app.settings.get("is_autoplay_animation")&&this.play():e())},hasBackgroundMusic:function(){var e=app.settings.get("background_music");return e&&"number"!=typeof e},play:function(){n.isUndefined(this.timeline.ready)||this.timeline.ready?this.timeLinePlay():this.$el.on("timeline:ready",function(){this.timeLinePlay(),this.$el.off("timeline:ready"),this.timeline.ready=!0}.bind(this))},timeLinePlay:function(){this.hasBackgroundMusic()&&app.trigger("backgroundMusic:play","bgmusic"),this.selected&&this.timeline.totalDuration()?(1===this.timeline.progress()&&this.setProgress(0),this.timeline.play(),this.audioApply("play"),app.trigger("timeline:play",this.model)):this.selected&&(this.timeline.totalDuration()||app.trigger("timeline:no-animations-play",this.model),app.trigger("slide:complete-animations",this.model))},progress:function(){app.trigger("timeline:progress",this.timeline.progress())},pause:function(e){this.timeline.pause(),this.audioApply("pause"),"pauseClicked"===e?app.trigger("timeline:pause",e):app.trigger("timeline:pause")},completeAnimation:function(){this.pause(),1!==$("#timeline").slider("value")&&$("#timeline").length||!this.selected||app.trigger("slide:complete-animations",this.model)},setProgress:function(e){this.pause(),this.timeline.progress(e),this.audioApply("seek",this.timeline._time)},seekToTime:function(e){this.pause(),e[0]>this.timeline._duration?this.timeline.progress(1):this.timeline.time(e[0]),this.audioApply("seek",this.timeline._time),"stop"===e[1]?this.pause():this.play()},audioApply:function(e,t){n.each(this.objectsCollectionView.subViews,function(i){if("audio"===i.model.get("type"))switch(e){case"seek":i.timelineSeek(t);break;case"pause":i.model.set("state","pause");break;case"play":i.model.get("animation.enter.delay")<=this.timeline._time&&i.model.set("state","play");break;case"stop":i.model.set("state","stop");break;case"volume":t?i.model.set("volume",this.lastVolume):(this.lastVolume=i.model.get("volume")||this.lastVolume||100,i.model.set("volume",0))}},this)},volume:function(){this.audioApply("volume",!app.settings.get("mute"))}}}},{"./animations/enterAnimations.js":113,"./animations/exitAnimations.js":114,"./animations/textAnimations.js":115,"./animations/widgetAnimations.js":116,TimelineLite:"TimelineLite",underscore:52}],123:[function(e,t,i){var n=e("underscore"),o=e("TweenLite");t.exports={initHook:function(){n.bindAll(this,"transitionTo"),app.bind("slide:transitionTo",this.transitionTo),"onclick"===this.model.get("transition.type")||"render"===app.settings.get("mode")||"Download"===app.settings.get("project_type")?$("#content").on("click","section#"+this.model.get("id"),function(e){1!==$(e.target).closest($(".linked")).length&&app.trigger("slide:next")}):"video"===this.model.get("transition.type")&&app.bind("video:ended",function(e){this.selected&&"video"===this.model.get("transition.type")&&this.$el.closest(".stage").attr("id")===$(".stage")[e].id&&app.trigger("slide:next")}.bind(this))},methods:{transitionTo:function(e){var t=this.getTransition(this.model.get("transition.effect"),e.direction),i=1;"render"!==app.settings.get("mode")&&"Download"!==app.settings.get("project_type")||(t=this.getTransition("show"),i=0),"none"===this.model.get("transition.effect")&&(i=.01,t=this.getTransition("show")),this.model.get("id")!==e.model.get("id")||this.selected?this.selected&&(this.selected=!1,this.$el.css({"pointer-events":"none"}),o.to(this.$el,i,t.current)):(this.selected=!0,this.$el.css({"pointer-events":"auto"}),n.isUndefined(e.callback)?(o.fromTo(this.$el,i,t.from,t.to),app.trigger("timeline:set-progress",0)):o.fromTo(this.$el,i,t.from,n.extend(t.to,{onComplete:function(){app.trigger("slide:transition-complete",e.callback)}})))},getTransition:function(e,t){var i={},n=function(){app.trigger("slide:transition-complete")};switch(e){case"scroll":i.from={x:app.settings.get("slideWidth")*t,autoAlpha:0,display:"block"},i.to={x:0,autoAlpha:1,onComplete:n,ease:"Power3.easeOut",display:"block"},i.current={x:-app.settings.get("slideWidth")*t,autoAlpha:0,ease:"Power3.easeOut",display:"block"};break;case"flip":i.from={rotationY:180,autoAlpha:0,display:"block"},i.to={rotationY:0,autoAlpha:1,onComplete:n,ease:"Power3.easeOut",display:"block"},i.current={rotationY:180,autoAlpha:0,ease:"Power3.easeOut"};break;case"shuffle":i.from={autoAlpha:0,display:"block",transformPerspective:500,y:100},i.to={y:0,autoAlpha:1,onComplete:n,ease:"Power3.easeOut",display:"block"},i.current={autoAlpha:0,display:"block",transformPerspective:500,y:100,ease:"Power3.easeOut"};break;case"show":i.from={autoAlpha:0,display:"block"},i.to={autoAlpha:1,onComplete:n,ease:"Power3.easeOut"},i.current={autoAlpha:0,ease:"Power3.easeOut",display:"block"};break;default:i.from={autoAlpha:0,display:"block"},i.to={autoAlpha:1,onComplete:n,ease:"Power3.easeOut"},i.current={autoAlpha:0,ease:"Power3.easeOut",display:"block"}}return i}}}},{TweenLite:"TweenLite",underscore:52}],124:[function(e,t,i){var n=e("underscore");t.exports={currentSlideIndex:0,hookListeners:function(){n.bindAll(this,"nextSlide","prevSlide","gotoSlide","findSlide"),app.bind("slide:next",this.nextSlide),app.bind("slide:prev",this.prevSlide),app.bind("slide:find",this.findSlide),app.bind("slide:change",this.gotoSlide)},gotoSlide:function(e,t){var i=1;e<this.currentSlideIndex&&(i=-1),this.currentSlideIndex=e,app.trigger("slide:transitionTo",{model:this.collection.at(this.currentSlideIndex),index:this.currentSlideIndex,direction:i,callback:t}),window.location="#s"+(this.currentSlideIndex+1)},nextSlide:function(){return 1===this.collection.length?(app.trigger("timeline:set-play"),!1):(this.currentSlideIndex===this.collection.length-1&&(this.currentSlideIndex=-1),void this.gotoSlide(this.currentSlideIndex+1))},prevSlide:function(){return 0===this.currentSlideIndex?!1:void this.gotoSlide(this.currentSlideIndex-1)},findSlide:function(e,t){var i=this.collection.get(e);i&&this.currentSlideIndex!==this.collection.indexOf(i)&&this.gotoSlide(i.get("order"),t)}}},{underscore:52}],125:[function(e,t,i){var n=e("./windowView.js"),o=e("underscore"),r=e("TweenLite");t.exports=n.extend(o.extend({},{el:"#editor-loading-overlay",initialize:function(){o.bindAll(this,"loadingDone"),app.on("slides:loaded",this.loadingDone)},render:function(){return this},loadingDone:function(){setTimeout(function(){r.set("#content-panel, header",{display:"block"}),r.to(this.$el,1,{autoAlpha:0,onComplete:function(){this.$el.css({width:0,height:0})}.bind(this)}),app.settings.set("state","loaded")}.bind(this),2e3)}}))},{"./windowView.js":127,TweenLite:"TweenLite",underscore:52}],126:[function(e,t,i){t.exports={initializeHook:function(){this.$downloadIframe=$("<iframe>",{id:"idown"}).hide().appendTo("body"),this.$download={},this.$download.jpg={button:this.$el.find(".download-jpg"),loader:this.$el.find(".jpg-loader")},this.$download.png={button:this.$el.find(".download-png"),loader:this.$el.find(".png-loader")},this.$download.pdf={button:this.$el.find(".download-pdf"),loader:this.$el.find(".pdf-loader")},this.$download.html={button:this.$el.find(".download-html"),loader:this.$el.find(".html-loader")}},events:{"click .download-jpg":"downloadJPG","click .download-pdf":"downloadPDF","click .download-html":"downloadHTML","click .download-png":"downloadPNG"},methods:{jobs:{},downloadPDF:function(){return this.requestRenderJob("pdf"),!1},downloadHTML:function(){return this.downloadURL("/actions/download/"+app.settings.get("project_id")+"/html/0"),!1},downloadJPG:function(){return this.requestRenderJob("jpg"),!1},downloadPNG:function(){return this.requestRenderJob("png"),!1},requestRenderJob:function(e){var t=this;$.ajax({type:"GET",url:"/actions/requestrender/"+app.settings.get("project_id")+"/"+e,success:function(e){t.longPoll(e.id,e.type),t.startDownloadAnimation(e.type)},error:function(){alert("There was an error while sending the request. Please check your internet connection or contact support.")}})},downloadURL:function(e){this.$downloadIframe.attr("src",e)},longPoll:function(e,t){setTimeout(function(){var i=this;$.ajax({url:"/actions/checkjobstatus/"+app.settings.get("project_id")+"/"+e+"/"+t,success:function(e){"complete"===e.status?(i.stopDownloadAnimation(e.type),i.downloadURL("/actions/download/"+app.settings.get("project_id")+"/"+e.type+"/"+app.collections.slides.length)):"failed"!==e.status&&e.status?i.longPoll(e.id,e.type):(i.stopDownloadAnimation(e.type),alert("There was an error while downloading. Please try again later or contact support."))},error:function(e){alert("There was an error while downloading. Please try again later or contact support.")}})}.bind(this),3e3)},startDownloadAnimation:function(e){this.$download[e].button.hide(),this.$download[e].loader.show()},stopDownloadAnimation:function(e){this.$download[e].button.show(),this.$download[e].loader.hide()}}}},{}],127:[function(e,t,i){var n=e("backbone"),o=e("TweenLite"),r=e("underscore"),s=e("./../../helpers/localStorage.js");t.exports=n.View.extend({events:{"click .close i, .close":"hide","click .video_apply":"doneButton"},initialize:function(e){r.bindAll(this,"show","hide","bodyCloseEvent","onDragStop","savePosition","checkBoundary"),this.loadDefaultOptions(e),this.render(),this.listenTo(app,this.viewName+":show",this.show),this.listenTo(app,this.viewName+":hide",this.hide),this.ignoreElements||(this.ignoreElements=""),this.ignoreElements+=" .cpicker .color_picker_div #color-picker",this.draggable&&this.$el.draggable(this.dragoptions),this.$overlay=$("#popup-overlay");var t=this.getLocalStorageId();r.isUndefined(t)||this.loadLocalSettings(t)},getLocalStorageId:function(){return this.$el.attr("id")},loadLocalSettings:function(e){var t=app.settings.get("project_id"),i=s.get(t,e+"-top"),n=s.get(t,e+"-left");return i&&n&&!r.isUndefined(e)?(o.set(this.$el,{left:n,top:i}),!0):!1},loadDefaultOptions:function(e){e=e||{},this.dragoptions=r.isUndefined(e.dragoptions)?{}:e.dragoptions,this.overlay=r.isUndefined(e.overlay)?!0:e.overlay,this.draggable=r.isUndefined(e.draggable)?!0:e.draggable,this.positionSavable=r.isUndefined(e.positionSavable)?this.draggable:e.positionSavable,this.animateShow=r.isUndefined(e.animateShow)?"show":e.animateShow,this.animateHide=r.isUndefined(e.animateHide)?"hide":e.animateHide,this.dragoptions.stop=this.onDragStop},render:function(){return this},savePosition:function(e){s.add(app.settings.get("project_id"),e+"-top",this.$el.position().top),s.add(app.settings.get("project_id"),e+"-left",this.$el.position().left)},hide:function(){this.hideOverLay(),$("body").unbind("mousedown",this.bodyCloseEvent),this.$el[this.animateHide]()},show:function(e){this.hideOverLay(),this.overlay&&this.showOverlay(),this.$el[this.animateShow](),$("body").bind("mousedown",this.bodyCloseEvent),app.trigger("popup:show",this.$el)},showOverlay:function(){o.set(this.$overlay,{css:{width:"100%",height:"100%"}})},hideOverLay:function(){o.set(this.$overlay,{css:{width:"0%",height:"0%"}})},showCenter:function(){var e=window.innerWidth/2-this.$el.innerWidth()/2,t=window.innerHeight/2-this.$el.height()/2;o.set(this.$el,{css:{left:e,top:t}}),this.$el.show()},bodyCloseEvent:function(e){var t=1===$(e.target).closest(this.$el).length;r.each(this.ignoreElements.split(" "),function(i){1===$(e.target).closest(i).length&&(t=!0)}),t||this.hide()},checkBoundary:function(e){var t=0,i=0;r.isUndefined(e)?(t=this.$el.height(),i=this.$el.width()):(t=this.$el.find(e).height(),i=this.$el.find(e).width());var n=this.getLocalStorageId(),a=s.get(app.settings.get("project_id"),n+"-top"),l=s.get(app.settings.get("project_id"),n+"-left");a&&l&&a>=$(window).height()-t?o.set(this.$el,{top:$(window).height()-t}):0>a&&o.set(this.$el,{top:0}),l>=$(window).width()-i?o.set(this.$el,{left:$(window).width()-i}):0>l&&o.set(this.$el,{left:0})},onDragStop:function(){var e=this.getLocalStorageId();this.positionSavable&&!r.isUndefined(e)&&(this.savePosition(e),this.checkBoundary())},disableDrag:function(){this.$el.draggable("disable")},enableDrag:function(){this.$el.draggable("enable")}})},{"./../../helpers/localStorage.js":59,TweenLite:"TweenLite",backbone:"backbone",underscore:52}],128:[function(e,t,i){var n=e("backbone"),o=e("underscore"),r=e("./slideModel.js"),s=e("../mixin/collection/ordinalMixin.js"),a=n.Collection.extend(o.extend({},s,{defaults:{},model:r,initialize:function(e,t){this.eventType="slideCollection",this.sortKey="order",o.bindAll(this,"defineReadyPromise"),app.bind("slides:rendered",this.defineReadyPromise)},defineReadyPromise:function(){var e=$.Deferred();e.done(function(e){app.trigger("slides:loaded")}),$.when($,this.getPromises()).done(function(){e.resolve()}),this.promise=e.promise()},getPromises:function(){for(var e=[],t=this.models.length,i=0;t>i;++i){var n=this.models[i];e=e.concat(n.getPromises())}return e}}));t.exports=a},{"../mixin/collection/ordinalMixin.js":65,"./slideModel.js":130,backbone:"backbone",underscore:52}],129:[function(e,t,i){var n=e("backbone"),o=e("underscore"),r=e("./slideView.js");t.exports=n.View.extend({el:"#content",views:{},initialize:function(){this.listenTo(this.collection,"add",this.renderOne),this.listenTo(this.collection,"reset",this.render),this.listenTo(this.collection,"remove",this.removeSlide),o.bindAll(this,"renameAudioClip"),app.listenTo(app,"audio-library:clip:rename",this.renameAudioClip),this.render(),this.hookListeners&&this.hookListeners()},renameAudioClip:function(e,t){for(var i=this.collection.models,n=0;n<i.length;++n)for(var o=i[n],r=o.objectCollection,s=0;s<r.length;++s){var a=r.models[s];"audio"===a.get("type")&&a.get("delete_key")===t&&a.set("name",e)}},createSlideView:function(e){return new r({model:e})},getSlideEl:function(e){return e.render().el},renderOne:function(e){var t=this.createSlideView(e);this.views[e.get("id")]=t,this.$el.append(this.getSlideEl(t)),o.each(e.objectCollection.models,function(e){e.trigger("object:render:after")},this)},render:function(){return this.collection.each(function(e){this.renderOne(e)},this),app.trigger("slides:rendered",this.collection),this},removeSlide:function(e){this.views[e.get("id")].remove()}})},{"./slideView.js":132,backbone:"backbone",underscore:52}],130:[function(e,t,i){var n=e("backbone"),o=e("underscore"),r=e("../../helpers/gradientCss.js"),s=e("../objects/objectCollection.js"),a=e("../mixin/model/attributeValidatorMixin.js"),l=e("../../helpers/uniqueId.js");n.DeepModel=e("backbone-deep-model"),t.exports=n.DeepModel.extend(o.extend({},a,{validators:{width:{type:"number",params:{min:1,max:9999}},height:{type:"number",params:{min:1,max:9999}}},defaults:{id:null,name:null,type:"regular",order:-1,width:1e3,height:800,hidden:!1,transition:{effect:"fade",duration:.5,type:"onclick"}},getPromises:function(){return this.objectCollection.getPromises()},getBackgrounds:function(e){var t=["white"];switch(this.get("background.type")){case"solid":-1!==this.get("background.hash").indexOf("rgb")?t[0]=this.get("background.hash"):t[0]="#"+this.get("background.hash");break;case"gradient":var i=r(this.get("background.hash")).split(";");$.each(i,function(e,i){i=$.trim(i),""!==i&&t.push(i)}.bind(this));break;case"image":this.get("background.hash")&&this.get("background.ext")?t[0]="url("+app.settings.get("usersDataStorage")+this.get("background.hash")+"."+this.get("background.ext")+")":t[0]="#fff";break;case"library-image":t[0]="url("+app.settings.get("assetsStorage")+"themes/"+this.get("background.url")+")";break;case"none":"editor"===app.settings.get("editMode")?t[0]="url(../images/transparent.gif)":t[0]="transparent"}return t},toJSON:function(e){return o.extend(this.attributes,{objects:this.objectCollection.toJSON()})},initialize:function(e){o.isNull(this.get("id"))?this.set("id",l.uniqueId("sl")):l.notifyIdCounter(this.get("id")),this.get("name")||this.set("name","Slide "+(this.get("order")+1)),e.objectCollection&&(this.objectCollection=e.objectCollection),this.objectCollection&&e.objectCollection||(this.objectCollection=new s(this.get("objects"))),o.bindAll(this,"updateTransitions"),app.on("update-transitions",this.updateTransitions)},updateTransitions:function(e){this.set("transition",e)}},{SLIDETYPE:{regular:"regular",library:"library",group:"group"}}))},{"../../helpers/gradientCss.js":57,"../../helpers/uniqueId.js":61,"../mixin/model/attributeValidatorMixin.js":66,"../objects/objectCollection.js":72,backbone:"backbone","backbone-deep-model":1,underscore:52}],131:[function(e,t,i){var n=e("backbone"),o=e("underscore"),r=e("TweenLite"),s=e("../mixin/view/scrollBarMixin.js");t.exports=n.View.extend(o.extend({},s,{el:"#slide-panel",template:"#slide-panel-template",controlsHover:!1,controlsTimeout:0,events:{"click .slide_zone":"changeSlide"},currentThumbsIndex:0,initialize:function(e){if(o.bindAll(this,"updateSlidePreviewObject","updateBackground","removeSlidePreviewObject","onControlsHover","onControlsBlur","updateCurrentThumb","updateThumbs","thumbsLeft","thumbsRight"),this.slideWidth=e.slideWidth,this.slideHeight=e.slideHeight,this.render(),this.$el.find(".slide_zone").length>1){this.$el.closest(".bottom-controls").on("mouseenter",this.onControlsHover).on("mouseleave",this.onControlsBlur);var t=this;$(window).on("resize",function(){setTimeout(function(){t.updateThumbs()},0)})}app.bind("slide:transitionTo",this.updateCurrentThumb)},updateBackground:function(e){this.$section=this.$el.find("section");var t=$(".slide"),i=t.width(),n=t.height(),s=this.slideWidth,a=this.slideHeight,l=Math.min(i/s,n/a);$(".slide section").css({position:"relative",top:"50%"});var d=e.getBackgrounds();o.each(d,function(e){r.set($("#"+this.slideId).find(".section_wrap"),{css:{background:e}})},this);var c=e.get("background"),h=$("#"+this.slideId).find(".section_wrap");!o.isUndefined(c)&&"image"===c.type&&1===parseInt(c.tile)&&c.scale?h.attr("style",h.attr("style")+" background-size: "+c.scale+"% !important;"):h.attr("style",h.attr("style")+" background-size: 100% !important;"),r.set(this.$section,{scaleX:l,scaleY:l,y:-(a*l)/2,transformOrigin:"0% 0%"}),app.bind(e.get("id")+":change",this.updateSlidePreviewObject)},updateSlidePreviewObject:function(e){var t=e.get("id"),i=$("#"+t),n=i.closest("section"),s=e.get("type");if("audio"!==s&&n.find("#"+t).length){this.removeSlidePreviewObject(e);var a;if("video"!==s?a=i.clone():(a=$('<div class="el"></div>'),a.attr("style",i.attr("style"))),"video"===s){if(o.isUndefined(e.get("thumbnail")))return;a.find("iframe").remove(),o.each(a.find("video"),function(e){e.pause()}),a.find("video").remove();var l=document.createElement("img");l.setAttribute("src",e.get("thumbnail")),a.prepend(l)}a.removeAttr("id"),a.attr("id","m-"+t),a.removeClass("selected"),a.css("display","block"),$("#small-"+n.attr("id")).append(a),a.find("canvas").length>0&&a.find("canvas")[0].getContext("2d").drawImage(i.find("canvas")[0],0,0),r.set($("#small-"+n.attr("id")+" #m-"+t),{x:e.get("x"),y:e.get("y"),opacity:o.isUndefined(e.get("opacity"))?1:e.get("opacity"),rotation:o.isUndefined(e.get("rotation"))?0:e.get("rotation")}),o.isUndefined(e.get("textEffect"))||r.set($("#small-"+n.attr("id")+" #m-"+t+" .letter"),{opacity:o.isUndefined(e.get("opacity"))?1:e.get("opacity")})}},removeSlidePreviewObject:function(e){var t=e.get("id");$("#m-"+t).remove()},renderOne:function(e){var t=o.template($(this.template).html(),e.toJSON());this.$el.append(t),this.slideId=$(t).find(".slide").attr("id"),this.updateBackground(e)},render:function(){return this.collection.each(function(e){this.renderOne(e)},this),this.updateThumbs(),$("#thumbnails").fadeOut(),this},changeSlide:function(e){var t=$(e.currentTarget);t.hasClass("active")||app.trigger("slide:change",t.index())},onControlsHover:function(){return app.settings.get("fullscreen")||!o.isUndefined(app.settings.get("mode"))&&"embed"===app.settings.get("mode")?($("#thumbnails").is(":visible")||$("#thumbnails").show(),void setTimeout(function(){this.updateThumbs()}.bind(this),0)):void(this.controlsTimeout?(clearTimeout(this.controlsTimeout),this.controlsTimeout=!1):$("#thumbnails").is(":visible")||($("#thumbnails").fadeIn("fast"),this.updateThumbs()))},onControlsBlur:function(){app.settings.get("fullscreen")||!o.isUndefined(app.settings.get("mode"))&&"embed"===app.settings.get("mode")||this.controlsTimeout||(this.controlsTimeout=setTimeout(function(){$("#thumbnails").fadeOut("fast"),this.controlsTimeout=!1}.bind(this),1e3))},updateCurrentThumb:function(e){var t=0;t=o.isUndefined(e)?app.views.slidesView.currentSlideIndex:e.index;var i=$("#slide-panel").find(".slide_zone");i.removeClass("active"),i.eq(t).addClass("active"),parseInt($("#slide-container").width())-parseInt($("#slide-panel").css("margin-left"))<(t+2)*$(".slide_zone").width()?this.thumbsRight():-parseInt($("#slide-panel").css("margin-left"))>t*$(".slide_zone").width()&&this.thumbsLeft()},updateThumbs:function(){if("none"!==$("#thumbnails").css("display")){var e=$("#slide-panel"),t=e.find(".slide_zone"),i=(t.width()+20)*t.length+40;e.width(i),i>$("#slide-container").width()-70?this.showThumbsArrows():this.hideThumbsArrows(),this.updateCurrentThumb()}},showThumbsArrows:function(){var e=$("#thumbnails");e.find("#slide-container").width("calc(100% - 70px)"),e.find(".thumbs-arrows").show(),e.find("#thumb-left").on("click",this.thumbsLeft),e.find("#thumb-right").on("click",this.thumbsRight),this.updateArrowsState()},hideThumbsArrows:function(){this.currentThumbsIndex=0;var e=$("#thumbnails");e.find("#slide-panel").css("margin-left","0"),e.find("#slide-container").width("100%"),e.find(".thumbs-arrows").hide(),e.find("#thumb-left").off("click"),e.find("#thumb-right").off("click"),this.updateArrowsState()},thumbsLeft:function(){if(0!==this.currentThumbsIndex){this.currentThumbsIndex--;var e=$("#slide-panel"),t=e.find(".slide_zone").eq(0).width()+7,i=3*-t*this.currentThumbsIndex;e.css("margin-left",i),setTimeout(this.updateArrowsState,600)}},thumbsRight:function(){this.currentThumbsIndex++;var e=$("#slide-panel"),t=e.find(".slide_zone").eq(0).width()+7,i=3*-t,n=i*this.currentThumbsIndex,o=-e.width()+$("#slide-container").width();return i>n-o?void this.currentThumbsIndex--:(e.css("margin-left",n),void setTimeout(this.updateArrowsState,600))},updateArrowsState:function(){var e=$("#thumbnails"),t=parseInt(e.find("#slide-panel").css("margin-left"),10),i=-e.find("#slide-panel").width()+$("#slide-container").width();e.find(".thumbs-arrows").removeClass("inactive"),0===t&&e.find("#thumb-left").addClass("inactive"),i>t&&e.find("#thumb-right").addClass("inactive")}}))},{"../mixin/view/scrollBarMixin.js":68,TweenLite:"TweenLite",backbone:"backbone",underscore:52}],132:[function(e,t,i){var n=e("backbone"),o=e("underscore"),r=e("TweenLite"),s=e("../objects/objectCollectionView.js"),a=e("./../../helpers/manageMediaAssets.js");t.exports=n.View.extend(o.extend({},a,{template:"#slide-template",initHooks:[],initialize:function(){this.selected=!1,o.bindAll(this,"selectSlide","addObject","update","updateSize"),this.model.bind("change",this.update),app.bind("slide:new-selected",this.selectSlide),app.settings.bind("change:slideHeight change:slideWidth",this.updateSize),this.initHooks.length&&o.each(this.initHooks,function(e){e.call(this)},this),"player"!==app.settings.get("mode")&&"preview"!==app.settings.get("mode")&&"embed"!==app.settings.get("mode")||"Download"===app.settings.get("project_type")||this.hideLinkObject()},hideLinkObject:function(){var e=this.model.objectCollection,t=o.filter(e.models,function(e){return!o.isUndefined(e.get("link"))&&e.get("link")&&"object"===e.get("link").type&&!o.isUndefined(e.get("link").target)});t.length>0&&o.each(t,function(t){e.get(t.get("link").target)&&e.get(t.get("link").target).set("opacity",0)})},updateSize:function(e){(o.has(e.changed,"slideHeight")||o.has(e.changed,"slideWidth"))&&(this.model.set("width",e.get("slideWidth")),this.model.set("height",e.get("slideHeight")),this.setGraspWrap(),this.centerSlide())},resizeHandleEl:".sgrasp_arrows",render:function(){var e=o.template($(this.template).html(),this.model.toJSON());
return this.setElement(e),this.objectsCollectionView=new s({collection:this.model.objectCollection,slideEl:this.$el.find("article")}),this.centerSlide(),this.$article=this.$el.find("article"),this.applyBackground(),this.initResizeHandle(),this.model.trigger("change",this.model),this},needsResizeHandle:function(){return"infographic"===app.settings.get("type").toLowerCase()},infographMinHeight:500,initResizeHandle:function(){if(this.needsResizeHandle()){this.$resizeEl=this.$el.find(this.resizeHandleEl).parent(),this.setGraspWrap(),this.$resizeEl.show();var e=this;this.$el.find(this.resizeHandleEl).draggable({axis:"y",start:function(t){e.startResizeY=t.pageY,app.trigger("object:deselect-object"),$("#sgrasp_height span").html(app.settings.get("slideHeight")),$("#sgrasp_height").fadeIn()},drag:function(t){var i=(t.pageY-e.startResizeY)/app.settings.get("zoom"),n=app.settings.get("slideHeight"),o=Math.round(i+parseFloat(n));$("#sgrasp_height span").html(o+" px")},stop:function(t){var i=(t.pageY-e.startResizeY)/app.settings.get("zoom"),n=app.settings.get("slideHeight"),o=Math.round(i+parseFloat(n));o=Math.max(e.infographMinHeight,o),app.settings.set("slideHeight",o),$(this).css("top","-27px"),$("#sgrasp_height").fadeOut()}})}},setGraspWrap:function(){this.needsResizeHandle()&&this.$resizeEl.css({width:app.settings.get("slideWidth")})},applyBackground:function(){var e=this.model.getBackgrounds();o.each(e,function(e){this.$article.css({background:e})},this);var t=this.model.get("background");o.isUndefined(t)||"image"!==t.type&&"library-image"!==t.type||1!==parseInt(t.tile)||!t.scale||this.$article.attr("style",this.$article.attr("style")+" background-size: "+t.scale+"% !important;")},update:function(){if(o.has(this.model.changed,"width")||o.has(this.model.changed,"height")){var e=this.model.get("width"),t=this.model.get("height");r.set(this.$article,{css:{height:t,width:e}}),r.set(this.$el,{css:{height:t,width:e}}),delete this.model.changed.width,delete this.model.changed.width}o.has(this.model.changed,"background")&&(app.trigger("slide:change:background",this.model.changed.background),this.applyBackground(),delete this.model.changed.background),o.has(this.model.changed,"grid")&&this.toggleGrid()},centerSlide:function(){setTimeout(function(){r.set($(".stage"),{css:{"margin-left":-($(".stage").width()/2)}}),o.isUndefined(app.settings.get("mode"))||"embed"!==app.settings.get("mode")?r.set($(".stage"),{css:{"margin-top":-(($(".stage").height()-$("#menu").height()-$("#submenu").height()-10)/2)}}):r.set($(".stage"),{css:{"margin-top":-(($(".stage").height()-$("#menu").height()-$("#submenu").height())/2)}})},100)},selectSlide:function(e){var t=e.get("id");this.model.get("id")!==t||this.selected?this.selected&&this.model.get("id")!==t&&(this.$el.removeClass("active"),this.hide(),this.selected=!1,this.stopListening()):(this.$el.addClass("active"),this.show("fade"),this.selected=!0,this.listenTo(app,"slide-background:save",this.saveSlideBackground),this.listenTo(app,"slide-background:restore",this.restoreSlideBackground),this.listenTo(app,"active-slide:change",this.updateAttribute),this.listenTo(app,"active-slide:tileMode",this.changeTileMode),this.listenTo(app,"drop-object",this.addObject))},saveSlideBackground:function(){this.savedSlideBg=$.extend(!0,{},this.model.get("background"))},restoreSlideBackground:function(){this.updateAttribute("background",this.savedSlideBg)},updateAttribute:function(e,t){"background"===e&&this.manageSwatchAssets(t),this.model.set(e,t)},addObject:function(e){"group"===e.type?this.objectsCollectionView.collection.parseGroup(e,function(){}):(e=this.objectsCollectionView.collection.add(e),app.trigger("object:new-selected",e[0]))},manageSwatchAssets:function(e){var t=app.settings.get("project_id");if(this.model.get("background")&&"image"===this.model.get("background").type&&a["delete"](t,this.model.get("background").id,0),"image"===e.type){var i={asset_id:e.id,type:"swatch",project_id:t};a.add(t,i)}},show:function(e){"editor"===app.settings.get("editMode")?r.to(this.$el,.5,{autoAlpha:1,display:"block",transformPerspective:0,y:0}):r.to(this.$el,0,{autoAlpha:1,display:"block",transformPerspective:0,y:0})},hide:function(e){r.to(this.$el,.5,{autoAlpha:0,display:"none",transformPerspective:500,y:50})},changeTileMode:function(e){var t=this.model.get("background");o.isUndefined(t)?this.model.set("background",{tile:e.tile,scale:e.scale}):(this.model.get("background").tile=e.tile,this.model.get("background").scale=e.scale),this.applyBackground()}}))},{"../objects/objectCollectionView.js":73,"./../../helpers/manageMediaAssets.js":60,TweenLite:"TweenLite",backbone:"backbone",underscore:52}]},{},[53])(53)});