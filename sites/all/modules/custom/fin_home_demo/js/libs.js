require=function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var i=e[s][1][t];return r(i?i:t)},h,h.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,i){(function(i){var n="undefined"!=typeof e&&e.exports&&"undefined"!=typeof i?i:this||window;(n._gsQueue||(n._gsQueue=[])).push(function(){"use strict";n._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,r,o,s,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},l=n._gsDefine.globals,c={},h=a.prototype=new t("css");h.constructor=a,a.version="1.16.1",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",h="px",a.suffixMap={top:h,right:h,bottom:h,left:h,width:h,height:h,fontSize:h,padding:h,margin:h,perspective:h,lineHeight:""};var u,d,f,p,g,m,v=/(?:\d|\-\d|\.\d|\-\.\d)+/g,y=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,w=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,_=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,b=/(?:\d|\-|\+|=|#|\.)*/g,x=/opacity *= *([^)]*)/i,C=/opacity:([^;]*)/i,T=/alpha\(opacity *=.+?\)/i,S=/^(rgb|hsl)/,E=/([A-Z])/g,k=/-([a-z])/gi,R=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,P=function(t,e){return e.toUpperCase()},A=/(?:Left|Right|Width)/i,O=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,N=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,D=/,(?=[^\)]*(?:\(|$))/gi,M=Math.PI/180,I=180/Math.PI,H={},L=document,F=function(t){return L.createElementNS?L.createElementNS("http://www.w3.org/1999/xhtml",t):L.createElement(t)},z=F("div"),B=F("img"),V=a._internals={_specialProps:c},W=navigator.userAgent,j=function(){var t=W.indexOf("Android"),e=F("a");return f=-1!==W.indexOf("Safari")&&-1===W.indexOf("Chrome")&&(-1===t||Number(W.substr(t+8,1))>3),g=f&&Number(W.substr(W.indexOf("Version/")+8,1))<6,p=-1!==W.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(W)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(W))&&(m=parseFloat(RegExp.$1)),e?(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity)):!1}(),X=function(t){return x.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},U=function(t){window.console&&console.log(t)},Y="",q="",G=function(t,e){e=e||z;var i,n,r=e.style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===r[i[n]+t];);return n>=0?(q=3===n?"ms":i[n],Y="-"+q.toLowerCase()+"-",q+t):null},$=L.defaultView?L.defaultView.getComputedStyle:function(){},Q=a.getStyle=function(t,e,i,n,r){var o;return j||"opacity"!==e?(!n&&t.style[e]?o=t.style[e]:(i=i||$(t))?o=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(E,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==r||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:r):X(t)},K=V.convertToPixels=function(t,i,n,r,o){if("px"===r||!r)return n;if("auto"===r||!n)return 0;var s,l,c,h=A.test(i),u=t,d=z.style,f=0>n;if(f&&(n=-n),"%"===r&&-1!==i.indexOf("border"))s=n/100*(h?t.clientWidth:t.clientHeight);else{if(d.cssText="border:0 solid red;position:"+Q(t,"position")+";line-height:0;","%"!==r&&u.appendChild)d[h?"borderLeftWidth":"borderTopWidth"]=n+r;else{if(u=t.parentNode||L.body,l=u._gsCache,c=e.ticker.frame,l&&h&&l.time===c)return l.width*n/100;d[h?"width":"height"]=n+r}u.appendChild(z),s=parseFloat(z[h?"offsetWidth":"offsetHeight"]),u.removeChild(z),h&&"%"===r&&a.cacheWidths!==!1&&(l=u._gsCache=u._gsCache||{},l.time=c,l.width=s/n*100),0!==s||o||(s=K(t,i,n,r,!0))}return f?-s:s},Z=V.calculateOffset=function(t,e,i){if("absolute"!==Q(t,"position",i))return 0;var n="left"===e?"Left":"Top",r=Q(t,"margin"+n,i);return t["offset"+n]-(K(t,e,parseFloat(r),r.replace(b,""))||0)},J=function(t,e){var i,n,r,o={};if(e=e||$(t,null))if(i=e.length)for(;--i>-1;)r=e[i],-1!==r.indexOf("-transform")&&Tt!==r||(o[r.replace(k,P)]=e.getPropertyValue(r));else for(i in e)-1!==i.indexOf("Transform")&&Ct!==i||(o[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===o[i]&&(o[i.replace(k,P)]=e[i]);return j||(o.opacity=X(t)),n=Dt(t,e,!1),o.rotation=n.rotation,o.skewX=n.skewX,o.scaleX=n.scaleX,o.scaleY=n.scaleY,o.x=n.x,o.y=n.y,Et&&(o.z=n.z,o.rotationX=n.rotationX,o.rotationY=n.rotationY,o.scaleZ=n.scaleZ),o.filters&&delete o.filters,o},tt=function(t,e,i,n,r){var o,s,a,l={},c=t.style;for(s in i)"cssText"!==s&&"length"!==s&&isNaN(s)&&(e[s]!==(o=i[s])||r&&r[s])&&-1===s.indexOf("Origin")&&("number"!=typeof o&&"string"!=typeof o||(l[s]="auto"!==o||"left"!==s&&"top"!==s?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[s]||""===e[s].replace(_,"")?o:0:Z(t,s),void 0!==c[s]&&(a=new pt(c,s,c[s],a))));if(n)for(s in n)"className"!==s&&(l[s]=n[s]);return{difs:l,firstMPT:a}},et={width:["Left","Right"],height:["Top","Bottom"]},it=["marginLeft","marginRight","marginTop","marginBottom"],nt=function(t,e,i){var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=et[e],o=r.length;for(i=i||$(t,null);--o>-1;)n-=parseFloat(Q(t,"padding"+r[o],i,!0))||0,n-=parseFloat(Q(t,"border"+r[o]+"Width",i,!0))||0;return n},rt=function(t,e){null!=t&&""!==t&&"auto"!==t&&"auto auto"!==t||(t="0 0");var i=t.split(" "),n=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],r=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];return null==r?r="center"===n?"50%":"0":"center"===r&&(r="50%"),("center"===n||isNaN(parseFloat(n))&&-1===(n+"").indexOf("="))&&(n="50%"),t=n+" "+r+(i.length>2?" "+i[2]:""),e&&(e.oxp=-1!==n.indexOf("%"),e.oyp=-1!==r.indexOf("%"),e.oxr="="===n.charAt(1),e.oyr="="===r.charAt(1),e.ox=parseFloat(n.replace(_,"")),e.oy=parseFloat(r.replace(_,"")),e.v=t),e||t},ot=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},st=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)},at=function(t,e,i,n){var r,o,s,a,l,c=1e-6;return null==t?a=e:"number"==typeof t?a=t:(r=360,o=t.split("_"),l="="===t.charAt(1),s=(l?parseInt(t.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(-1===t.indexOf("rad")?1:I)-(l?0:e),o.length&&(n&&(n[i]=e+s),-1!==t.indexOf("short")&&(s%=r,s!==s%(r/2)&&(s=0>s?s+r:s-r)),-1!==t.indexOf("_cw")&&0>s?s=(s+9999999999*r)%r-(s/r|0)*r:-1!==t.indexOf("ccw")&&s>0&&(s=(s-9999999999*r)%r-(s/r|0)*r)),a=e+s),c>a&&a>-c&&(a=0),a},lt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ct=function(t,e,i){return t=0>t?t+1:t>1?t-1:t,255*(1>6*t?e+(i-e)*t*6:.5>t?i:2>3*t?e+(i-e)*(2/3-t)*6:e)+.5|0},ht=a.parseColor=function(t){var e,i,n,r,o,s;return t&&""!==t?"number"==typeof t?[t>>16,t>>8&255,255&t]:(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),lt[t]?lt[t]:"#"===t.charAt(0)?(4===t.length&&(e=t.charAt(1),i=t.charAt(2),n=t.charAt(3),t="#"+e+e+i+i+n+n),t=parseInt(t.substr(1),16),[t>>16,t>>8&255,255&t]):"hsl"===t.substr(0,3)?(t=t.match(v),r=Number(t[0])%360/360,o=Number(t[1])/100,s=Number(t[2])/100,i=.5>=s?s*(o+1):s+o-s*o,e=2*s-i,t.length>3&&(t[3]=Number(t[3])),t[0]=ct(r+1/3,e,i),t[1]=ct(r,e,i),t[2]=ct(r-1/3,e,i),t):(t=t.match(v)||lt.transparent,t[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),t.length>3&&(t[3]=Number(t[3])),t)):lt.black},ut="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(h in lt)ut+="|"+h+"\\b";ut=new RegExp(ut+")","gi");var dt=function(t,e,i,n){if(null==t)return function(t){return t};var r,o=e?(t.match(ut)||[""])[0]:"",s=t.split(o).join("").match(w)||[],a=t.substr(0,t.indexOf(s[0])),l=")"===t.charAt(t.length-1)?")":"",c=-1!==t.indexOf(" ")?" ":",",h=s.length,u=h>0?s[0].replace(v,""):"";return h?r=e?function(t){var e,d,f,p;if("number"==typeof t)t+=u;else if(n&&D.test(t)){for(p=t.replace(D,"|").split("|"),f=0;f<p.length;f++)p[f]=r(p[f]);return p.join(",")}if(e=(t.match(ut)||[o])[0],d=t.split(e).join("").match(w)||[],f=d.length,h>f--)for(;++f<h;)d[f]=i?d[(f-1)/2|0]:s[f];return a+d.join(c)+c+e+l+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,o,d;if("number"==typeof t)t+=u;else if(n&&D.test(t)){for(o=t.replace(D,"|").split("|"),d=0;d<o.length;d++)o[d]=r(o[d]);return o.join(",")}if(e=t.match(w)||[],d=e.length,h>d--)for(;++d<h;)e[d]=i?e[(d-1)/2|0]:s[d];return a+e.join(c)+l}:function(t){return t}},ft=function(t){return t=t.split(","),function(e,i,n,r,o,s,a){var l,c=(i+"").split(" ");for(a={},l=0;4>l;l++)a[t[l]]=c[l]=c[l]||c[(l-1)/2>>0];return r.parse(e,a,o,s)}},pt=(V._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,r,o=this.data,s=o.proxy,a=o.firstMPT,l=1e-6;a;)e=s[a.v],a.r?e=Math.round(e):l>e&&e>-l&&(e=0),a.t[a.p]=e,a=a._next;if(o.autoRotate&&(o.autoRotate.rotation=s.rotation),1===t)for(a=o.firstMPT;a;){if(i=a.t,i.type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)r+=i["xn"+n]+i["xs"+(n+1)];i.e=r}}else i.e=i.s+i.xs0;a=a._next}},function(t,e,i,n,r){this.t=t,this.p=e,this.v=i,this.r=r,n&&(n._prev=this,this._next=n)}),gt=(V._parseToProxy=function(t,e,i,n,r,o){var s,a,l,c,h,u=n,d={},f={},p=i._transform,g=H;for(i._transform=null,H=e,n=h=i.parse(t,e,n,r),H=g,o&&(i._transform=p,u&&(u._prev=null,u._prev&&(u._prev._next=null)));n&&n!==u;){if(n.type<=1&&(a=n.p,f[a]=n.s+n.c,d[a]=n.s,o||(c=new pt(n,"s",a,c,n.r),n.c=0),1===n.type))for(s=n.l;--s>0;)l="xn"+s,a=n.p+"_"+l,f[a]=n.data[l],d[a]=n[l],o||(c=new pt(n,l,a,c,n.rxp[l]));n=n._next}return{proxy:d,end:f,firstMPT:c,pt:h}},V.CSSPropTween=function(t,e,n,r,o,a,l,c,h,u,d){this.t=t,this.p=e,this.s=n,this.c=r,this.n=l||e,t instanceof gt||s.push(this.n),this.r=c,this.type=a||0,h&&(this.pr=h,i=!0),this.b=void 0===u?n:u,this.e=void 0===d?n+r:d,o&&(this._next=o,o._prev=this)}),mt=a.parseComplex=function(t,e,i,n,r,o,s,a,l,c){i=i||o||"",s=new gt(t,e,0,0,s,c?2:1,null,!1,a,i,n),n+="";var h,d,f,p,g,m,w,_,b,x,C,T,E=i.split(", ").join(",").split(" "),k=n.split(", ").join(",").split(" "),R=E.length,P=u!==!1;for(-1===n.indexOf(",")&&-1===i.indexOf(",")||(E=E.join(" ").replace(D,", ").split(" "),k=k.join(" ").replace(D,", ").split(" "),R=E.length),R!==k.length&&(E=(o||"").split(" "),R=E.length),s.plugin=l,s.setRatio=c,h=0;R>h;h++)if(p=E[h],g=k[h],_=parseFloat(p),_||0===_)s.appendXtra("",_,ot(g,_),g.replace(y,""),P&&-1!==g.indexOf("px"),!0);else if(r&&("#"===p.charAt(0)||lt[p]||S.test(p)))T=","===g.charAt(g.length-1)?"),":")",p=ht(p),g=ht(g),b=p.length+g.length>6,b&&!j&&0===g[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(k[h]).join("transparent")):(j||(b=!1),s.appendXtra(b?"rgba(":"rgb(",p[0],g[0]-p[0],",",!0,!0).appendXtra("",p[1],g[1]-p[1],",",!0).appendXtra("",p[2],g[2]-p[2],b?",":T,!0),b&&(p=p.length<4?1:p[3],s.appendXtra("",p,(g.length<4?1:g[3])-p,T,!1)));else if(m=p.match(v)){if(w=g.match(y),!w||w.length!==m.length)return s;for(f=0,d=0;d<m.length;d++)C=m[d],x=p.indexOf(C,f),s.appendXtra(p.substr(f,x-f),Number(C),ot(w[d],C),"",P&&"px"===p.substr(x+C.length,2),0===d),f=x+C.length;s["xs"+s.l]+=p.substr(f)}else s["xs"+s.l]+=s.l?" "+p:p;if(-1!==n.indexOf("=")&&s.data){for(T=s.xs0+s.data.s,h=1;h<s.l;h++)T+=s["xs"+h]+s.data["xn"+h];s.e=T+s["xs"+h]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},vt=9;for(h=gt.prototype,h.l=h.pr=0;--vt>0;)h["xn"+vt]=0,h["xs"+vt]="";h.xs0="",h._next=h._prev=h.xfirst=h.data=h.plugin=h.setRatio=h.rxp=null,h.appendXtra=function(t,e,i,n,r,o){var s=this,a=s.l;return s["xs"+a]+=o&&a?" "+t:t||"",i||0===a||s.plugin?(s.l++,s.type=s.setRatio?2:1,s["xs"+s.l]=n||"",a>0?(s.data["xn"+a]=e+i,s.rxp["xn"+a]=r,s["xn"+a]=e,s.plugin||(s.xfirst=new gt(s,"xn"+a,e,i,s.xfirst||s,0,s.n,r,s.pr),s.xfirst.xs0=0),s):(s.data={s:e+i},s.rxp={},s.s=e,s.c=i,s.r=r,s)):(s["xs"+a]+=e+(n||""),s)};var yt=function(t,e){e=e||{},this.p=e.prefix?G(t)||t:t,c[t]=c[this.p]=this,this.format=e.formatter||dt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},wt=V._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var n,r,o=t.split(","),s=e.defaultValue;for(i=i||[s],n=0;n<o.length;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||s,r=new yt(o[n],e)},_t=function(t){if(!c[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";wt(t,{parser:function(t,i,n,r,o,s,a){var h=l.com.greensock.plugins[e];return h?(h._cssRegister(),c[n].parse(t,i,n,r,o,s,a)):(U("Error: "+e+" js file not loaded."),o)}})}};h=yt.prototype,h.parseComplex=function(t,e,i,n,r,o){var s,a,l,c,h,u,d=this.keyword;if(this.multi&&(D.test(i)||D.test(e)?(a=e.replace(D,"|").split("|"),l=i.replace(D,"|").split("|")):d&&(a=[e],l=[i])),l){for(c=l.length>a.length?l.length:a.length,s=0;c>s;s++)e=a[s]=a[s]||this.dflt,i=l[s]=l[s]||this.dflt,d&&(h=e.indexOf(d),u=i.indexOf(d),h!==u&&(-1===u?a[s]=a[s].split(d).join(""):-1===h&&(a[s]+=" "+d)));e=a.join(", "),i=l.join(", ")}return mt(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,r,o)},h.parse=function(t,e,i,n,r,s,a){return this.parseComplex(t.style,this.format(Q(t,this.p,o,!1,this.dflt)),this.format(e),r,s)},a.registerSpecialProp=function(t,e,i){wt(t,{parser:function(t,n,r,o,s,a,l){var c=new gt(t,r,0,0,s,2,r,!1,i);return c.plugin=a,c.setRatio=e(t,n,o._tween,r),c},priority:i})},a.useSVGTransformAttr=f;var bt,xt="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Ct=G("transform"),Tt=Y+"transform",St=G("transformOrigin"),Et=null!==G("perspective"),kt=V.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=a.defaultForce3D!==!1&&Et?a.defaultForce3D||"auto":!1},Rt=window.SVGElement,Pt=function(t,e,i){var n,r=L.createElementNS("http://www.w3.org/2000/svg",t),o=/([a-z])([A-Z])/g;for(n in i)r.setAttributeNS(null,n.replace(o,"$1-$2").toLowerCase(),i[n]);return e.appendChild(r),r},At=L.documentElement,Ot=function(){var t,e,i,n=m||/Android/i.test(W)&&!window.chrome;return L.createElementNS&&!n&&(t=Pt("svg",At),e=Pt("rect",t,{width:100,height:50,x:100}),i=e.getBoundingClientRect().width,e.style[St]="50% 50%",e.style[Ct]="scaleX(0.5)",n=i===e.getBoundingClientRect().width&&!(p&&Et),At.removeChild(t)),n}(),Nt=function(t,e,i,n){var r,o;n&&(o=n.split(" ")).length||(r=t.getBBox(),e=rt(e).split(" "),o=[(-1!==e[0].indexOf("%")?parseFloat(e[0])/100*r.width:parseFloat(e[0]))+r.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*r.height:parseFloat(e[1]))+r.y]),i.xOrigin=parseFloat(o[0]),i.yOrigin=parseFloat(o[1]),t.setAttribute("data-svg-origin",o.join(" "))},Dt=V.getTransform=function(t,e,i,n){if(t._gsTransform&&i&&!n)return t._gsTransform;var r,s,l,c,h,u,d,f,p,g,m=i?t._gsTransform||new kt:new kt,v=m.scaleX<0,y=2e-5,w=1e5,_=Et?parseFloat(Q(t,St,e,!1,"0 0 0").split(" ")[2])||m.zOrigin||0:0,b=parseFloat(a.defaultTransformPerspective)||0;if(Ct?s=Q(t,Tt,e,!0):t.currentStyle&&(s=t.currentStyle.filter.match(O),s=s&&4===s.length?[s[0].substr(4),Number(s[2].substr(4)),Number(s[1].substr(4)),s[3].substr(4),m.x||0,m.y||0].join(","):""),r=!s||"none"===s||"matrix(1, 0, 0, 1, 0, 0)"===s,m.svg=!!(Rt&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM)),m.svg&&(r&&-1!==(t.style[Ct]+"").indexOf("matrix")&&(s=t.style[Ct],r=!1),Nt(t,Q(t,St,o,!1,"50% 50%")+"",m,t.getAttribute("data-svg-origin")),bt=a.useSVGTransformAttr||Ot,l=t.getAttribute("transform"),r&&l&&-1!==l.indexOf("matrix")&&(s=l,r=0)),!r){for(l=(s||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],c=l.length;--c>-1;)h=Number(l[c]),l[c]=(u=h-(h|=0))?(u*w+(0>u?-.5:.5)|0)/w+h:h;if(16===l.length){var x,C,T,S,E,k=l[0],R=l[1],P=l[2],A=l[3],N=l[4],D=l[5],M=l[6],H=l[7],L=l[8],F=l[9],z=l[10],B=l[12],V=l[13],W=l[14],j=l[11],X=Math.atan2(M,z);m.zOrigin&&(W=-m.zOrigin,B=L*W-l[12],V=F*W-l[13],W=z*W+m.zOrigin-l[14]),m.rotationX=X*I,X&&(S=Math.cos(-X),E=Math.sin(-X),x=N*S+L*E,C=D*S+F*E,T=M*S+z*E,L=N*-E+L*S,F=D*-E+F*S,z=M*-E+z*S,j=H*-E+j*S,N=x,D=C,M=T),X=Math.atan2(L,z),m.rotationY=X*I,X&&(S=Math.cos(-X),E=Math.sin(-X),x=k*S-L*E,C=R*S-F*E,T=P*S-z*E,F=R*E+F*S,z=P*E+z*S,j=A*E+j*S,k=x,R=C,P=T),X=Math.atan2(R,k),m.rotation=X*I,X&&(S=Math.cos(-X),E=Math.sin(-X),k=k*S+N*E,C=R*S+D*E,D=R*-E+D*S,M=P*-E+M*S,R=C),m.rotationX&&Math.abs(m.rotationX)+Math.abs(m.rotation)>359.9&&(m.rotationX=m.rotation=0,m.rotationY+=180),m.scaleX=(Math.sqrt(k*k+R*R)*w+.5|0)/w,m.scaleY=(Math.sqrt(D*D+F*F)*w+.5|0)/w,m.scaleZ=(Math.sqrt(M*M+z*z)*w+.5|0)/w,m.skewX=0,m.perspective=j?1/(0>j?-j:j):0,m.x=B,m.y=V,m.z=W,m.svg&&(m.x-=m.xOrigin-(m.xOrigin*k-m.yOrigin*N),m.y-=m.yOrigin-(m.yOrigin*R-m.xOrigin*D))}else if((!Et||n||!l.length||m.x!==l[4]||m.y!==l[5]||!m.rotationX&&!m.rotationY)&&(void 0===m.x||"none"!==Q(t,"display",e))){var U=l.length>=6,Y=U?l[0]:1,q=l[1]||0,G=l[2]||0,$=U?l[3]:1;m.x=l[4]||0,m.y=l[5]||0,d=Math.sqrt(Y*Y+q*q),f=Math.sqrt($*$+G*G),p=Y||q?Math.atan2(q,Y)*I:m.rotation||0,g=G||$?Math.atan2(G,$)*I+p:m.skewX||0,Math.abs(g)>90&&Math.abs(g)<270&&(v?(d*=-1,g+=0>=p?180:-180,p+=0>=p?180:-180):(f*=-1,g+=0>=g?180:-180)),m.scaleX=d,m.scaleY=f,m.rotation=p,m.skewX=g,Et&&(m.rotationX=m.rotationY=m.z=0,m.perspective=b,m.scaleZ=1),m.svg&&(m.x-=m.xOrigin-(m.xOrigin*Y-m.yOrigin*q),m.y-=m.yOrigin-(m.yOrigin*$-m.xOrigin*G))}m.zOrigin=_;for(c in m)m[c]<y&&m[c]>-y&&(m[c]=0)}return i&&(t._gsTransform=m,m.svg&&(bt&&t.style[Ct]?Lt(t.style,Ct):!bt&&t.getAttribute("transform")&&t.removeAttribute("transform"))),m},Mt=function(t){var e,i,n=this.data,r=-n.rotation*M,o=r+n.skewX*M,s=1e5,a=(Math.cos(r)*n.scaleX*s|0)/s,l=(Math.sin(r)*n.scaleX*s|0)/s,c=(Math.sin(o)*-n.scaleY*s|0)/s,h=(Math.cos(o)*n.scaleY*s|0)/s,u=this.t.style,d=this.t.currentStyle;if(d){i=l,l=-c,c=-i,e=d.filter,u.filter="";var f,p,g=this.t.offsetWidth,v=this.t.offsetHeight,y="absolute"!==d.position,w="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+l+", M21="+c+", M22="+h,_=n.x+g*n.xPercent/100,C=n.y+v*n.yPercent/100;if(null!=n.ox&&(f=(n.oxp?g*n.ox*.01:n.ox)-g/2,p=(n.oyp?v*n.oy*.01:n.oy)-v/2,_+=f-(f*a+p*l),C+=p-(f*c+p*h)),y?(f=g/2,p=v/2,w+=", Dx="+(f-(f*a+p*l)+_)+", Dy="+(p-(f*c+p*h)+C)+")"):w+=", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?u.filter=e.replace(N,w):u.filter=w+" "+e,0!==t&&1!==t||1===a&&0===l&&0===c&&1===h&&(y&&-1===w.indexOf("Dx=0, Dy=0")||x.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&u.removeAttribute("filter")),!y){var T,S,E,k=8>m?1:-1;for(f=n.ieOffsetX||0,p=n.ieOffsetY||0,n.ieOffsetX=Math.round((g-((0>a?-a:a)*g+(0>l?-l:l)*v))/2+_),n.ieOffsetY=Math.round((v-((0>h?-h:h)*v+(0>c?-c:c)*g))/2+C),vt=0;4>vt;vt++)S=it[vt],T=d[S],i=-1!==T.indexOf("px")?parseFloat(T):K(this.t,S,parseFloat(T),T.replace(b,""))||0,E=i!==n[S]?2>vt?-n.ieOffsetX:-n.ieOffsetY:2>vt?f-n.ieOffsetX:p-n.ieOffsetY,u[S]=(n[S]=Math.round(i-E*(0===vt||2===vt?1:k)))+"px"}}},It=V.set3DTransformRatio=V.setTransformRatio=function(t){var e,i,n,r,o,s,a,l,c,h,u,d,f,g,m,v,y,w,_,b,x,C,T,S=this.data,E=this.t.style,k=S.rotation,R=S.rotationX,P=S.rotationY,A=S.scaleX,O=S.scaleY,N=S.scaleZ,D=S.x,I=S.y,H=S.z,L=S.svg,F=S.perspective,z=S.force3D;if(((1===t||0===t)&&"auto"===z&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!z)&&!H&&!F&&!P&&!R||bt&&L||!Et)return void(k||S.skewX||L?(k*=M,C=S.skewX*M,T=1e5,e=Math.cos(k)*A,r=Math.sin(k)*A,i=Math.sin(k-C)*-O,o=Math.cos(k-C)*O,C&&"simple"===S.skewType&&(y=Math.tan(C),y=Math.sqrt(1+y*y),i*=y,o*=y,S.skewY&&(e*=y,r*=y)),L&&(D+=S.xOrigin-(S.xOrigin*e+S.yOrigin*i),I+=S.yOrigin-(S.xOrigin*r+S.yOrigin*o),g=1e-6,g>D&&D>-g&&(D=0),g>I&&I>-g&&(I=0)),_=(e*T|0)/T+","+(r*T|0)/T+","+(i*T|0)/T+","+(o*T|0)/T+","+D+","+I+")",L&&bt?this.t.setAttribute("transform","matrix("+_):E[Ct]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+_):E[Ct]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+A+",0,0,"+O+","+D+","+I+")");if(p&&(g=1e-4,g>A&&A>-g&&(A=N=2e-5),g>O&&O>-g&&(O=N=2e-5),!F||S.z||S.rotationX||S.rotationY||(F=0)),k||S.skewX)k*=M,m=e=Math.cos(k),v=r=Math.sin(k),S.skewX&&(k-=S.skewX*M,m=Math.cos(k),v=Math.sin(k),"simple"===S.skewType&&(y=Math.tan(S.skewX*M),y=Math.sqrt(1+y*y),m*=y,v*=y,S.skewY&&(e*=y,r*=y))),i=-v,o=m;else{if(!(P||R||1!==N||F||L))return void(E[Ct]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) translate3d(":"translate3d(")+D+"px,"+I+"px,"+H+"px)"+(1!==A||1!==O?" scale("+A+","+O+")":""));e=o=1,i=r=0}c=1,n=s=a=l=h=u=0,d=F?-1/F:0,f=S.zOrigin,g=1e-6,b=",",x="0",k=P*M,k&&(m=Math.cos(k),v=Math.sin(k),a=-v,h=d*-v,n=e*v,s=r*v,c=m,d*=m,e*=m,r*=m),k=R*M,k&&(m=Math.cos(k),v=Math.sin(k),y=i*m+n*v,w=o*m+s*v,l=c*v,u=d*v,n=i*-v+n*m,s=o*-v+s*m,c*=m,d*=m,i=y,o=w),1!==N&&(n*=N,s*=N,c*=N,d*=N),1!==O&&(i*=O,o*=O,l*=O,u*=O),1!==A&&(e*=A,r*=A,a*=A,h*=A),(f||L)&&(f&&(D+=n*-f,I+=s*-f,H+=c*-f+f),L&&(D+=S.xOrigin-(S.xOrigin*e+S.yOrigin*i),I+=S.yOrigin-(S.xOrigin*r+S.yOrigin*o)),g>D&&D>-g&&(D=x),g>I&&I>-g&&(I=x),g>H&&H>-g&&(H=0)),_=S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix3d(":"matrix3d(",_+=(g>e&&e>-g?x:e)+b+(g>r&&r>-g?x:r)+b+(g>a&&a>-g?x:a),_+=b+(g>h&&h>-g?x:h)+b+(g>i&&i>-g?x:i)+b+(g>o&&o>-g?x:o),R||P?(_+=b+(g>l&&l>-g?x:l)+b+(g>u&&u>-g?x:u)+b+(g>n&&n>-g?x:n),_+=b+(g>s&&s>-g?x:s)+b+(g>c&&c>-g?x:c)+b+(g>d&&d>-g?x:d)+b):_+=",0,0,0,0,1,0,",_+=D+b+I+b+H+b+(F?1+-H/F:1)+")",E[Ct]=_};h=kt.prototype,h.x=h.y=h.z=h.skewX=h.skewY=h.rotation=h.rotationX=h.rotationY=h.zOrigin=h.xPercent=h.yPercent=0,h.scaleX=h.scaleY=h.scaleZ=1,wt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent",{parser:function(t,e,i,n,r,s,l){if(n._lastParsedTransform===l)return r;n._lastParsedTransform=l;var c,h,u,d,f,p,g,m=n._transform=Dt(t,o,!0,l.parseTransform),v=t.style,y=1e-6,w=xt.length,_=l,b={};if("string"==typeof _.transform&&Ct)u=z.style,u[Ct]=_.transform,u.display="block",u.position="absolute",L.body.appendChild(z),c=Dt(z,null,!1),L.body.removeChild(z);else if("object"==typeof _){if(c={scaleX:st(null!=_.scaleX?_.scaleX:_.scale,m.scaleX),scaleY:st(null!=_.scaleY?_.scaleY:_.scale,m.scaleY),scaleZ:st(_.scaleZ,m.scaleZ),x:st(_.x,m.x),y:st(_.y,m.y),z:st(_.z,m.z),xPercent:st(_.xPercent,m.xPercent),yPercent:st(_.yPercent,m.yPercent),perspective:st(_.transformPerspective,m.perspective)},g=_.directionalRotation,null!=g)if("object"==typeof g)for(u in g)_[u]=g[u];else _.rotation=g;"string"==typeof _.x&&-1!==_.x.indexOf("%")&&(c.x=0,c.xPercent=st(_.x,m.xPercent)),"string"==typeof _.y&&-1!==_.y.indexOf("%")&&(c.y=0,c.yPercent=st(_.y,m.yPercent)),c.rotation=at("rotation"in _?_.rotation:"shortRotation"in _?_.shortRotation+"_short":"rotationZ"in _?_.rotationZ:m.rotation,m.rotation,"rotation",b),Et&&(c.rotationX=at("rotationX"in _?_.rotationX:"shortRotationX"in _?_.shortRotationX+"_short":m.rotationX||0,m.rotationX,"rotationX",b),c.rotationY=at("rotationY"in _?_.rotationY:"shortRotationY"in _?_.shortRotationY+"_short":m.rotationY||0,m.rotationY,"rotationY",b)),c.skewX=null==_.skewX?m.skewX:at(_.skewX,m.skewX),c.skewY=null==_.skewY?m.skewY:at(_.skewY,m.skewY),(h=c.skewY-m.skewY)&&(c.skewX+=h,c.rotation+=h)}for(Et&&null!=_.force3D&&(m.force3D=_.force3D,p=!0),m.skewType=_.skewType||m.skewType||a.defaultSkewType,f=m.force3D||m.z||m.rotationX||m.rotationY||c.z||c.rotationX||c.rotationY||c.perspective,f||null==_.scale||(c.scaleZ=1);--w>-1;)i=xt[w],d=c[i]-m[i],(d>y||-y>d||null!=_[i]||null!=H[i])&&(p=!0,r=new gt(m,i,m[i],d,r),i in b&&(r.e=b[i]),r.xs0=0,r.plugin=s,n._overwriteProps.push(r.n));return d=_.transformOrigin,m.svg&&(d||_.svgOrigin)&&(Nt(t,rt(d),c,_.svgOrigin),r=new gt(m,"xOrigin",m.xOrigin,c.xOrigin-m.xOrigin,r,-1,"transformOrigin"),r.b=m.xOrigin,r.e=r.xs0=c.xOrigin,r=new gt(m,"yOrigin",m.yOrigin,c.yOrigin-m.yOrigin,r,-1,"transformOrigin"),r.b=m.yOrigin,r.e=r.xs0=c.yOrigin,d=bt?null:"0px 0px"),(d||Et&&f&&m.zOrigin)&&(Ct?(p=!0,i=St,d=(d||Q(t,i,o,!1,"50% 50%"))+"",r=new gt(v,i,0,0,r,-1,"transformOrigin"),r.b=v[i],r.plugin=s,Et?(u=m.zOrigin,d=d.split(" "),m.zOrigin=(d.length>2&&(0===u||"0px"!==d[2])?parseFloat(d[2]):u)||0,r.xs0=r.e=d[0]+" "+(d[1]||"50%")+" 0px",r=new gt(m,"zOrigin",0,0,r,-1,r.n),r.b=u,r.xs0=r.e=m.zOrigin):r.xs0=r.e=d):rt(d+"",m)),p&&(n._transformType=m.svg&&bt||!f&&3!==this._transformType?2:3),r},prefix:!0}),wt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),wt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,n,s,a){e=this.format(e);var l,c,h,u,d,f,p,g,m,v,y,w,_,b,x,C,T=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],S=t.style;for(m=parseFloat(t.offsetWidth),v=parseFloat(t.offsetHeight),l=e.split(" "),c=0;c<T.length;c++)this.p.indexOf("border")&&(T[c]=G(T[c])),d=u=Q(t,T[c],o,!1,"0px"),-1!==d.indexOf(" ")&&(u=d.split(" "),d=u[0],u=u[1]),f=h=l[c],p=parseFloat(d),w=d.substr((p+"").length),_="="===f.charAt(1),_?(g=parseInt(f.charAt(0)+"1",10),f=f.substr(2),g*=parseFloat(f),y=f.substr((g+"").length-(0>g?1:0))||""):(g=parseFloat(f),y=f.substr((g+"").length)),""===y&&(y=r[i]||w),y!==w&&(b=K(t,"borderLeft",p,w),x=K(t,"borderTop",p,w),"%"===y?(d=b/m*100+"%",u=x/v*100+"%"):"em"===y?(C=K(t,"borderLeft",1,"em"),d=b/C+"em",u=x/C+"em"):(d=b+"px",u=x+"px"),_&&(f=parseFloat(d)+g+y,h=parseFloat(u)+g+y)),s=mt(S,T[c],d+" "+u,f+" "+h,!1,"0px",s);return s},prefix:!0,formatter:dt("0px 0px 0px 0px",!1,!0)}),wt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,r,s){var a,l,c,h,u,d,f="background-position",p=o||$(t,null),g=this.format((p?m?p.getPropertyValue(f+"-x")+" "+p.getPropertyValue(f+"-y"):p.getPropertyValue(f):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),v=this.format(e);if(-1!==g.indexOf("%")!=(-1!==v.indexOf("%"))&&(d=Q(t,"backgroundImage").replace(R,""),d&&"none"!==d)){for(a=g.split(" "),l=v.split(" "),B.setAttribute("src",d),c=2;--c>-1;)g=a[c],h=-1!==g.indexOf("%"),h!==(-1!==l[c].indexOf("%"))&&(u=0===c?t.offsetWidth-B.width:t.offsetHeight-B.height,a[c]=h?parseFloat(g)/100*u+"px":parseFloat(g)/u*100+"%");g=a.join(" ")}return this.parseComplex(t.style,g,v,r,s)},formatter:rt}),wt("backgroundSize",{defaultValue:"0 0",formatter:rt}),wt("perspective",{defaultValue:"0px",prefix:!0}),wt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),wt("transformStyle",{prefix:!0}),wt("backfaceVisibility",{prefix:!0}),wt("userSelect",{prefix:!0}),wt("margin",{parser:ft("marginTop,marginRight,marginBottom,marginLeft")}),wt("padding",{parser:ft("paddingTop,paddingRight,paddingBottom,paddingLeft")}),wt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,r,s){var a,l,c;return 9>m?(l=t.currentStyle,c=8>m?" ":",",a="rect("+l.clipTop+c+l.clipRight+c+l.clipBottom+c+l.clipLeft+")",e=this.format(e).split(",").join(c)):(a=this.format(Q(t,this.p,o,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,a,e,r,s)}}),wt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),wt("autoRound,strictUnits",{parser:function(t,e,i,n,r){return r}}),wt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,r,s){return this.parseComplex(t.style,this.format(Q(t,"borderTopWidth",o,!1,"0px")+" "+Q(t,"borderTopStyle",o,!1,"solid")+" "+Q(t,"borderTopColor",o,!1,"#000")),this.format(e),r,s)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(ut)||["#000"])[0]}}),wt("borderWidth",{parser:ft("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),wt("float,cssFloat,styleFloat",{parser:function(t,e,i,n,r,o){var s=t.style,a="cssFloat"in s?"cssFloat":"styleFloat";return new gt(s,a,0,0,r,-1,i,!1,0,s[a],e)}});var Ht=function(t){var e,i=this.t,n=i.filter||Q(this.data,"filter")||"",r=this.s+this.c*t|0;100===r&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),e=!Q(this.data,"filter")):(i.filter=n.replace(T,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),-1===n.indexOf("pacity")?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(x,"opacity="+r))};wt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,r,s){var a=parseFloat(Q(t,"opacity",o,!1,"1")),l=t.style,c="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+a),c&&1===a&&"hidden"===Q(t,"visibility",o)&&0!==e&&(a=0),j?r=new gt(l,"opacity",a,e-a,r):(r=new gt(l,"opacity",100*a,100*(e-a),r),r.xn1=c?1:0,l.zoom=1,r.type=2,r.b="alpha(opacity="+r.s+")",r.e="alpha(opacity="+(r.s+r.c)+")",r.data=t,r.plugin=s,r.setRatio=Ht),c&&(r=new gt(l,"visibility",0,0,r,-1,null,!1,0,0!==a?"inherit":"hidden",0===e?"hidden":"inherit"),r.xs0="inherit",n._overwriteProps.push(r.n),n._overwriteProps.push(i)),r}});var Lt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(E,"-$1").toLowerCase())):t.removeAttribute(e))},Ft=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Lt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};wt("className",{parser:function(t,e,n,r,s,a,l){var c,h,u,d,f,p=t.getAttribute("class")||"",g=t.style.cssText;if(s=r._classNamePT=new gt(t,n,0,0,s,2),s.setRatio=Ft,s.pr=-11,i=!0,s.b=p,h=J(t,o),u=t._gsClassPT){for(d={},f=u.data;f;)d[f.p]=1,f=f._next;u.setRatio(1)}return t._gsClassPT=s,s.e="="!==e.charAt(1)?e:p.replace(new RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",s.e),c=tt(t,h,J(t),l,d),t.setAttribute("class",p),s.data=c.firstMPT,t.style.cssText=g,s=s.xfirst=r.parse(t,c.difs,s,a)}});var zt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,r,o,s=this.t.style,a=c.transform.parse;if("all"===this.e)s.cssText="",r=!0;else for(e=this.e.split(" ").join("").split(","),n=e.length;--n>-1;)i=e[n],c[i]&&(c[i].parse===a?r=!0:i="transformOrigin"===i?St:c[i].p),Lt(s,i);r&&(Lt(s,Ct),o=this.t._gsTransform,o&&(o.svg&&this.t.removeAttribute("data-svg-origin"),delete this.t._gsTransform))}};for(wt("clearProps",{parser:function(t,e,n,r,o){return o=new gt(t,n,0,0,o,2),o.setRatio=zt,o.e=e,o.pr=-10,o.data=r._tween,i=!0,o}}),h="bezier,throwProps,physicsProps,physics2D".split(","),vt=h.length;vt--;)_t(h[vt]);h=a.prototype,h._firstPT=h._lastParsedTransform=h._transform=null,h._onInitTween=function(t,e,n){if(!t.nodeType)return!1;this._target=t,this._tween=n,this._vars=e,u=e.autoRound,i=!1,r=e.suffixMap||a.suffixMap,o=$(t,""),s=this._overwriteProps;var l,h,p,m,v,y,w,_,b,x=t.style;if(d&&""===x.zIndex&&(l=Q(t,"zIndex",o),"auto"!==l&&""!==l||this._addLazySet(x,"zIndex",0)),"string"==typeof e&&(m=x.cssText,l=J(t,o),x.cssText=m+";"+e,l=tt(t,l,J(t)).difs,!j&&C.test(e)&&(l.opacity=parseFloat(RegExp.$1)),e=l,x.cssText=m),e.className?this._firstPT=h=c.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=h=this.parse(t,e,null),this._transformType){for(b=3===this._transformType,Ct?f&&(d=!0,""===x.zIndex&&(w=Q(t,"zIndex",o),"auto"!==w&&""!==w||this._addLazySet(x,"zIndex",0)),g&&this._addLazySet(x,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(b?"visible":"hidden"))):x.zoom=1,p=h;p&&p._next;)p=p._next;_=new gt(t,"transform",0,0,null,2),this._linkCSSP(_,null,p),_.setRatio=Ct?It:Mt,_.data=this._transform||Dt(t,o,!0),
_.tween=n,_.pr=-1,s.pop()}if(i){for(;h;){for(y=h._next,p=m;p&&p.pr>h.pr;)p=p._next;(h._prev=p?p._prev:v)?h._prev._next=h:m=h,(h._next=p)?p._prev=h:v=h,h=y}this._firstPT=m}return!0},h.parse=function(t,e,i,n){var s,a,l,h,d,f,p,g,m,v,y=t.style;for(s in e)f=e[s],a=c[s],a?i=a.parse(t,f,s,this,i,n,e):(d=Q(t,s,o)+"",m="string"==typeof f,"color"===s||"fill"===s||"stroke"===s||-1!==s.indexOf("Color")||m&&S.test(f)?(m||(f=ht(f),f=(f.length>3?"rgba(":"rgb(")+f.join(",")+")"),i=mt(y,s,d,f,!0,"transparent",i,0,n)):!m||-1===f.indexOf(" ")&&-1===f.indexOf(",")?(l=parseFloat(d),p=l||0===l?d.substr((l+"").length):"",""!==d&&"auto"!==d||("width"===s||"height"===s?(l=nt(t,s,o),p="px"):"left"===s||"top"===s?(l=Z(t,s,o),p="px"):(l="opacity"!==s?0:1,p="")),v=m&&"="===f.charAt(1),v?(h=parseInt(f.charAt(0)+"1",10),f=f.substr(2),h*=parseFloat(f),g=f.replace(b,"")):(h=parseFloat(f),g=m?f.replace(b,""):""),""===g&&(g=s in r?r[s]:p),f=h||0===h?(v?h+l:h)+g:e[s],p!==g&&""!==g&&(h||0===h)&&l&&(l=K(t,s,l,p),"%"===g?(l/=K(t,s,100,"%")/100,e.strictUnits!==!0&&(d=l+"%")):"em"===g?l/=K(t,s,1,"em"):"px"!==g&&(h=K(t,s,h,g),g="px"),v&&(h||0===h)&&(f=h+l+g)),v&&(h+=l),!l&&0!==l||!h&&0!==h?void 0!==y[s]&&(f||f+""!="NaN"&&null!=f)?(i=new gt(y,s,h||l||0,0,i,-1,s,!1,0,d,f),i.xs0="none"!==f||"display"!==s&&-1===s.indexOf("Style")?f:d):U("invalid "+s+" tween value: "+e[s]):(i=new gt(y,s,l,h-l,i,0,s,u!==!1&&("px"===g||"zIndex"===s),0,d,f),i.xs0=g)):i=mt(y,s,d,f,!0,null,i,0,n)),n&&i&&!i.plugin&&(i.plugin=n);return i},h.setRatio=function(t){var e,i,n,r=this._firstPT,o=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(e=r.c*t+r.s,r.r?e=Math.round(e):o>e&&e>-o&&(e=0),r.type)if(1===r.type)if(n=r.l,2===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;)2!==r.type?r.t[r.p]=r.e:r.setRatio(t),r=r._next},h._enableTransforms=function(t){this._transform=this._transform||Dt(this._target,o,!0),this._transformType=this._transform.svg&&bt||!t&&3!==this._transformType?2:3};var Bt=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};h._addLazySet=function(t,e,i){var n=this._firstPT=new gt(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=Bt,n.data=this},h._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},h._kill=function(e){var i,n,r,o=e;if(e.autoAlpha||e.alpha){o={};for(n in e)o[n]=e[n];o.opacity=1,o.autoAlpha&&(o.visibility=1)}return e.className&&(i=this._classNamePT)&&(r=i.xfirst,r&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),t.prototype._kill.call(this,o)};var Vt=function(t,e,i){var n,r,o,s;if(t.slice)for(r=t.length;--r>-1;)Vt(t[r],e,i);else for(n=t.childNodes,r=n.length;--r>-1;)o=n[r],s=o.type,o.style&&(e.push(J(o)),i&&i.push(o)),1!==s&&9!==s&&11!==s||!o.childNodes.length||Vt(o,e,i)};return a.cascadeTo=function(t,i,n){var r,o,s,a,l=e.to(t,i,n),c=[l],h=[],u=[],d=[],f=e._internals.reservedProps;for(t=l._targets||l.target,Vt(t,h,d),l.render(i,!0,!0),Vt(t,u),l.render(0,!0,!0),l._enabled(!0),r=d.length;--r>-1;)if(o=tt(d[r],h[r],u[r]),o.firstMPT){o=o.difs;for(s in n)f[s]&&(o[s]=n[s]);a={};for(s in o)a[s]=h[r][s];c.push(e.fromTo(d[r],i,a,o))}return c},t.activate([a]),a},!0)}),n._gsDefine&&n._gsQueue.pop()(),function(i){"use strict";var r=function(){return(n.GreenSockGlobals||n)[i]};"function"==typeof define&&define.amd?define(["TweenLite"],r):"undefined"!=typeof e&&e.exports&&(t("../editor/TweenLite.js"),e.exports=r())}("CSSPlugin")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../editor/TweenLite.js":"TweenLite"}],2:[function(t,e,i){(function(){var t=this,n=t._,r={},o=Array.prototype,s=Object.prototype,a=Function.prototype,l=o.push,c=o.slice,h=o.concat,u=s.toString,d=s.hasOwnProperty,f=o.forEach,p=o.map,g=o.reduce,m=o.reduceRight,v=o.filter,y=o.every,w=o.some,_=o.indexOf,b=o.lastIndexOf,x=Array.isArray,C=Object.keys,T=a.bind,S=function(t){return t instanceof S?t:this instanceof S?void(this._wrapped=t):new S(t)};"undefined"!=typeof i?("undefined"!=typeof e&&e.exports&&(i=e.exports=S),i._=S):t._=S,S.VERSION="1.6.0";var E=S.each=S.forEach=function(t,e,i){if(null==t)return t;if(f&&t.forEach===f)t.forEach(e,i);else if(t.length===+t.length){for(var n=0,o=t.length;o>n;n++)if(e.call(i,t[n],n,t)===r)return}else for(var s=S.keys(t),n=0,o=s.length;o>n;n++)if(e.call(i,t[s[n]],s[n],t)===r)return;return t};S.map=S.collect=function(t,e,i){var n=[];return null==t?n:p&&t.map===p?t.map(e,i):(E(t,function(t,r,o){n.push(e.call(i,t,r,o))}),n)};var k="Reduce of empty array with no initial value";S.reduce=S.foldl=S.inject=function(t,e,i,n){var r=arguments.length>2;if(null==t&&(t=[]),g&&t.reduce===g)return n&&(e=S.bind(e,n)),r?t.reduce(e,i):t.reduce(e);if(E(t,function(t,o,s){r?i=e.call(n,i,t,o,s):(i=t,r=!0)}),!r)throw new TypeError(k);return i},S.reduceRight=S.foldr=function(t,e,i,n){var r=arguments.length>2;if(null==t&&(t=[]),m&&t.reduceRight===m)return n&&(e=S.bind(e,n)),r?t.reduceRight(e,i):t.reduceRight(e);var o=t.length;if(o!==+o){var s=S.keys(t);o=s.length}if(E(t,function(a,l,c){l=s?s[--o]:--o,r?i=e.call(n,i,t[l],l,c):(i=t[l],r=!0)}),!r)throw new TypeError(k);return i},S.find=S.detect=function(t,e,i){var n;return R(t,function(t,r,o){return e.call(i,t,r,o)?(n=t,!0):void 0}),n},S.filter=S.select=function(t,e,i){var n=[];return null==t?n:v&&t.filter===v?t.filter(e,i):(E(t,function(t,r,o){e.call(i,t,r,o)&&n.push(t)}),n)},S.reject=function(t,e,i){return S.filter(t,function(t,n,r){return!e.call(i,t,n,r)},i)},S.every=S.all=function(t,e,i){e||(e=S.identity);var n=!0;return null==t?n:y&&t.every===y?t.every(e,i):(E(t,function(t,o,s){return(n=n&&e.call(i,t,o,s))?void 0:r}),!!n)};var R=S.some=S.any=function(t,e,i){e||(e=S.identity);var n=!1;return null==t?n:w&&t.some===w?t.some(e,i):(E(t,function(t,o,s){return n||(n=e.call(i,t,o,s))?r:void 0}),!!n)};S.contains=S.include=function(t,e){return null==t?!1:_&&t.indexOf===_?-1!=t.indexOf(e):R(t,function(t){return t===e})},S.invoke=function(t,e){var i=c.call(arguments,2),n=S.isFunction(e);return S.map(t,function(t){return(n?e:t[e]).apply(t,i)})},S.pluck=function(t,e){return S.map(t,S.property(e))},S.where=function(t,e){return S.filter(t,S.matches(e))},S.findWhere=function(t,e){return S.find(t,S.matches(e))},S.max=function(t,e,i){if(!e&&S.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var n=-(1/0),r=-(1/0);return E(t,function(t,o,s){var a=e?e.call(i,t,o,s):t;a>r&&(n=t,r=a)}),n},S.min=function(t,e,i){if(!e&&S.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var n=1/0,r=1/0;return E(t,function(t,o,s){var a=e?e.call(i,t,o,s):t;r>a&&(n=t,r=a)}),n},S.shuffle=function(t){var e,i=0,n=[];return E(t,function(t){e=S.random(i++),n[i-1]=n[e],n[e]=t}),n},S.sample=function(t,e,i){return null==e||i?(t.length!==+t.length&&(t=S.values(t)),t[S.random(t.length-1)]):S.shuffle(t).slice(0,Math.max(0,e))};var P=function(t){return null==t?S.identity:S.isFunction(t)?t:S.property(t)};S.sortBy=function(t,e,i){return e=P(e),S.pluck(S.map(t,function(t,n,r){return{value:t,index:n,criteria:e.call(i,t,n,r)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return t.index-e.index}),"value")};var A=function(t){return function(e,i,n){var r={};return i=P(i),E(e,function(o,s){var a=i.call(n,o,s,e);t(r,a,o)}),r}};S.groupBy=A(function(t,e,i){S.has(t,e)?t[e].push(i):t[e]=[i]}),S.indexBy=A(function(t,e,i){t[e]=i}),S.countBy=A(function(t,e){S.has(t,e)?t[e]++:t[e]=1}),S.sortedIndex=function(t,e,i,n){i=P(i);for(var r=i.call(n,e),o=0,s=t.length;s>o;){var a=o+s>>>1;i.call(n,t[a])<r?o=a+1:s=a}return o},S.toArray=function(t){return t?S.isArray(t)?c.call(t):t.length===+t.length?S.map(t,S.identity):S.values(t):[]},S.size=function(t){return null==t?0:t.length===+t.length?t.length:S.keys(t).length},S.first=S.head=S.take=function(t,e,i){return null!=t?null==e||i?t[0]:0>e?[]:c.call(t,0,e):void 0},S.initial=function(t,e,i){return c.call(t,0,t.length-(null==e||i?1:e))},S.last=function(t,e,i){return null!=t?null==e||i?t[t.length-1]:c.call(t,Math.max(t.length-e,0)):void 0},S.rest=S.tail=S.drop=function(t,e,i){return c.call(t,null==e||i?1:e)},S.compact=function(t){return S.filter(t,S.identity)};var O=function(t,e,i){return e&&S.every(t,S.isArray)?h.apply(i,t):(E(t,function(t){S.isArray(t)||S.isArguments(t)?e?l.apply(i,t):O(t,e,i):i.push(t)}),i)};S.flatten=function(t,e){return O(t,e,[])},S.without=function(t){return S.difference(t,c.call(arguments,1))},S.partition=function(t,e){var i=[],n=[];return E(t,function(t){(e(t)?i:n).push(t)}),[i,n]},S.uniq=S.unique=function(t,e,i,n){S.isFunction(e)&&(n=i,i=e,e=!1);var r=i?S.map(t,i,n):t,o=[],s=[];return E(r,function(i,n){(e?n&&s[s.length-1]===i:S.contains(s,i))||(s.push(i),o.push(t[n]))}),o},S.union=function(){return S.uniq(S.flatten(arguments,!0))},S.intersection=function(t){var e=c.call(arguments,1);return S.filter(S.uniq(t),function(t){return S.every(e,function(e){return S.contains(e,t)})})},S.difference=function(t){var e=h.apply(o,c.call(arguments,1));return S.filter(t,function(t){return!S.contains(e,t)})},S.zip=function(){for(var t=S.max(S.pluck(arguments,"length").concat(0)),e=new Array(t),i=0;t>i;i++)e[i]=S.pluck(arguments,""+i);return e},S.object=function(t,e){if(null==t)return{};for(var i={},n=0,r=t.length;r>n;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},S.indexOf=function(t,e,i){if(null==t)return-1;var n=0,r=t.length;if(i){if("number"!=typeof i)return n=S.sortedIndex(t,e),t[n]===e?n:-1;n=0>i?Math.max(0,r+i):i}if(_&&t.indexOf===_)return t.indexOf(e,i);for(;r>n;n++)if(t[n]===e)return n;return-1},S.lastIndexOf=function(t,e,i){if(null==t)return-1;var n=null!=i;if(b&&t.lastIndexOf===b)return n?t.lastIndexOf(e,i):t.lastIndexOf(e);for(var r=n?i:t.length;r--;)if(t[r]===e)return r;return-1},S.range=function(t,e,i){arguments.length<=1&&(e=t||0,t=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((e-t)/i),0),r=0,o=new Array(n);n>r;)o[r++]=t,t+=i;return o};var N=function(){};S.bind=function(t,e){var i,n;if(T&&t.bind===T)return T.apply(t,c.call(arguments,1));if(!S.isFunction(t))throw new TypeError;return i=c.call(arguments,2),n=function(){if(!(this instanceof n))return t.apply(e,i.concat(c.call(arguments)));N.prototype=t.prototype;var r=new N;N.prototype=null;var o=t.apply(r,i.concat(c.call(arguments)));return Object(o)===o?o:r}},S.partial=function(t){var e=c.call(arguments,1);return function(){for(var i=0,n=e.slice(),r=0,o=n.length;o>r;r++)n[r]===S&&(n[r]=arguments[i++]);for(;i<arguments.length;)n.push(arguments[i++]);return t.apply(this,n)}},S.bindAll=function(t){var e=c.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return E(e,function(e){t[e]=S.bind(t[e],t)}),t},S.memoize=function(t,e){var i={};return e||(e=S.identity),function(){var n=e.apply(this,arguments);return S.has(i,n)?i[n]:i[n]=t.apply(this,arguments)}},S.delay=function(t,e){var i=c.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},S.defer=function(t){return S.delay.apply(S,[t,1].concat(c.call(arguments,1)))},S.throttle=function(t,e,i){var n,r,o,s=null,a=0;i||(i={});var l=function(){a=i.leading===!1?0:S.now(),s=null,o=t.apply(n,r),n=r=null};return function(){var c=S.now();a||i.leading!==!1||(a=c);var h=e-(c-a);return n=this,r=arguments,0>=h?(clearTimeout(s),s=null,a=c,o=t.apply(n,r),n=r=null):s||i.trailing===!1||(s=setTimeout(l,h)),o}},S.debounce=function(t,e,i){var n,r,o,s,a,l=function(){var c=S.now()-s;e>c?n=setTimeout(l,e-c):(n=null,i||(a=t.apply(o,r),o=r=null))};return function(){o=this,r=arguments,s=S.now();var c=i&&!n;return n||(n=setTimeout(l,e)),c&&(a=t.apply(o,r),o=r=null),a}},S.once=function(t){var e,i=!1;return function(){return i?e:(i=!0,e=t.apply(this,arguments),t=null,e)}},S.wrap=function(t,e){return S.partial(e,t)},S.compose=function(){var t=arguments;return function(){for(var e=arguments,i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},S.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},S.keys=function(t){if(!S.isObject(t))return[];if(C)return C(t);var e=[];for(var i in t)S.has(t,i)&&e.push(i);return e},S.values=function(t){for(var e=S.keys(t),i=e.length,n=new Array(i),r=0;i>r;r++)n[r]=t[e[r]];return n},S.pairs=function(t){for(var e=S.keys(t),i=e.length,n=new Array(i),r=0;i>r;r++)n[r]=[e[r],t[e[r]]];return n},S.invert=function(t){for(var e={},i=S.keys(t),n=0,r=i.length;r>n;n++)e[t[i[n]]]=i[n];return e},S.functions=S.methods=function(t){var e=[];for(var i in t)S.isFunction(t[i])&&e.push(i);return e.sort()},S.extend=function(t){return E(c.call(arguments,1),function(e){if(e)for(var i in e)t[i]=e[i]}),t},S.pick=function(t){var e={},i=h.apply(o,c.call(arguments,1));return E(i,function(i){i in t&&(e[i]=t[i])}),e},S.omit=function(t){var e={},i=h.apply(o,c.call(arguments,1));for(var n in t)S.contains(i,n)||(e[n]=t[n]);return e},S.defaults=function(t){return E(c.call(arguments,1),function(e){if(e)for(var i in e)void 0===t[i]&&(t[i]=e[i])}),t},S.clone=function(t){return S.isObject(t)?S.isArray(t)?t.slice():S.extend({},t):t},S.tap=function(t,e){return e(t),t};var D=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof S&&(t=t._wrapped),e instanceof S&&(e=e._wrapped);var r=u.call(t);if(r!=u.call(e))return!1;switch(r){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=i.length;o--;)if(i[o]==t)return n[o]==e;var s=t.constructor,a=e.constructor;if(s!==a&&!(S.isFunction(s)&&s instanceof s&&S.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1;i.push(t),n.push(e);var l=0,c=!0;if("[object Array]"==r){if(l=t.length,c=l==e.length)for(;l--&&(c=D(t[l],e[l],i,n)););}else{for(var h in t)if(S.has(t,h)&&(l++,!(c=S.has(e,h)&&D(t[h],e[h],i,n))))break;if(c){for(h in e)if(S.has(e,h)&&!l--)break;c=!l}}return i.pop(),n.pop(),c};S.isEqual=function(t,e){return D(t,e,[],[])},S.isEmpty=function(t){if(null==t)return!0;if(S.isArray(t)||S.isString(t))return 0===t.length;for(var e in t)if(S.has(t,e))return!1;return!0},S.isElement=function(t){return!(!t||1!==t.nodeType)},S.isArray=x||function(t){return"[object Array]"==u.call(t)},S.isObject=function(t){return t===Object(t)},E(["Arguments","Function","String","Number","Date","RegExp"],function(t){S["is"+t]=function(e){return u.call(e)=="[object "+t+"]"}}),S.isArguments(arguments)||(S.isArguments=function(t){return!(!t||!S.has(t,"callee"))}),"function"!=typeof/./&&(S.isFunction=function(t){return"function"==typeof t}),S.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},S.isNaN=function(t){return S.isNumber(t)&&t!=+t},S.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==u.call(t)},S.isNull=function(t){return null===t},S.isUndefined=function(t){return void 0===t},S.has=function(t,e){return d.call(t,e)},S.noConflict=function(){return t._=n,this},S.identity=function(t){return t},S.constant=function(t){return function(){return t}},S.property=function(t){return function(e){return e[t]}},S.matches=function(t){return function(e){if(e===t)return!0;for(var i in t)if(t[i]!==e[i])return!1;return!0}},S.times=function(t,e,i){for(var n=Array(Math.max(0,t)),r=0;t>r;r++)n[r]=e.call(i,r);return n},S.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},S.now=Date.now||function(){return(new Date).getTime()};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};M.unescape=S.invert(M.escape);var I={escape:new RegExp("["+S.keys(M.escape).join("")+"]","g"),unescape:new RegExp("("+S.keys(M.unescape).join("|")+")","g")};S.each(["escape","unescape"],function(t){S[t]=function(e){return null==e?"":(""+e).replace(I[t],function(e){return M[t][e]})}}),S.result=function(t,e){if(null!=t){var i=t[e];return S.isFunction(i)?i.call(t):i}},S.mixin=function(t){E(S.functions(t),function(e){var i=S[e]=t[e];S.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),B.call(this,i.apply(S,t))}})};var H=0;S.uniqueId=function(t){var e=++H+"";return t?t+e:e},S.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\t|\u2028|\u2029/g;S.template=function(t,e,i){var n;i=S.defaults({},i,S.templateSettings);var r=new RegExp([(i.escape||L).source,(i.interpolate||L).source,(i.evaluate||L).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(r,function(e,i,n,r,a){return s+=t.slice(o,a).replace(z,function(t){return"\\"+F[t]}),i&&(s+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(s+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),r&&(s+="';\n"+r+"\n__p+='"),o=a+e.length,e}),s+="';\n",i.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{n=new Function(i.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(e)return n(e,S);var l=function(t){return n.call(this,t,S)};return l.source="function("+(i.variable||"obj")+"){\n"+s+"}",l},S.chain=function(t){return S(t).chain()};var B=function(t){return this._chain?S(t).chain():t};S.mixin(S),E(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];S.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!=t&&"splice"!=t||0!==i.length||delete i[0],B.call(this,i)}}),E(["concat","join","slice"],function(t){var e=o[t];S.prototype[t]=function(){return B.call(this,e.apply(this._wrapped,arguments))}}),S.extend(S.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return S})}).call(this)},{}],Draggable:[function(t,e,i){(function(i){var n="undefined"!=typeof e&&e.exports&&"undefined"!=typeof i?i:this||window;(n._gsQueue||(n._gsQueue=[])).push(function(){"use strict";n._gsDefine("utils.Draggable",["events.EventDispatcher","TweenLite"],function(t,e){var i,r,o,s,a,l={css:{}},c={css:{}},h={css:{}},u={css:{}},d=n._gsDefine.globals,f={},p=document,g=p.documentElement||{},m=[],v=function(){return!1},y=180/Math.PI,w=999999999999999,_=Date.now||function(){return(new Date).getTime()},b=!(p.addEventListener||!p.all),x=p.createElement("div"),C=[],T={},S=0,E=/^(?:a|input|textarea|button|select)$/i,k=0,R=-1!==navigator.userAgent.toLowerCase().indexOf("android"),P=0,A={},O=function(t){if("string"==typeof t&&(t=e.selector(t)),!t||t.nodeType)return[t];var i,n=[],r=t.length;for(i=0;i!==r;n.push(t[i++]));return n},N=function(){for(var t=C.length;--t>-1;)C[t]()},D=function(t){C.push(t),1===C.length&&e.ticker.addEventListener("tick",N,this,!1,1)},M=function(t){for(var i=C.length;--i>-1;)C[i]===t&&C.splice(i,1);e.to(I,0,{overwrite:"all",delay:15,onComplete:I})},I=function(){C.length||e.ticker.removeEventListener("tick",N)},H=function(t,e){var i;for(i in e)void 0===t[i]&&(t[i]=e[i]);return t},L=function(){return null!=window.pageYOffset?window.pageYOffset:null!=p.scrollTop?p.scrollTop:g.scrollTop||p.body.scrollTop||0},F=function(){return null!=window.pageXOffset?window.pageXOffset:null!=p.scrollLeft?p.scrollLeft:g.scrollLeft||p.body.scrollLeft||0},z=function(t,e){Tt(t,"scroll",e),V(t.parentNode)||z(t.parentNode,e)},B=function(t,e){St(t,"scroll",e),V(t.parentNode)||B(t.parentNode,e)},V=function(t){return!(t&&t!==g&&t!==p&&t!==p.body&&t!==window&&t.nodeType&&t.parentNode)},W=function(t,e){var i="x"===e?"Width":"Height",n="scroll"+i,r="client"+i,o=p.body;return Math.max(0,V(t)?Math.max(g[n],o[n])-(window["inner"+i]||g[r]||o[r]):t[n]-t[r])},j=function(t){var e=V(t),i=W(t,"x"),n=W(t,"y");e?t=A:j(t.parentNode),t._gsMaxScrollX=i,t._gsMaxScrollY=n,t._gsScrollX=t.scrollLeft||0,t._gsScrollY=t.scrollTop||0},X=function(t,e){return t=t||window.event,f.pageX=t.clientX+p.body.scrollLeft+g.scrollLeft,f.pageY=t.clientY+p.body.scrollTop+g.scrollTop,e&&(t.returnValue=!1),f},U=function(t){return t?("string"==typeof t&&(t=e.selector(t)),t.length&&t!==window&&t[0]&&t[0].style&&!t.nodeType&&(t=t[0]),t===window||t.nodeType&&t.style?t:null):t},Y=function(t,e){var n,r,o,s=t.style;if(void 0===s[e]){for(o=["O","Moz","ms","Ms","Webkit"],r=5,n=e.charAt(0).toUpperCase()+e.substr(1);--r>-1&&void 0===s[o[r]+n];);if(0>r)return"";i=3===r?"ms":o[r],e=i+n}return e},q=function(t,e,i){var n=t.style;n&&(void 0===n[e]&&(e=Y(t,e)),null==i?n.removeProperty?n.removeProperty(e.replace(/([A-Z])/g,"-$1").toLowerCase()):n.removeAttribute(e):void 0!==n[e]&&(n[e]=i))},G=p.defaultView?p.defaultView.getComputedStyle:v,$=/(?:Left|Right|Width)/i,Q=/(?:\d|\-|\+|=|#|\.)*/g,K=function(t,e,i,n,r){if("px"===n||!n)return i;if("auto"===n||!i)return 0;var o,s=$.test(e),a=t,l=it.style,c=0>i;return c&&(i=-i),"%"===n&&-1!==e.indexOf("border")?o=i/100*(s?t.clientWidth:t.clientHeight):(l.cssText="border:0 solid red;position:"+J(t,"position",!0)+";line-height:0;","%"!==n&&a.appendChild?l[s?"borderLeftWidth":"borderTopWidth"]=i+n:(a=t.parentNode||p.body,l[s?"width":"height"]=i+n),a.appendChild(it),o=parseFloat(it[s?"offsetWidth":"offsetHeight"]),a.removeChild(it),0!==o||r||(o=K(t,e,i,n,!0))),c?-o:o},Z=function(t,e){if("absolute"!==J(t,"position",!0))return 0;var i="left"===e?"Left":"Top",n=J(t,"margin"+i,!0);return t["offset"+i]-(K(t,e,parseFloat(n),(n+"").replace(Q,""))||0)},J=function(t,e,i){var n,r=(t._gsTransform||{})[e];return r||0===r?r:(t.style[e]?r=t.style[e]:(n=G(t))?(r=n.getPropertyValue(e.replace(/([A-Z])/g,"-$1").toLowerCase()),r=r||n.length?r:n[e]):t.currentStyle&&(r=t.currentStyle[e]),"auto"!==r||"top"!==e&&"left"!==e||(r=Z(t,e)),i?r:parseFloat(r)||0)},tt=function(t,e,i){var n=t.vars,r=n[i],o=t._listeners[e];"function"==typeof r&&r.apply(n[i+"Scope"]||t,n[i+"Params"]||[t.pointerEvent]),o&&t.dispatchEvent(e)},et=function(t,e){var i,n,r,o=U(t);return o?wt(o,e):void 0!==t.left?(r=pt(e),{left:t.left-r.x,top:t.top-r.y,width:t.width,height:t.height}):(n=t.min||t.minX||t.minRotation||0,i=t.min||t.minY||0,{left:n,top:i,width:(t.max||t.maxX||t.maxRotation||0)-n,height:(t.max||t.maxY||0)-i})},it=p.createElement("div"),nt=""!==Y(it,"perspective"),rt=Y(it,"transformOrigin").replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),ot=Y(it,"transform"),st=ot.replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),at={},lt={},ct=function(){if(!b){var t="http://www.w3.org/2000/svg",e=p.createElementNS(t,"svg"),i=p.createElementNS(t,"rect");return i.setAttributeNS(null,"width","10"),i.setAttributeNS(null,"height","10"),e.appendChild(i),e}}(),ht=window.SVGElement,ut=function(t){return!!(ht&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},dt=["class","viewBox","width","height","xml:space"],ft=function(t){if(!t.getBoundingClientRect||!t.parentNode)return{offsetTop:0,offsetLeft:0,scaleX:1,scaleY:1,offsetParent:g};if(t._gsSVGData&&t._gsSVGData.lastUpdate===e.ticker.frame)return t._gsSVGData;var i,n,r,o,s,a,l=t,c=t.style.cssText,h=t._gsSVGData=t._gsSVGData||{};if("svg"!==(t.nodeName+"").toLowerCase()&&t.getBBox){for(l=t.parentNode,i=t.getBBox();l&&"svg"!==(l.nodeName+"").toLowerCase();)l=l.parentNode;return h=ft(l),{offsetTop:i.y*h.scaleY,offsetLeft:i.x*h.scaleX,scaleX:h.scaleX,scaleY:h.scaleY,offsetParent:l||g}}for(;!l.offsetParent&&l.parentNode;)l=l.parentNode;for(t.parentNode.insertBefore(ct,t),t.parentNode.removeChild(t),ct.style.cssText=c,ct.style[ot]="none",s=dt.length;--s>-1;)a=t.getAttribute(dt[s]),a?ct.setAttribute(dt[s],a):ct.removeAttribute(dt[s]);return i=ct.getBoundingClientRect(),o=ct.firstChild.getBoundingClientRect(),r=l.offsetParent,r?(r===p.body&&g&&(r=g),n=r.getBoundingClientRect()):n={top:-L(),left:-F()},ct.parentNode.insertBefore(t,ct),t.parentNode.removeChild(ct),h.scaleX=o.width/10,h.scaleY=o.height/10,h.offsetLeft=i.left-n.left,h.offsetTop=i.top-n.top,h.offsetParent=l.offsetParent||g,h.lastUpdate=e.ticker.frame,h},pt=function(t,i){if(i=i||{},!t||t===g||!t.parentNode)return{x:0,y:0};var n=G(t),r=rt&&n?n.getPropertyValue(rt):"50% 50%",o=r.split(" "),s=-1!==r.indexOf("left")?"0%":-1!==r.indexOf("right")?"100%":o[0],a=-1!==r.indexOf("top")?"0%":-1!==r.indexOf("bottom")?"100%":o[1];return"center"!==a&&null!=a||(a="50%"),("center"===s||isNaN(parseFloat(s)))&&(s="50%"),t.getBBox&&ut(t)?(t._gsTransform||(e.set(t,{x:"+=0",overwrite:!1}),void 0===t._gsTransform.xOrigin&&console.log("Draggable requires at least GSAP 1.16.1")),r=t.getBBox(),o=ft(t),i.x=(t._gsTransform.xOrigin-r.x)*o.scaleX,i.y=(t._gsTransform.yOrigin-r.y)*o.scaleY):(i.x=-1!==s.indexOf("%")?t.offsetWidth*parseFloat(s)/100:parseFloat(s),i.y=-1!==a.indexOf("%")?t.offsetHeight*parseFloat(a)/100:parseFloat(a)),i},gt=function(t,e,i){var n,r,o,a,l,c;return t!==window&&t&&t.parentNode?(n=G(t),r=n?n.getPropertyValue(st):t.currentStyle?t.currentStyle[ot]:"1,0,0,1,0,0",r=(r+"").match(/(?:\-|\b)[\d\-\.e]+\b/g)||[1,0,0,1,0,0],r.length>6&&(r=[r[0],r[1],r[4],r[5],r[12],r[13]]),e&&(o=t.parentNode,c=t.getBBox&&ut(t)||void 0===t.offsetLeft&&"svg"===(t.nodeName+"").toLowerCase()?ft(t):t,a=c.offsetParent,l=o===g||o===p.body,void 0===s&&p.body&&ot&&(s=function(){var t,e,i=p.createElement("div"),n=p.createElement("div");return n.style.position="absolute",p.body.appendChild(i),i.appendChild(n),t=n.offsetParent,i.style[ot]="rotate(1deg)",e=n.offsetParent===t,p.body.removeChild(i),e}()),r[4]=Number(r[4])+e.x+(c.offsetLeft||0)-i.x-(l?0:o.scrollLeft)+(a?parseInt(J(a,"borderLeftWidth"),10)||0:0),r[5]=Number(r[5])+e.y+(c.offsetTop||0)-i.y-(l?0:o.scrollTop)+(a?parseInt(J(a,"borderTopWidth"),10)||0:0),!o||o.offsetParent!==a||s&&"100100"!==gt(o).join("")||(r[4]-=o.offsetLeft||0,r[5]-=o.offsetTop||0),o&&"fixed"===J(t,"position",!0)&&(r[4]+=F(),r[5]+=L())),r):[1,0,0,1,0,0]},mt=function(t,e){if(!t||t===window||!t.parentNode)return[1,0,0,1,0,0];for(var i,n,r,o,s,a,l,c,h=pt(t,at),u=pt(t.parentNode,lt),d=gt(t,h,u);(t=t.parentNode)&&t.parentNode&&t!==g;)h=u,u=pt(t.parentNode,h===at?lt:at),l=gt(t,h,u),i=d[0],n=d[1],r=d[2],o=d[3],s=d[4],a=d[5],d[0]=i*l[0]+n*l[2],d[1]=i*l[1]+n*l[3],d[2]=r*l[0]+o*l[2],d[3]=r*l[1]+o*l[3],d[4]=s*l[0]+a*l[2]+l[4],d[5]=s*l[1]+a*l[3]+l[5];return e&&(i=d[0],n=d[1],r=d[2],o=d[3],s=d[4],a=d[5],c=i*o-n*r,d[0]=o/c,d[1]=-n/c,d[2]=-r/c,d[3]=i/c,d[4]=(r*a-o*s)/c,d[5]=-(i*a-n*s)/c),d},vt=function(t,e,i){var n=mt(t),r=e.x,o=e.y;return i=i===!0?e:i||{},i.x=r*n[0]+o*n[2]+n[4],i.y=r*n[1]+o*n[3]+n[5],i},yt=function(t,e,i){var n=t.x*e[0]+t.y*e[2]+e[4],r=t.x*e[1]+t.y*e[3]+e[5];return t.x=n*i[0]+r*i[2]+i[4],t.y=n*i[1]+r*i[3]+i[5],t},wt=function(t,e){var i,n,r,o,s,a,l,c,h,u,d;return t===window?(o=L(),n=F(),r=n+(g.clientWidth||t.innerWidth||p.body.clientWidth||0),s=o+((t.innerHeight||0)-20<g.clientHeight?g.clientHeight:t.innerHeight||p.body.clientHeight||0)):(i=pt(t),n=-i.x,r=n+t.offsetWidth,o=-i.y,s=o+t.offsetHeight),t===e?{left:n,top:o,width:r-n,height:s-o}:(a=mt(t),l=mt(e,!0),c=yt({x:n,y:o},a,l),h=yt({x:r,y:o},a,l),u=yt({x:r,y:s},a,l),d=yt({x:n,y:s},a,l),n=Math.min(c.x,h.x,u.x,d.x),o=Math.min(c.y,h.y,u.y,d.y),{left:n,top:o,width:Math.max(c.x,h.x,u.x,d.x)-n,height:Math.max(c.y,h.y,u.y,d.y)-o})},_t=function(t){return!!(t.length&&t[0]&&(t[0].nodeType&&t[0].style&&!t.nodeType||t[0].length&&t[0][0]))},bt=function(t){var e,i,n,r=[],o=t.length;for(e=0;o>e;e++)if(i=t[e],_t(i))for(n=i.length,n=0;n<i.length;n++)r.push(i[n]);else r.push(i);return r},xt="ontouchstart"in g&&"orientation"in window,Ct=function(t){for(var e=t.split(","),i=(void 0!==it.onpointerdown?"pointerdown,pointermove,pointerup,pointercancel":void 0!==it.onmspointerdown?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":t).split(","),n={},r=8;--r>-1;)n[e[r]]=i[r],n[i[r]]=e[r];return n}("touchstart,touchmove,touchend,touchcancel"),Tt=function(t,e,i,n){t.addEventListener?t.addEventListener(Ct[e]||e,i,n):t.attachEvent&&t.attachEvent("on"+e,i)},St=function(t,e,i){t.removeEventListener?t.removeEventListener(Ct[e]||e,i):t.detachEvent&&t.detachEvent("on"+e,i)},Et=function(t){r=t.touches&&k<t.touches.length,St(t.target,"touchend",Et)},kt=function(t){r=t.touches&&k<t.touches.length,Tt(t.target,"touchend",Et)},Rt=function(t,e,i,n,r,o){var s,a,l,c={};if(e)if(1!==r&&e instanceof Array){for(c.end=s=[],l=e.length,a=0;l>a;a++)s[a]=e[a]*r;i+=1.1,n-=1.1}else"function"==typeof e?c.end=function(i){return e.call(t,i)*r}:c.end=e;return(i||0===i)&&(c.max=i),(n||0===n)&&(c.min=n),o&&(c.velocity=0),c},Pt=function(t){var e;return t&&t.getAttribute&&"BODY"!==t.nodeName?"true"===(e=t.getAttribute("data-clickable"))||"false"!==e&&(t.onclick||E.test(t.nodeName+"")||"true"===t.getAttribute("contentEditable"))?!0:Pt(t.parentNode):!1},At=function(t,e){for(var i,n=t.length;--n>-1;)i=t[n],i.ondragstart=i.onselectstart=e?null:v,q(i,"userSelect",e?"text":"none")},Ot=function(){var t,e=p.createElement("div"),i=p.createElement("div"),n=i.style,r=p.body||it;return n.display="inline-block",n.position="relative",e.style.cssText=i.innerHTML="width:90px; height:40px; padding:10px; overflow:auto; visibility: hidden",e.appendChild(i),r.appendChild(e),a=i.offsetHeight+18>e.scrollHeight,n.width="100%",ot||(n.paddingRight="500px",t=e.scrollLeft=e.scrollWidth-e.clientWidth,n.left="-90px",t=t!==e.scrollLeft),r.removeChild(e),t}(),Nt=function(t,i){t=U(t),i=i||{};var n,r,o,s,l,c,h=p.createElement("div"),u=h.style,d=t.firstChild,f=0,g=0,m=t.scrollTop,v=t.scrollLeft,y=t.scrollWidth,w=t.scrollHeight,_=0,x=0,C=0;nt&&i.force3D!==!1?(l="translate3d(",c="px,0px)"):ot&&(l="translate(",c="px)"),this.scrollTop=function(t,e){return arguments.length?void this.top(-t,e):-this.top()},this.scrollLeft=function(t,e){return arguments.length?void this.left(-t,e):-this.left()},this.left=function(n,r){if(!arguments.length)return-(t.scrollLeft+g);var o=t.scrollLeft-v,s=g;return(o>2||-2>o)&&!r?(v=t.scrollLeft,e.killTweensOf(this,!0,{left:1,scrollLeft:1}),this.left(-v),void(i.onKill&&i.onKill())):(n=-n,0>n?(g=n-.5|0,n=0):n>x?(g=n-x|0,n=x):g=0,(g||s)&&(l?this._suspendTransforms||(u[ot]=l+-g+"px,"+-f+c):u.left=-g+"px",Ot&&g+_>=0&&(u.paddingRight=g+_+"px")),t.scrollLeft=0|n,void(v=t.scrollLeft))},this.top=function(n,r){if(!arguments.length)return-(t.scrollTop+f);var o=t.scrollTop-m,s=f;return(o>2||-2>o)&&!r?(m=t.scrollTop,e.killTweensOf(this,!0,{top:1,scrollTop:1}),this.top(-m),void(i.onKill&&i.onKill())):(n=-n,0>n?(f=n-.5|0,n=0):n>C?(f=n-C|0,n=C):f=0,(f||s)&&(l?this._suspendTransforms||(u[ot]=l+-g+"px,"+-f+c):u.top=-f+"px"),t.scrollTop=0|n,void(m=t.scrollTop))},this.maxScrollTop=function(){return C},this.maxScrollLeft=function(){return x},this.disable=function(){for(d=h.firstChild;d;)s=d.nextSibling,t.appendChild(d),d=s;t===h.parentNode&&t.removeChild(h)},this.enable=function(){if(d=t.firstChild,d!==h){for(;d;)s=d.nextSibling,h.appendChild(d),d=s;t.appendChild(h),this.calibrate()}},this.calibrate=function(e){var i,s,l=t.clientWidth===n;m=t.scrollTop,v=t.scrollLeft,l&&t.clientHeight===r&&h.offsetHeight===o&&y===t.scrollWidth&&w===t.scrollHeight&&!e||((f||g)&&(i=this.left(),s=this.top(),this.left(-t.scrollLeft),this.top(-t.scrollTop)),
l&&!e||(u.display="block",u.width="auto",u.paddingRight="0px",_=Math.max(0,t.scrollWidth-t.clientWidth),_&&(_+=J(t,"paddingLeft")+(a?J(t,"paddingRight"):0))),u.display="inline-block",u.position="relative",u.overflow="visible",u.verticalAlign="top",u.width="100%",u.paddingRight=_+"px",a&&(u.paddingBottom=J(t,"paddingBottom",!0)),b&&(u.zoom="1"),n=t.clientWidth,r=t.clientHeight,y=t.scrollWidth,w=t.scrollHeight,x=t.scrollWidth-n,C=t.scrollHeight-r,o=h.offsetHeight,u.display="block",(i||s)&&(this.left(i),this.top(s)))},this.content=h,this.element=t,this._suspendTransforms=!1,this.enable()},Dt=function(i,n){t.call(this,i),i=U(i),o||(o=d.com.greensock.plugins.ThrowPropsPlugin),this.vars=n=n||{},this.target=i,this.x=this.y=this.rotation=0,this.dragResistance=parseFloat(n.dragResistance)||0,this.edgeResistance=isNaN(n.edgeResistance)?1:parseFloat(n.edgeResistance)||0,this.lockAxis=n.lockAxis,this.autoScroll=n.autoScroll||0,this.lockedAxis=null,this.allowEventDefault=!!n.allowEventDefault;var s,a,f,v,C,E,N,I,L,F,W,Y,G,$,Q,K,Z,it,nt,rt,ot,st,at,lt,ct,ht,ut,dt,ft,pt,gt,yt=(n.type||(b?"top,left":"x,y")).toLowerCase(),wt=-1!==yt.indexOf("x")||-1!==yt.indexOf("y"),_t=-1!==yt.indexOf("rotation"),bt=_t?"rotation":wt?"x":"left",Et=wt?"y":"top",Ot=-1!==yt.indexOf("x")||-1!==yt.indexOf("left")||"scroll"===yt,Mt=-1!==yt.indexOf("y")||-1!==yt.indexOf("top")||"scroll"===yt,Ht=n.minimumMovement||2,Lt=this,Ft=O(n.trigger||n.handle||i),zt={},Bt=0,Vt=!1,Wt=n.clickableTest||Pt,jt=function(t){if(Lt.autoScroll&&Lt.isDragging&&(it||Vt)){var e,n,r,o,s,l,c,h,u=i,d=15*Lt.autoScroll;for(Vt=!1,A.scrollTop=null!=window.pageYOffset?window.pageYOffset:null!=g.scrollTop?g.scrollTop:p.body.scrollTop,A.scrollLeft=null!=window.pageXOffset?window.pageXOffset:null!=g.scrollLeft?g.scrollLeft:p.body.scrollLeft,o=Lt.pointerX-A.scrollLeft,s=Lt.pointerY-A.scrollTop;u&&!n;)n=V(u.parentNode),e=n?A:u.parentNode,r=n?{bottom:Math.max(g.clientHeight,window.innerHeight||0),right:Math.max(g.clientWidth,window.innerWidth||0),left:0,top:0}:e.getBoundingClientRect(),l=c=0,Mt&&(s>r.bottom-40&&(h=e._gsMaxScrollY-e.scrollTop)?(Vt=!0,c=Math.min(h,d*(1-Math.max(0,r.bottom-s)/40)|0)):s<r.top+40&&e.scrollTop&&(Vt=!0,c=-Math.min(e.scrollTop,d*(1-Math.max(0,s-r.top)/40)|0)),c&&(e.scrollTop+=c)),Ot&&(o>r.right-40&&(h=e._gsMaxScrollX-e.scrollLeft)?(Vt=!0,l=Math.min(h,d*(1-Math.max(0,r.right-o)/40)|0)):o<r.left+40&&e.scrollLeft&&(Vt=!0,l=-Math.min(e.scrollLeft,d*(1-Math.max(0,o-r.left)/40)|0)),l&&(e.scrollLeft+=l)),n&&(l||c)&&(window.scrollTo(e.scrollLeft,e.scrollTop),Jt(Lt.pointerX+l,Lt.pointerY+c)),u=e}if(it){var f=Lt.x,m=Lt.y,v=1e-6;v>f&&f>-v&&(f=0),v>m&&m>-v&&(m=0),_t?(ft.data.rotation=Lt.rotation=f,ft.setRatio(1)):a?(Mt&&a.top(m),Ot&&a.left(f)):wt?(Mt&&(ft.data.y=m),Ot&&(ft.data.x=f),ft.setRatio(1)):(Mt&&(i.style.top=m+"px"),Ot&&(i.style.left=f+"px")),I&&!t&&tt(Lt,"drag","onDrag")}it=!1},Xt=function(t,r){var o;i._gsTransform||!wt&&!_t||e.set(i,{x:"+=0",overwrite:!1}),wt?(Lt.y=i._gsTransform.y,Lt.x=i._gsTransform.x):_t?Lt.x=Lt.rotation=i._gsTransform.rotation:a?(Lt.y=a.top(),Lt.x=a.left()):(Lt.y=parseInt(i.style.top,10)||0,Lt.x=parseInt(i.style.left,10)||0),!rt&&!ot||r||(rt&&(o=rt(Lt.x),o!==Lt.x&&(Lt.x=o,_t&&(Lt.rotation=o),it=!0)),ot&&(o=ot(Lt.y),o!==Lt.y&&(Lt.y=o,it=!0)),it&&jt(!0)),n.onThrowUpdate&&!t&&n.onThrowUpdate.apply(n.onThrowUpdateScope||Lt,n.onThrowUpdateParams||m)},Ut=function(){var t,e,r,o;N=!1,a?(a.calibrate(),Lt.minX=F=-a.maxScrollLeft(),Lt.minY=Y=-a.maxScrollTop(),Lt.maxX=L=Lt.maxY=W=0,N=!0):n.bounds&&(t=et(n.bounds,i.parentNode),_t?(Lt.minX=F=t.left,Lt.maxX=L=t.left+t.width,Lt.minY=Y=Lt.maxY=W=0):void 0!==n.bounds.maxX||void 0!==n.bounds.maxY?(t=n.bounds,Lt.minX=F=t.minX,Lt.minY=Y=t.minY,Lt.maxX=L=t.maxX,Lt.maxY=W=t.maxY):(e=et(i,i.parentNode),Lt.minX=F=J(i,bt)+t.left-e.left,Lt.minY=Y=J(i,Et)+t.top-e.top,Lt.maxX=L=F+(t.width-e.width),Lt.maxY=W=Y+(t.height-e.height)),F>L&&(Lt.minX=L,Lt.maxX=L=F,F=Lt.minX),Y>W&&(Lt.minY=W,Lt.maxY=W=Y,Y=Lt.minY),_t&&(Lt.minRotation=F,Lt.maxRotation=L),N=!0),n.liveSnap&&(r=n.liveSnap===!0?n.snap||{}:n.liveSnap,o=r instanceof Array||"function"==typeof r,_t?(rt=Qt(o?r:r.rotation,F,L,1),ot=null):(Ot&&(rt=Qt(o?r:r.x||r.left||r.scrollLeft,F,L,a?-1:1)),Mt&&(ot=Qt(o?r:r.y||r.top||r.scrollTop,Y,W,a?-1:1))))},Yt=function(t,e){var r,s,l;t&&o?(t===!0&&(r=n.snap||{},s=r instanceof Array||"function"==typeof r,t={resistance:(n.throwResistance||n.resistance||1e3)/(_t?10:1)},_t?t.rotation=Rt(Lt,s?r:r.rotation,L,F,1,e):(Ot&&(t[bt]=Rt(Lt,s?r:r.x||r.left||r.scrollLeft,L,F,a?-1:1,e||"x"===Lt.lockedAxis)),Mt&&(t[Et]=Rt(Lt,s?r:r.y||r.top||r.scrollTop,W,Y,a?-1:1,e||"y"===Lt.lockedAxis)))),Lt.tween=l=o.to(a||i,{throwProps:t,ease:n.ease||d.Power3.easeOut,onComplete:n.onThrowComplete,onCompleteParams:n.onThrowCompleteParams,onCompleteScope:n.onThrowCompleteScope||Lt,onUpdate:n.fastMode?n.onThrowUpdate:Xt,onUpdateParams:n.fastMode?n.onThrowUpdateParams:null,onUpdateScope:n.onThrowUpdateScope||Lt},isNaN(n.maxDuration)?2:n.maxDuration,isNaN(n.minDuration)?.5:n.minDuration,isNaN(n.overshootTolerance)?1-Lt.edgeResistance+.2:n.overshootTolerance),n.fastMode||(a&&(a._suspendTransforms=!0),l.render(l.duration(),!0,!0),Xt(!0,!0),Lt.endX=Lt.x,Lt.endY=Lt.y,_t&&(Lt.endRotation=Lt.x),l.play(0),Xt(!0,!0),a&&(a._suspendTransforms=!1))):N&&Lt.applyBounds()},qt=function(){lt=mt(i.parentNode,!0),lt[1]||lt[2]||1!=lt[0]||1!=lt[3]||0!=lt[4]||0!=lt[5]||(lt=null)},Gt=function(){var t=1-Lt.edgeResistance;qt(),a?(Ut(),E=a.top(),C=a.left()):($t()?(Xt(!0,!0),Ut()):Lt.applyBounds(),_t?(Z=vt(i,{x:0,y:0}),Xt(!0,!0),C=Lt.x,E=Lt.y=Math.atan2(Z.y-v,f-Z.x)*y):(ut=i.parentNode?i.parentNode.scrollTop||0:0,dt=i.parentNode?i.parentNode.scrollLeft||0:0,E=J(i,Et),C=J(i,bt))),N&&t&&(C>L?C=L+(C-L)/t:F>C&&(C=F-(F-C)/t),_t||(E>W?E=W+(E-W)/t:Y>E&&(E=Y-(Y-E)/t)))},$t=function(){return Lt.tween&&Lt.tween.isActive()},Qt=function(t,e,i,n){return"function"==typeof t?function(r){var o=Lt.isPressed?1-Lt.edgeResistance:1;return t.call(Lt,r>i?i+(r-i)*o:e>r?e+(r-e)*o:r)*n}:t instanceof Array?function(n){for(var r,o,s=t.length,a=0,l=w;--s>-1;)r=t[s],o=r-n,0>o&&(o=-o),l>o&&r>=e&&i>=r&&(a=s,l=o);return t[a]}:isNaN(t)?function(t){return t}:function(){return t*n}},Kt=function(t){var r,o;if(s&&!Lt.isPressed&&t&&!("mousedown"===t.type&&_()-ht<30&&Ct[Lt.pointerEvent.type])){if(ct=$t(),Lt.pointerEvent=t,Ct[t.type]?(at=-1!==t.type.indexOf("touch")?t.currentTarget:p,Tt(at,"touchend",te),Tt(at,"touchmove",Zt),Tt(at,"touchcancel",te),Tt(p,"touchstart",kt)):(at=null,Tt(p,"mousemove",Zt)),gt=null,Tt(p,"mouseup",te),t&&t.target&&Tt(t.target,"mouseup",te),st=Wt.call(Lt,t.target)&&!n.dragClickables)return Tt(t.target,"change",te),tt(Lt,"press","onPress"),void At(Ft,!0);if(pt=!at||Ot===Mt||a||Lt.vars.allowNativeTouchScrolling===!1?!1:Ot?"y":"x",b?t=X(t,!0):pt||Lt.allowEventDefault||(t.preventDefault(),t.preventManipulation&&t.preventManipulation()),t.changedTouches?(t=Q=t.changedTouches[0],K=t.identifier):t.pointerId?K=t.pointerId:Q=null,k++,D(jt),v=Lt.pointerY=t.pageY,f=Lt.pointerX=t.pageX,(pt||Lt.autoScroll)&&j(i.parentNode),!Lt.autoScroll||_t||a||!i.parentNode||i.getBBox||!i.parentNode._gsMaxScrollX||x.parentNode||(x.style.width=i.parentNode.scrollWidth+"px",i.parentNode.appendChild(x)),Gt(),lt&&(r=f*lt[0]+v*lt[2]+lt[4],v=f*lt[1]+v*lt[3]+lt[5],f=r),Lt.tween&&Lt.tween.kill(),e.killTweensOf(a||i,!0,zt),a&&e.killTweensOf(i,!0,{scrollTo:1}),Lt.tween=Lt.lockedAxis=null,(n.zIndexBoost||!_t&&!a&&n.zIndexBoost!==!1)&&(i.style.zIndex=Dt.zIndex++),Lt.isPressed=!0,I=!(!n.onDrag&&!Lt._listeners.drag),!_t)for(o=Ft.length;--o>-1;)q(Ft[o],"cursor",n.cursor||"move");tt(Lt,"press","onPress")}},Zt=function(t){var e,i,n,o,a=t;if(s&&!r&&Lt.isPressed&&t){if(Lt.pointerEvent=t,e=t.changedTouches){if(t=e[0],t!==Q&&t.identifier!==K){for(o=e.length;--o>-1&&(t=e[o]).identifier!==K;);if(0>o)return}}else if(t.pointerId&&K&&t.pointerId!==K)return;if(b)t=X(t,!0);else{if(at&&pt&&!gt&&(i=t.pageX,n=t.pageY,lt&&(o=i*lt[0]+n*lt[2]+lt[4],n=i*lt[1]+n*lt[3]+lt[5],i=o),gt=Math.abs(i-f)>Math.abs(n-v)&&Ot?"x":"y",Lt.vars.lockAxisOnTouchScroll!==!1&&(Lt.lockedAxis="x"===gt?"y":"x","function"==typeof Lt.vars.onLockAxis&&Lt.vars.onLockAxis.call(Lt,a)),R&&pt===gt))return void te(a);Lt.allowEventDefault||pt&&(!gt||pt===gt)||a.cancelable===!1||(a.preventDefault(),a.preventManipulation&&a.preventManipulation())}Lt.autoScroll&&(Vt=!0),Jt(t.pageX,t.pageY)}},Jt=function(t,e){var i,n,r,o,s,a,l=1-Lt.dragResistance,c=1-Lt.edgeResistance;Lt.pointerX=t,Lt.pointerY=e,_t?(o=Math.atan2(Z.y-e,t-Z.x)*y,s=Lt.y-o,Lt.y=o,s>180?E-=360:-180>s&&(E+=360),r=C+(E-o)*l):(lt&&(a=t*lt[0]+e*lt[2]+lt[4],e=t*lt[1]+e*lt[3]+lt[5],t=a),n=e-v,i=t-f,Ht>n&&n>-Ht&&(n=0),Ht>i&&i>-Ht&&(i=0),(Lt.lockAxis||Lt.lockedAxis)&&(i||n)&&(a=Lt.lockedAxis,a||(Lt.lockedAxis=a=Ot&&Math.abs(i)>Math.abs(n)?"y":Mt?"x":null,a&&"function"==typeof Lt.vars.onLockAxis&&Lt.vars.onLockAxis.call(Lt,Lt.pointerEvent)),"y"===a?n=0:"x"===a&&(i=0)),r=C+i*l,o=E+n*l),rt||ot?(rt&&(r=rt(r)),ot&&(o=ot(o))):N&&(r>L?r=L+(r-L)*c:F>r&&(r=F+(r-F)*c),_t||(o>W?o=W+(o-W)*c:Y>o&&(o=Y+(o-Y)*c))),_t||(r=Math.round(r),o=Math.round(o)),(Lt.x!==r||Lt.y!==o&&!_t)&&(Lt.x=Lt.endX=r,_t?Lt.endRotation=r:Lt.y=Lt.endY=o,it=!0,Lt.isDragging||(Lt.isDragging=!0,tt(Lt,"dragstart","onDragStart")))},te=function(t,e){if(s&&Lt.isPressed&&(!t||!K||e||!t.pointerId||t.pointerId===K)){Lt.isPressed=!1;var r,o,a,l,c=t,h=Lt.isDragging;if(at?(St(at,"touchend",te),St(at,"touchmove",Zt),St(at,"touchcancel",te),St(p,"touchstart",kt)):St(p,"mousemove",Zt),St(p,"mouseup",te),t&&t.target&&St(t.target,"mouseup",te),it=!1,x.parentNode&&x.parentNode.removeChild(x),st)return t&&St(t.target,"change",te),At(Ft,!1),tt(Lt,"release","onRelease"),tt(Lt,"click","onClick"),void(st=!1);if(M(jt),!_t)for(o=Ft.length;--o>-1;)q(Ft[o],"cursor",n.cursor||"move");if(h&&(Bt=P=_(),Lt.isDragging=!1),k--,t){if(b&&(t=X(t,!1)),r=t.changedTouches,r&&(t=r[0],t!==Q&&t.identifier!==K)){for(o=r.length;--o>-1&&(t=r[o]).identifier!==K;);if(0>o)return}Lt.pointerEvent=c,Lt.pointerX=t.pageX,Lt.pointerY=t.pageY}return c&&!h?(ct&&(n.snap||n.bounds)&&Yt(n.throwProps),tt(Lt,"release","onRelease"),R&&"touchmove"===c.type||(tt(Lt,"click","onClick"),l=c.target||c.srcElement||i,l.click?l.click():p.createEvent&&(a=p.createEvent("MouseEvents"),a.initEvent("click",!0,!0),l.dispatchEvent(a)),ht=_())):(Yt(n.throwProps),b||Lt.allowEventDefault||!c||!n.dragClickables&&Wt.call(Lt,c.target)||!h||pt&&(!gt||pt!==gt)||c.cancelable===!1||(c.preventDefault(),c.preventManipulation&&c.preventManipulation()),tt(Lt,"release","onRelease")),h&&tt(Lt,"dragend","onDragEnd"),!0}},ee=function(t){if(t&&Lt.isDragging){var e=t.target||t.srcElement||i.parentNode,n=e.scrollLeft-e._gsScrollX,r=e.scrollTop-e._gsScrollY;(n||r)&&(f-=n,v-=r,e._gsScrollX+=n,e._gsScrollY+=r,Jt(Lt.pointerX,Lt.pointerY))}},ie=function(t){var e=_(),i=40>e-ht,n=40>e-Bt;(Lt.isPressed||n||i)&&(t.preventDefault?(t.preventDefault(),(i||n&&Lt.vars.suppressClickOnDrag!==!1)&&t.stopImmediatePropagation()):t.returnValue=!1,t.preventManipulation&&t.preventManipulation())};nt=Dt.get(this.target),nt&&nt.kill(),this.startDrag=function(t){Kt(t),Lt.isDragging||(Lt.isDragging=!0,tt(Lt,"dragstart","onDragStart"))},this.drag=Zt,this.endDrag=function(t){te(t,!0)},this.timeSinceDrag=function(){return Lt.isDragging?0:(_()-Bt)/1e3},this.hitTest=function(t,e){return Dt.hitTest(Lt.target,t,e)},this.getDirection=function(t,e){var i,n,r,s,a,l,c="velocity"===t&&o?t:"object"!=typeof t||_t?"start":"element";return"element"===c&&(a=It(Lt.target),l=It(t)),i="start"===c?Lt.x-C:"velocity"===c?o.getVelocity(this.target,bt):a.left+a.width/2-(l.left+l.width/2),_t?0>i?"counter-clockwise":"clockwise":(e=e||2,n="start"===c?Lt.y-E:"velocity"===c?o.getVelocity(this.target,Et):a.top+a.height/2-(l.top+l.height/2),r=Math.abs(i/n),s=1/e>r?"":0>i?"left":"right",e>r&&(""!==s&&(s+="-"),s+=0>n?"up":"down"),s)},this.applyBounds=function(t){var e,i;return t&&n.bounds!==t?(n.bounds=t,Lt.update(!0)):(Xt(!0),Ut(),N&&(e=Lt.x,i=Lt.y,N&&(e>L?e=L:F>e&&(e=F),i>W?i=W:Y>i&&(i=Y)),Lt.x===e&&Lt.y===i||(Lt.x=Lt.endX=e,_t?Lt.endRotation=e:Lt.y=Lt.endY=i,it=!0,jt())),Lt)},this.update=function(t){var e=Lt.x,i=Lt.y;return qt(),t?Lt.applyBounds():(it&&jt(),Xt(!0)),Lt.isPressed&&(Ot&&Math.abs(e-Lt.x)>.01||Mt&&Math.abs(i-Lt.y)>.01&&!_t)&&Gt(),Lt},this.enable=function(t){var r,l,c;if("soft"!==t){for(l=Ft.length;--l>-1;)c=Ft[l],Tt(c,"mousedown",Kt),Tt(c,"touchstart",Kt),Tt(c,"click",ie,!0),_t||q(c,"cursor",n.cursor||"move"),q(c,"touchCallout","none"),q(c,"touchAction",Ot===Mt||a?"none":Ot?"pan-y":"pan-x");At(Ft,!1)}return z(Lt.target,ee),s=!0,o&&"soft"!==t&&o.track(a||i,wt?"x,y":_t?"rotation":"top,left"),a&&a.enable(),i._gsDragID=r="d"+S++,T[r]=this,a&&(a.element._gsDragID=r),e.set(i,{x:"+=0",overwrite:!1}),ft={t:i,data:b?$:i._gsTransform,tween:{},setRatio:b?function(){e.set(i,G)}:CSSPlugin._internals.setTransformRatio||CSSPlugin._internals.set3DTransformRatio},this.update(!0),Lt},this.disable=function(t){var e,n,r=this.isDragging;if(!_t)for(e=Ft.length;--e>-1;)q(Ft[e],"cursor",null);if("soft"!==t){for(e=Ft.length;--e>-1;)n=Ft[e],q(n,"touchCallout",null),q(n,"touchAction",null),St(n,"mousedown",Kt),St(n,"touchstart",Kt),St(n,"click",ie);At(Ft,!0),at&&(St(at,"touchcancel",te),St(at,"touchend",te),St(at,"touchmove",Zt)),St(p,"mouseup",te),St(p,"mousemove",Zt)}return B(i,ee),s=!1,o&&"soft"!==t&&o.untrack(a||i,wt?"x,y":_t?"rotation":"top,left"),a&&a.disable(),M(jt),this.isDragging=this.isPressed=st=!1,r&&tt(this,"dragend","onDragEnd"),Lt},this.enabled=function(t,e){return arguments.length?t?this.enable(e):this.disable(e):s},this.kill=function(){return e.killTweensOf(a||i,!0,zt),Lt.disable(),delete T[i._gsDragID],Lt},-1!==yt.indexOf("scroll")&&(a=this.scrollProxy=new Nt(i,H({onKill:function(){Lt.isPressed&&te(null)}},n)),i.style.overflowY=Mt&&!xt?"auto":"hidden",i.style.overflowX=Ot&&!xt?"auto":"hidden",i=a.content),n.force3D!==!1&&e.set(i,{force3D:!0}),_t?zt.rotation=1:(Ot&&(zt[bt]=1),Mt&&(zt[Et]=1)),_t?(G=u,$=G.css,G.overwrite=!1):wt&&(G=Ot&&Mt?l:Ot?c:h,$=G.css,G.overwrite=!1),this.enable()},Mt=Dt.prototype=new t;Mt.constructor=Dt,Mt.pointerX=Mt.pointerY=0,Mt.isDragging=Mt.isPressed=!1,Dt.version="0.13.0",Dt.zIndex=1e3,Tt(p,"touchcancel",function(){}),Tt(p,"contextmenu",function(t){var e;for(e in T)T[e].isPressed&&T[e].endDrag()}),Dt.create=function(t,i){"string"==typeof t&&(t=e.selector(t));for(var n=_t(t)?bt(t):[t],r=n.length;--r>-1;)n[r]=new Dt(n[r],i);return n},Dt.get=function(t){return T[(U(t)||{})._gsDragID]},Dt.timeSinceDrag=function(){return(_()-P)/1e3};var It=function(t,e){var i=t.pageX!==e?{left:t.pageX,top:t.pageY,right:t.pageX+1,bottom:t.pageY+1}:t.nodeType||t.left===e||t.top===e?U(t).getBoundingClientRect():t;return i.right===e&&i.width!==e?(i.right=i.left+i.width,i.bottom=i.top+i.height):i.width===e&&(i={width:i.right-i.left,height:i.bottom-i.top,right:i.right,left:i.left,bottom:i.bottom,top:i.top}),i};return Dt.hitTest=function(t,e,i){if(t===e)return!1;var n,r,o,s=It(t),a=It(e),l=a.left>s.right||a.right<s.left||a.top>s.bottom||a.bottom<s.top;return l||!i?!l:(o=-1!==(i+"").indexOf("%"),i=parseFloat(i)||0,n={left:Math.max(s.left,a.left),top:Math.max(s.top,a.top)},n.width=Math.min(s.right,a.right)-n.left,n.height=Math.min(s.bottom,a.bottom)-n.top,n.width<0||n.height<0?!1:o?(i*=.01,r=n.width*n.height,r>=s.width*s.height*i||r>=a.width*a.height*i):n.width>i&&n.height>i)},x.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;",Dt},!0)}),n._gsDefine&&n._gsQueue.pop()(),function(i){"use strict";var r=function(){return(n.GreenSockGlobals||n)[i]};"function"==typeof define&&define.amd?define(["TweenLite"],r):"undefined"!=typeof e&&e.exports&&(t("TweenLite"),t("../plugins/CSSPlugin.js"),e.exports=r())}("Draggable")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../plugins/CSSPlugin.js":1,TweenLite:"TweenLite"}],DrawSVGPlugin:[function(t,e,i){(function(t){var i="undefined"!=typeof e&&e.exports&&"undefined"!=typeof t?t:this||window;(i._gsQueue||(i._gsQueue=[])).push(function(){"use strict";function t(t,e,i,n){return i=parseFloat(i)-parseFloat(t),n=parseFloat(n)-parseFloat(e),Math.sqrt(i*i+n*n)}function e(t){return"string"!=typeof t&&t.nodeType||(t=i.TweenLite.selector(t),t.length&&(t=t[0])),t}function n(t,e,i){var n,r,o=t.indexOf(" ");return-1===o?(n=void 0!==i?i+"":t,r=t):(n=t.substr(0,o),r=t.substr(o+1)),n=-1!==n.indexOf("%")?parseFloat(n)/100*e:parseFloat(n),r=-1!==r.indexOf("%")?parseFloat(r)/100*e:parseFloat(r),n>r?[r,n]:[n,r]}function r(i){if(!i)return 0;i=e(i);var n,r,o,s,a,c,h,u=i.tagName.toLowerCase();if("path"===u){s=i.style.strokeDasharray,i.style.strokeDasharray="none",n=i.getTotalLength()||0;try{r=i.getBBox()}catch(d){}i.style.strokeDasharray=s}else if("rect"===u)n=2*i.getAttribute("width")+2*i.getAttribute("height");else if("circle"===u)n=2*Math.PI*parseFloat(i.getAttribute("r"));else if("line"===u)n=t(i.getAttribute("x1"),i.getAttribute("y1"),i.getAttribute("x2"),i.getAttribute("y2"));else if("polyline"===u||"polygon"===u)for(o=i.getAttribute("points").match(l)||[],"polygon"===u&&o.push(o[0],o[1]),n=0,a=2;a<o.length;a+=2)n+=t(o[a-2],o[a-1],o[a],o[a+1])||0;else"ellipse"===u&&(c=parseFloat(i.getAttribute("rx")),h=parseFloat(i.getAttribute("ry")),n=Math.PI*(3*(c+h)-Math.sqrt((3*c+h)*(c+3*h))));return n||0}function o(t,i){if(!t)return[0,0];t=e(t),i=i||r(t)+1;var n=a(t),o=n.strokeDasharray||"",s=parseFloat(n.strokeDashoffset),l=o.indexOf(",");return 0>l&&(l=o.indexOf(" ")),o=0>l?i:parseFloat(o.substr(0,l))||1e-5,o>i&&(o=i),[Math.max(0,-s),Math.max(0,o-s)]}var s,a=document.defaultView?document.defaultView.getComputedStyle:function(){},l=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi;s=i._gsDefine.plugin({propName:"drawSVG",API:2,version:"0.0.10",global:!0,overwriteProps:["drawSVG"],init:function(t,e,i){if(!t.getBBox)return!1;var s,a,l,c=r(t)+1;return this._style=t.style,e===!0||"true"===e?e="0 100%":e?-1===(e+"").indexOf(" ")&&(e="0 "+e):e="0 0",s=o(t,c),a=n(e,c,s[0]),this._length=c+10,0===s[0]&&0===a[0]?(l=Math.max(1e-5,a[1]-c),this._dash=c+l,this._offset=c-s[1]+l,this._addTween(this,"_offset",this._offset,c-a[1]+l,"drawSVG")):(this._dash=s[1]-s[0]||1e-6,this._offset=-s[0],this._addTween(this,"_dash",this._dash,a[1]-a[0]||1e-5,"drawSVG"),this._addTween(this,"_offset",this._offset,-a[0],"drawSVG")),!0},set:function(t){this._firstPT&&(this._super.setRatio.call(this,t),this._style.strokeDashoffset=this._offset,1===t||0===t?this._style.strokeDasharray=this._offset<.001&&this._length-this._dash<=10?"none":this._offset===this._dash?"0px, 999999px":this._dash+"px,"+this._length+"px":this._style.strokeDasharray=this._dash+"px,"+this._length+"px")}}),s.getLength=r,s.getPosition=o}),i._gsDefine&&i._gsQueue.pop()()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],Dropzone:[function(t,e,i){e.exports=function(){var t,i,n,r,o,s,a,l,c=[].slice,h={}.hasOwnProperty,u=function(t,e){function i(){this.constructor=t}for(var n in e)h.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};return a=function(){},i=function(){function t(){}return t.prototype.addEventListener=t.prototype.on,t.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this},t.prototype.emit=function(){var t,e,i,n,r,o;if(n=arguments[0],t=2<=arguments.length?c.call(arguments,1):[],this._callbacks=this._callbacks||{},i=this._callbacks[n])for(r=0,o=i.length;o>r;r++)e=i[r],e.apply(this,t);return this},t.prototype.removeListener=t.prototype.off,t.prototype.removeAllListeners=t.prototype.off,t.prototype.removeEventListener=t.prototype.off,t.prototype.off=function(t,e){var i,n,r,o,s;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(n=this._callbacks[t],!n)return this;if(1===arguments.length)return delete this._callbacks[t],this;for(r=o=0,s=n.length;s>o;r=++o)if(i=n[r],i===e){n.splice(r,1);break}return this},t}(),t=function(t){function e(t,i){var r,o,s;if(this.element=t,this.version=e.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(e.instances.push(this),this.element.dropzone=this,r=null!=(s=e.optionsForElement(this.element))?s:{},this.options=n({},this.defaultOptions,r,null!=i?i:{}),this.options.forceFallback||!e.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=e.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=e.getElements(this.options.clickable,"clickable")),this.init()}var n,r;return u(e,t),e.prototype.Emitter=i,e.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],e.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,filesizeBase:1e3,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(t,e){return e()},init:function(){return a},forceFallback:!1,fallback:function(){var t,i,n,r,o,s;for(this.element.className=""+this.element.className+" dz-browser-not-supported",s=this.element.getElementsByTagName("div"),r=0,o=s.length;o>r;r++)t=s[r],/(^| )dz-message($| )/.test(t.className)&&(i=t,t.className="dz-message");return i||(i=e.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(i)),n=i.getElementsByTagName("span")[0],n&&(n.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,i,n;return e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},i=t.width/t.height,e.optWidth=this.options.thumbnailWidth,e.optHeight=this.options.thumbnailHeight,null==e.optWidth&&null==e.optHeight?(e.optWidth=e.srcWidth,e.optHeight=e.srcHeight):null==e.optWidth?e.optWidth=i*e.optHeight:null==e.optHeight&&(e.optHeight=1/i*e.optWidth),n=e.optWidth/e.optHeight,t.height<e.optHeight||t.width<e.optWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):i>n?(e.srcHeight=t.height,e.srcWidth=e.srcHeight*n):(e.srcWidth=t.width,e.srcHeight=e.srcWidth/n),e.srcX=(t.width-e.srcWidth)/2,e.srcY=(t.height-e.srcHeight)/2,e},drop:function(t){return this.element.classList.remove("dz-drag-hover")},dragstart:a,dragend:function(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function(t){return this.element.classList.add("dz-drag-hover")},dragover:function(t){return this.element.classList.add("dz-drag-hover")},dragleave:function(t){return this.element.classList.remove("dz-drag-hover")},paste:a,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var i,n,r,o,s,a,l,c,h,u,d,f,p;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(t.previewElement=e.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),u=t.previewElement.querySelectorAll("[data-dz-name]"),o=0,l=u.length;l>o;o++)i=u[o],i.textContent=t.name;for(d=t.previewElement.querySelectorAll("[data-dz-size]"),s=0,c=d.length;c>s;s++)i=d[s],i.innerHTML=this.filesize(t.size);for(this.options.addRemoveLinks&&(t._removeLink=e.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink)),n=function(i){return function(n){return n.preventDefault(),n.stopPropagation(),t.status===e.UPLOADING?e.confirm(i.options.dictCancelUploadConfirmation,function(){return i.removeFile(t)}):i.options.dictRemoveFileConfirmation?e.confirm(i.options.dictRemoveFileConfirmation,function(){return i.removeFile(t)}):i.removeFile(t)}}(this),f=t.previewElement.querySelectorAll("[data-dz-remove]"),p=[],a=0,h=f.length;h>a;a++)r=f[a],p.push(r.addEventListener("click",n));return p}},removedfile:function(t){var e;return t.previewElement&&null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var i,n,r,o;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),o=t.previewElement.querySelectorAll("[data-dz-thumbnail]"),n=0,r=o.length;r>n;n++)i=o[n],i.alt=t.name,i.src=e;return setTimeout(function(e){return function(){return t.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(t,e){var i,n,r,o,s;if(t.previewElement){for(t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error),o=t.previewElement.querySelectorAll("[data-dz-errormessage]"),s=[],n=0,r=o.length;r>n;n++)i=o[n],s.push(i.textContent=e);return s}},errormultiple:a,processing:function(t){return t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink)?t._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:a,uploadprogress:function(t,e,i){var n,r,o,s,a;if(t.previewElement){for(s=t.previewElement.querySelectorAll("[data-dz-uploadprogress]"),a=[],r=0,o=s.length;o>r;r++)n=s[r],"PROGRESS"===n.nodeName?a.push(n.value=e):a.push(n.style.width=""+e+"%");return a}},totaluploadprogress:a,sending:a,sendingmultiple:a,success:function(t){return t.previewElement?t.previewElement.classList.add("dz-success"):void 0},successmultiple:a,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:a,complete:function(t){return t._removeLink&&(t._removeLink.textContent=this.options.dictRemoveFile),t.previewElement?t.previewElement.classList.add("dz-complete"):void 0},completemultiple:a,maxfilesexceeded:a,maxfilesreached:a,queuecomplete:a,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},n=function(){var t,e,i,n,r,o,s;for(n=arguments[0],i=2<=arguments.length?c.call(arguments,1):[],o=0,s=i.length;s>o;o++){e=i[o];for(t in e)r=e[t],n[t]=r}return n},e.prototype.getAcceptedFiles=function(){var t,e,i,n,r;for(n=this.files,r=[],e=0,i=n.length;i>e;e++)t=n[e],t.accepted&&r.push(t);return r},e.prototype.getRejectedFiles=function(){var t,e,i,n,r;for(n=this.files,r=[],e=0,i=n.length;i>e;e++)t=n[e],t.accepted||r.push(t);return r},e.prototype.getFilesWithStatus=function(t){var e,i,n,r,o;for(r=this.files,o=[],i=0,n=r.length;n>i;i++)e=r[i],e.status===t&&o.push(e);return o},e.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(e.QUEUED)},e.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(e.UPLOADING)},e.prototype.getActiveFiles=function(){var t,i,n,r,o;for(r=this.files,o=[],i=0,n=r.length;n>i;i++)t=r[i],t.status!==e.UPLOADING&&t.status!==e.QUEUED||o.push(t);
return o},e.prototype.init=function(){var t,i,n,r,o,s,a;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(e.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(n=function(t){return function(){return t.hiddenFileInput&&document.body.removeChild(t.hiddenFileInput),t.hiddenFileInput=document.createElement("input"),t.hiddenFileInput.setAttribute("type","file"),(null==t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple"),t.hiddenFileInput.className="dz-hidden-input",null!=t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles),null!=t.options.capture&&t.hiddenFileInput.setAttribute("capture",t.options.capture),t.hiddenFileInput.style.visibility="hidden",t.hiddenFileInput.style.position="absolute",t.hiddenFileInput.style.top="0",t.hiddenFileInput.style.left="0",t.hiddenFileInput.style.height="0",t.hiddenFileInput.style.width="0",document.body.appendChild(t.hiddenFileInput),t.hiddenFileInput.addEventListener("change",function(){var e,i,r,o;if(i=t.hiddenFileInput.files,i.length)for(r=0,o=i.length;o>r;r++)e=i[r],t.addFile(e);return n()})}}(this))(),this.URL=null!=(s=window.URL)?s:window.webkitURL,a=this.events,r=0,o=a.length;o>r;r++)t=a[r],this.on(t,this.options[t]);return this.on("uploadprogress",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("canceled",function(t){return function(e){return t.emit("complete",e)}}(this)),this.on("complete",function(t){return function(e){return 0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length?setTimeout(function(){return t.emit("queuecomplete")},0):void 0}}(this)),i=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return function(e){return t.emit("dragstart",e)}}(this),dragenter:function(t){return function(e){return i(e),t.emit("dragenter",e)}}(this),dragover:function(t){return function(e){var n;try{n=e.dataTransfer.effectAllowed}catch(r){}return e.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",i(e),t.emit("dragover",e)}}(this),dragleave:function(t){return function(e){return t.emit("dragleave",e)}}(this),drop:function(t){return function(e){return i(e),t.drop(e)}}(this),dragend:function(t){return function(e){return t.emit("dragend",e)}}(this)}}],this.clickableElements.forEach(function(t){return function(i){return t.listeners.push({element:i,events:{click:function(n){return i!==t.element||n.target===t.element||e.elementInside(n.target,t.element.querySelector(".dz-message"))?t.hiddenFileInput.click():void 0}}})}}(this)),this.enable(),this.options.init.call(this)},e.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,e.instances.splice(e.instances.indexOf(this),1)},e.prototype.updateTotalUploadProgress=function(){var t,e,i,n,r,o,s,a;if(n=0,i=0,t=this.getActiveFiles(),t.length){for(a=this.getActiveFiles(),o=0,s=a.length;s>o;o++)e=a[o],n+=e.upload.bytesSent,i+=e.upload.total;r=100*n/i}else r=100;return this.emit("totaluploadprogress",r,i,n)},e.prototype._getParamName=function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):""+this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")},e.prototype.getFallbackForm=function(){var t,i,n,r;return(t=this.getExistingFallback())?t:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',i=e.createElement(n),"FORM"!==this.element.tagName?(r=e.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),r.appendChild(i)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=r?r:i)},e.prototype.getExistingFallback=function(){var t,e,i,n,r,o;for(e=function(t){var e,i,n;for(i=0,n=t.length;n>i;i++)if(e=t[i],/(^| )fallback($| )/.test(e.className))return e},o=["div","form"],n=0,r=o.length;r>n;n++)if(i=o[n],t=e(this.element.getElementsByTagName(i)))return t},e.prototype.setupEventListeners=function(){var t,e,i,n,r,o,s;for(o=this.listeners,s=[],n=0,r=o.length;r>n;n++)t=o[n],s.push(function(){var n,r;n=t.events,r=[];for(e in n)i=n[e],r.push(t.element.addEventListener(e,i,!1));return r}());return s},e.prototype.removeEventListeners=function(){var t,e,i,n,r,o,s;for(o=this.listeners,s=[],n=0,r=o.length;r>n;n++)t=o[n],s.push(function(){var n,r;n=t.events,r=[];for(e in n)i=n[e],r.push(t.element.removeEventListener(e,i,!1));return r}());return s},e.prototype.disable=function(){var t,e,i,n,r;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),n=this.files,r=[],e=0,i=n.length;i>e;e++)t=n[e],r.push(this.cancelUpload(t));return r},e.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},e.prototype.filesize=function(t){var e,i,n,r,o,s,a,l;for(s=["TB","GB","MB","KB","b"],n=r=null,i=a=0,l=s.length;l>a;i=++a)if(o=s[i],e=Math.pow(this.options.filesizeBase,4-i)/10,t>=e){n=t/Math.pow(this.options.filesizeBase,4-i),r=o;break}return n=Math.round(10*n)/10,"<strong>"+n+"</strong> "+r},e.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},e.prototype.drop=function(t){var e,i;t.dataTransfer&&(this.emit("drop",t),e=t.dataTransfer.files,e.length&&(i=t.dataTransfer.items,i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(e)))},e.prototype.paste=function(t){var e,i;if(null!=(null!=t&&null!=(i=t.clipboardData)?i.items:void 0))return this.emit("paste",t),e=t.clipboardData.items,e.length?this._addFilesFromItems(e):void 0},e.prototype.handleFiles=function(t){var e,i,n,r;for(r=[],i=0,n=t.length;n>i;i++)e=t[i],r.push(this.addFile(e));return r},e.prototype._addFilesFromItems=function(t){var e,i,n,r,o;for(o=[],n=0,r=t.length;r>n;n++)i=t[n],null!=i.webkitGetAsEntry&&(e=i.webkitGetAsEntry())?e.isFile?o.push(this.addFile(i.getAsFile())):e.isDirectory?o.push(this._addFilesFromDirectory(e,e.name)):o.push(void 0):null!=i.getAsFile&&(null==i.kind||"file"===i.kind)?o.push(this.addFile(i.getAsFile())):o.push(void 0);return o},e.prototype._addFilesFromDirectory=function(t,e){var i,n;return i=t.createReader(),n=function(t){return function(i){var n,r,o;for(r=0,o=i.length;o>r;r++)n=i[r],n.isFile?n.file(function(i){return t.options.ignoreHiddenFiles&&"."===i.name.substring(0,1)?void 0:(i.fullPath=""+e+"/"+i.name,t.addFile(i))}):n.isDirectory&&t._addFilesFromDirectory(n,""+e+"/"+n.name)}}(this),i.readEntries(n,function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0})},e.prototype.accept=function(t,i){return t.size>1024*this.options.maxFilesize*1024?i(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):e.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(i(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,i):i(this.options.dictInvalidFileType)},e.prototype.addFile=function(t){return t.upload={progress:0,total:t.size,bytesSent:0},this.files.push(t),t.status=e.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){return function(i){return i?(t.accepted=!1,e._errorProcessing([t],i)):(t.accepted=!0,e.options.autoQueue&&e.enqueueFile(t)),e._updateMaxFilesReachedClass()}}(this))},e.prototype.enqueueFiles=function(t){var e,i,n;for(i=0,n=t.length;n>i;i++)e=t[i],this.enqueueFile(e);return null},e.prototype.enqueueFile=function(t){if(t.status!==e.ADDED||t.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");return t.status=e.QUEUED,this.options.autoProcessQueue?setTimeout(function(t){return function(){return t.processQueue()}}(this),0):void 0},e.prototype._thumbnailQueue=[],e.prototype._processingThumbnail=!1,e.prototype._enqueueThumbnail=function(t){return this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(t),setTimeout(function(t){return function(){return t._processThumbnailQueue()}}(this),0)):void 0},e.prototype._processThumbnailQueue=function(){return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(t){return function(){return t._processingThumbnail=!1,t._processThumbnailQueue()}}(this)))},e.prototype.removeFile=function(t){return t.status===e.UPLOADING&&this.cancelUpload(t),this.files=l(this.files,t),this.emit("removedfile",t),0===this.files.length?this.emit("reset"):void 0},e.prototype.removeAllFiles=function(t){var i,n,r,o;for(null==t&&(t=!1),o=this.files.slice(),n=0,r=o.length;r>n;n++)i=o[n],(i.status!==e.UPLOADING||t)&&this.removeFile(i);return null},e.prototype.createThumbnail=function(t,e){var i;return i=new FileReader,i.onload=function(n){return function(){return"image/svg+xml"===t.type?(n.emit("thumbnail",t,i.result),void(null!=e&&e())):n.createThumbnailFromUrl(t,i.result,e)}}(this),i.readAsDataURL(t)},e.prototype.createThumbnailFromUrl=function(t,e,i){var n;return n=document.createElement("img"),n.onload=function(e){return function(){var r,o,a,l,c,h,u,d;return t.width=n.width,t.height=n.height,a=e.options.resize.call(e,t),null==a.trgWidth&&(a.trgWidth=a.optWidth),null==a.trgHeight&&(a.trgHeight=a.optHeight),r=document.createElement("canvas"),o=r.getContext("2d"),r.width=a.trgWidth,r.height=a.trgHeight,s(o,n,null!=(c=a.srcX)?c:0,null!=(h=a.srcY)?h:0,a.srcWidth,a.srcHeight,null!=(u=a.trgX)?u:0,null!=(d=a.trgY)?d:0,a.trgWidth,a.trgHeight),l=r.toDataURL("image/png"),e.emit("thumbnail",t,l),null!=i?i():void 0}}(this),null!=i&&(n.onerror=i),n.src=e},e.prototype.processQueue=function(){var t,e,i,n;if(e=this.options.parallelUploads,i=this.getUploadingFiles().length,t=i,!(i>=e)&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,e-i));for(;e>t;){if(!n.length)return;this.processFile(n.shift()),t++}}},e.prototype.processFile=function(t){return this.processFiles([t])},e.prototype.processFiles=function(t){var i,n,r;for(n=0,r=t.length;r>n;n++)i=t[n],i.processing=!0,i.status=e.UPLOADING,this.emit("processing",i);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},e.prototype._getFilesWithXhr=function(t){var e,i;return i=function(){var i,n,r,o;for(r=this.files,o=[],i=0,n=r.length;n>i;i++)e=r[i],e.xhr===t&&o.push(e);return o}.call(this)},e.prototype.cancelUpload=function(t){var i,n,r,o,s,a,l;if(t.status===e.UPLOADING){for(n=this._getFilesWithXhr(t.xhr),r=0,s=n.length;s>r;r++)i=n[r],i.status=e.CANCELED;for(t.xhr.abort(),o=0,a=n.length;a>o;o++)i=n[o],this.emit("canceled",i);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else(l=t.status)!==e.ADDED&&l!==e.QUEUED||(t.status=e.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));return this.options.autoProcessQueue?this.processQueue():void 0},r=function(){var t,e;return e=arguments[0],t=2<=arguments.length?c.call(arguments,1):[],"function"==typeof e?e.apply(this,t):e},e.prototype.uploadFile=function(t){return this.uploadFiles([t])},e.prototype.uploadFiles=function(t){var i,o,s,a,l,c,h,u,d,f,p,g,m,v,y,w,_,b,x,C,T,S,E,k,R,P,A,O,N,D,M,I,H,L;for(x=new XMLHttpRequest,C=0,k=t.length;k>C;C++)i=t[C],i.xhr=x;g=r(this.options.method,t),_=r(this.options.url,t),x.open(g,_,!0),x.withCredentials=!!this.options.withCredentials,y=null,s=function(e){return function(){var n,r,o;for(o=[],n=0,r=t.length;r>n;n++)i=t[n],o.push(e._errorProcessing(t,y||e.options.dictResponseError.replace("{{statusCode}}",x.status),x));return o}}(this),w=function(e){return function(n){var r,o,s,a,l,c,h,u,d;if(null!=n)for(o=100*n.loaded/n.total,s=0,c=t.length;c>s;s++)i=t[s],i.upload={progress:o,total:n.total,bytesSent:n.loaded};else{for(r=!0,o=100,a=0,h=t.length;h>a;a++)i=t[a],100===i.upload.progress&&i.upload.bytesSent===i.upload.total||(r=!1),i.upload.progress=o,i.upload.bytesSent=i.upload.total;if(r)return}for(d=[],l=0,u=t.length;u>l;l++)i=t[l],d.push(e.emit("uploadprogress",i,o,i.upload.bytesSent));return d}}(this),x.onload=function(i){return function(n){var r;if(t[0].status!==e.CANCELED&&4===x.readyState){if(y=x.responseText,x.getResponseHeader("content-type")&&~x.getResponseHeader("content-type").indexOf("application/json"))try{y=JSON.parse(y)}catch(o){n=o,y="Invalid JSON response from server."}return w(),200<=(r=x.status)&&300>r?i._finished(t,y,n):s()}}}(this),x.onerror=function(i){return function(){return t[0].status!==e.CANCELED?s():void 0}}(this),v=null!=(N=x.upload)?N:x,v.onprogress=w,c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&n(c,this.options.headers);for(a in c)l=c[a],x.setRequestHeader(a,l);if(o=new FormData,this.options.params){D=this.options.params;for(p in D)b=D[p],o.append(p,b)}for(T=0,R=t.length;R>T;T++)i=t[T],this.emit("sending",i,x,o);if(this.options.uploadMultiple&&this.emit("sendingmultiple",t,x,o),"FORM"===this.element.tagName)for(M=this.element.querySelectorAll("input, textarea, select, button"),S=0,P=M.length;P>S;S++)if(u=M[S],d=u.getAttribute("name"),f=u.getAttribute("type"),"SELECT"===u.tagName&&u.hasAttribute("multiple"))for(I=u.options,E=0,A=I.length;A>E;E++)m=I[E],m.selected&&o.append(d,m.value);else(!f||"checkbox"!==(H=f.toLowerCase())&&"radio"!==H||u.checked)&&o.append(d,u.value);for(h=O=0,L=t.length-1;L>=0?L>=O:O>=L;h=L>=0?++O:--O)o.append(this._getParamName(h),t[h],t[h].name);return x.send(o)},e.prototype._finished=function(t,i,n){var r,o,s;for(o=0,s=t.length;s>o;o++)r=t[o],r.status=e.SUCCESS,this.emit("success",r,i,n),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("successmultiple",t,i,n),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},e.prototype._errorProcessing=function(t,i,n){var r,o,s;for(o=0,s=t.length;s>o;o++)r=t[o],r.status=e.ERROR,this.emit("error",r,i,n),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("errormultiple",t,i,n),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},e}(i),t.version="4.0.1",t.options={},t.optionsForElement=function(e){return e.getAttribute("id")?t.options[n(e.getAttribute("id"))]:void 0},t.instances=[],t.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},t.autoDiscover=!0,t.discover=function(){var e,i,n,r,o,s;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],e=function(t){var e,i,r,o;for(o=[],i=0,r=t.length;r>i;i++)e=t[i],/(^| )dropzone($| )/.test(e.className)?o.push(n.push(e)):o.push(void 0);return o},e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),s=[],r=0,o=n.length;o>r;r++)i=n[r],t.optionsForElement(i)!==!1?s.push(new t(i)):s.push(void 0);return s},t.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],t.isBrowserSupported=function(){var e,i,n,r,o;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(o=t.blacklistedBrowsers,n=0,r=o.length;r>n;n++)i=o[n],i.test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},l=function(t,e){var i,n,r,o;for(o=[],n=0,r=t.length;r>n;n++)i=t[n],i!==e&&o.push(i);return o},n=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})},t.createElement=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.childNodes[0]},t.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},t.getElement=function(t,e){var i;if("string"==typeof t?i=document.querySelector(t):null!=t.nodeType&&(i=t),null==i)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},t.getElements=function(t,e){var i,n,r,o,s,a,l,c;if(t instanceof Array){r=[];try{for(o=0,a=t.length;a>o;o++)n=t[o],r.push(this.getElement(n,e))}catch(h){i=h,r=null}}else if("string"==typeof t)for(r=[],c=document.querySelectorAll(t),s=0,l=c.length;l>s;s++)n=c[s],r.push(n);else null!=t.nodeType&&(r=[t]);if(null==r||!r.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return r},t.confirm=function(t,e,i){return window.confirm(t)?e():null!=i?i():void 0},t.isValidFile=function(t,e){var i,n,r,o,s;if(!e)return!0;for(e=e.split(","),n=t.type,i=n.replace(/\/.*$/,""),o=0,s=e.length;s>o;o++)if(r=e[o],r=r.trim(),"."===r.charAt(0)){if(-1!==t.name.toLowerCase().indexOf(r.toLowerCase(),t.name.length-r.length))return!0}else if(/\/\*$/.test(r)){if(i===r.replace(/\/.*$/,""))return!0}else if(n===r)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new t(this,e)})}),"undefined"!=typeof e&&null!==e?e.exports=t:window.Dropzone=t,t.ADDED="added",t.QUEUED="queued",t.ACCEPTED=t.QUEUED,t.UPLOADING="uploading",t.PROCESSING=t.UPLOADING,t.CANCELED="canceled",t.ERROR="error",t.SUCCESS="success",o=function(t){var e,i,n,r,o,s,a,l,c,h;for(a=t.naturalWidth,s=t.naturalHeight,i=document.createElement("canvas"),i.width=1,i.height=s,n=i.getContext("2d"),n.drawImage(t,0,0),r=n.getImageData(0,0,1,s).data,h=0,o=s,l=s;l>h;)e=r[4*(l-1)+3],0===e?o=l:h=l,l=o+h>>1;return c=l/s,0===c?1:c},s=function(t,e,i,n,r,s,a,l,c,h){var u;return u=o(e),t.drawImage(e,i,n,r,s,a,l,c,h/u)},r=function(t,e){var i,n,r,o,s,a,l,c,h;if(r=!1,h=!0,n=t.document,c=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",a=n.addEventListener?"":"on",o=function(i){return"readystatechange"!==i.type||"complete"===n.readyState?(("load"===i.type?t:n)[l](a+i.type,o,!1),!r&&(r=!0)?e.call(t,i.type||i):void 0):void 0},s=function(){var t;try{c.doScroll("left")}catch(e){return t=e,void setTimeout(s,50)}return o("poll")},"complete"!==n.readyState){if(n.createEventObject&&c.doScroll){try{h=!t.frameElement}catch(u){}h&&s()}return n[i](a+"DOMContentLoaded",o,!1),n[i](a+"readystatechange",o,!1),t[i](a+"load",o,!1)}},t._autoDiscoverFunction=function(){return t.autoDiscover?t.discover():void 0},t}.call(this)},{}],EasePack:[function(t,e,i){(function(t){var i="undefined"!=typeof e&&e.exports&&"undefined"!=typeof t?t:this||window;(i._gsQueue||(i._gsQueue=[])).push(function(){"use strict";i._gsDefine("easing.Back",["easing.Ease"],function(t){var e,n,r,o=i.GreenSockGlobals||i,s=o.com.greensock,a=2*Math.PI,l=Math.PI/2,c=s._class,h=function(e,i){var n=c("easing."+e,function(){},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,n},u=t.register||function(){},d=function(t,e,i,n,r){var o=c("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return u(o,t),o},f=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},p=function(e,i){var n=c("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,r.config=function(t){return new n(t)},n},g=d("Back",p("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),p("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),p("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),m=c("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),v=m.prototype=new t;return v.constructor=m,v.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},m.ease=new m(.7,.7),v.config=m.config=function(t,e,i){return new m(t,e,i)},e=c("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),v=e.prototype=new t,v.constructor=e,v.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},v.config=e.config=function(t){return new e(t)},n=c("easing.RoughEase",function(e){e=e||{};for(var i,n,r,o,s,a,l=e.taper||"none",c=[],h=0,u=0|(e.points||20),d=u,p=e.randomize!==!1,g=e.clamp===!0,m=e.template instanceof t?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;--d>-1;)i=p?Math.random():1/u*d,n=m?m.getRatio(i):i,"none"===l?r=v:"out"===l?(o=1-i,r=o*o*v):"in"===l?r=i*i*v:.5>i?(o=2*i,r=o*o*.5*v):(o=2*(1-i),r=o*o*.5*v),p?n+=Math.random()*r-.5*r:d%2?n+=.5*r:n-=.5*r,g&&(n>1?n=1:0>n&&(n=0)),c[h++]={x:i,y:n};for(c.sort(function(t,e){return t.x-e.x}),a=new f(1,1,null),d=u;--d>-1;)s=c[d],a=new f(s.x,s.y,a);this._prev=new f(0,0,0!==a.t?a:a.next)},!0),v=n.prototype=new t,v.constructor=n,v.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},v.config=function(t){return new n(t)},n.ease=new n,d("Bounce",h("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),h("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),h("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),d("Circ",h("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),h("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),h("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),r=function(e,i,n){var r=c("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||n)/(1>t?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),o=r.prototype=new t;return o.constructor=r,o.getRatio=i,o.config=function(t,e){return new r(t,e)},r},d("Elastic",r("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),r("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),r("ElasticInOut",function(t){return(t*=2)<1?-.5*(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),d("Expo",h("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),h("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),h("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),d("Sine",h("SineOut",function(t){return Math.sin(t*l)}),h("SineIn",function(t){return-Math.cos(t*l)+1}),h("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),c("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),u(o.SlowMo,"SlowMo","ease,"),u(n,"RoughEase","ease,"),u(e,"SteppedEase","ease,"),g},!0)}),i._gsDefine&&i._gsQueue.pop()()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],TimelineLite:[function(t,e,i){(function(i){var n="undefined"!=typeof e&&e.exports&&"undefined"!=typeof i?i:this||window;(n._gsQueue||(n._gsQueue=[])).push(function(){"use strict";n._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var r=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,r=this.vars;for(n in r)i=r[n],c(i)&&-1!==i.join("").indexOf("{self}")&&(r[n]=this._swapSelfInParams(i));c(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},o=1e-10,s=i._internals,a=r._internals={},l=s.isSelector,c=s.isArray,h=s.lazyTweens,u=s.lazyRender,d=[],f=n._gsDefine.globals,p=function(t){var e,i={};for(e in t)i[e]=t[e];return i},g=a.pauseCallback=function(t,e,i,n){var r,s=t._timeline,a=s._totalTime,l=t._startTime,c=t._rawPrevTime<0||0===t._rawPrevTime&&s._reversed,h=c?0:o,u=c?o:0;if(e||!this._forcingPlayhead){for(s.pause(l),r=t._prev;r&&r._startTime===l;)r._rawPrevTime=u,r=r._prev;for(r=t._next;r&&r._startTime===l;)r._rawPrevTime=h,r=r._next;e&&e.apply(n||s,i||d),!this._forcingPlayhead&&s._paused||s.seek(a)}},m=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},v=r.prototype=new e;return r.version="1.16.1",v.constructor=r,v.kill()._gc=v._forcingPlayhead=!1,v.to=function(t,e,n,r){var o=n.repeat&&f.TweenMax||i;return e?this.add(new o(t,e,n),r):this.set(t,n,r)},v.from=function(t,e,n,r){return this.add((n.repeat&&f.TweenMax||i).from(t,e,n),r)},v.fromTo=function(t,e,n,r,o){var s=r.repeat&&f.TweenMax||i;return e?this.add(s.fromTo(t,e,n,r),o):this.set(t,r,o)},v.staggerTo=function(t,e,n,o,s,a,c,h){var u,d=new r({onComplete:a,onCompleteParams:c,onCompleteScope:h,smoothChildTiming:this.smoothChildTiming});for("string"==typeof t&&(t=i.selector(t)||t),t=t||[],l(t)&&(t=m(t)),o=o||0,0>o&&(t=m(t),t.reverse(),o*=-1),u=0;u<t.length;u++)n.startAt&&(n.startAt=p(n.startAt)),d.to(t[u],e,p(n),u*o);return this.add(d,s)},v.staggerFrom=function(t,e,i,n,r,o,s,a){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,r,o,s,a)},v.staggerFromTo=function(t,e,i,n,r,o,s,a,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,r,o,s,a,l)},v.call=function(t,e,n,r){return this.add(i.delayedCall(0,t,e,n),r)},v.set=function(t,e,n){return n=this._parseTimeOrLabel(n,0,!0),null==e.immediateRender&&(e.immediateRender=n===this._time&&!this._paused),this.add(new i(t,0,e),n)},r.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var n,o,s=new r(t),a=s._timeline;for(null==e&&(e=!0),a._remove(s,!0),s._startTime=0,s._rawPrevTime=s._time=s._totalTime=a._time,n=a._first;n;)o=n._next,e&&n instanceof i&&n.target===n.vars.onComplete||s.add(n,n._startTime-n._delay),n=o;return a.add(s,0),s},v.add=function(n,o,s,a){var l,h,u,d,f,p;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,n)),!(n instanceof t)){if(n instanceof Array||n&&n.push&&c(n)){for(s=s||"normal",a=a||0,l=o,h=n.length,u=0;h>u;u++)c(d=n[u])&&(d=new r({tweens:d})),this.add(d,l),"string"!=typeof d&&"function"!=typeof d&&("sequence"===s?l=d._startTime+d.totalDuration()/d._timeScale:"start"===s&&(d._startTime-=d.delay())),l+=a;return this._uncache(!0)}if("string"==typeof n)return this.addLabel(n,o);if("function"!=typeof n)throw"Cannot add "+n+" into the timeline; it is not a tween, timeline, function, or string.";n=i.delayedCall(0,n)}if(e.prototype.add.call(this,n,o),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(f=this,p=f.rawTime()>n._startTime;f._timeline;)p&&f._timeline.smoothChildTiming?f.totalTime(f._totalTime,!0):f._gc&&f._enabled(!0,!1),f=f._timeline;return this},v.remove=function(e){if(e instanceof t)return this._remove(e,!1);if(e instanceof Array||e&&e.push&&c(e)){for(var i=e.length;--i>-1;)this.remove(e[i]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},v._remove=function(t,i){e.prototype._remove.call(this,t,i);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},v.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},v.insert=v.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},v.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},v.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},v.addPause=function(t,e,n,r){var o=i.delayedCall(0,g,["{self}",e,n,r],this);return o.data="isPause",this.add(o,t)},v.removeLabel=function(t){return delete this._labels[t],this},v.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},v._parseTimeOrLabel=function(e,i,n,r){var o;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&c(r)))for(o=r.length;--o>-1;)r[o]instanceof t&&r[o].timeline===this&&this.remove(r[o]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,n);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(o=e.indexOf("="),-1===o)return null==this._labels[e]?n?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(o-1)+"1",10)*Number(e.substr(o+1)),e=o>1?this._parseTimeOrLabel(e.substr(0,o-1),0,n):this.duration()}return Number(e)+i},v.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},v.stop=function(){return this.paused(!0)},v.gotoAndPlay=function(t,e){return this.play(t,e)},v.gotoAndStop=function(t,e){return this.pause(t,e)},v.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,r,s,a,l,c=this._dirty?this.totalDuration():this._totalDuration,f=this._time,p=this._startTime,g=this._timeScale,m=this._paused;if(t>=c)this._totalTime=this._time=c,this._reversed||this._hasPausedChild()||(r=!0,a="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===t||this._rawPrevTime<0||this._rawPrevTime===o)&&this._rawPrevTime!==t&&this._first&&(l=!0,this._rawPrevTime>o&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:o,t=c+1e-4;else if(1e-7>t)if(this._totalTime=this._time=0,(0!==f||0===this._duration&&this._rawPrevTime!==o&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0))&&(a="onReverseComplete",r=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=r=!0,a="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:o,0===t&&r)for(n=this._first;n&&0===n._startTime;)n._duration||(r=!1),n=n._next;t=0,this._initted||(l=!0)}else this._totalTime=this._time=this._rawPrevTime=t;if(this._time!==f&&this._first||i||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==f&&t>0&&(this._active=!0),0===f&&this.vars.onStart&&0!==this._time&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||d)),
this._time>=f)for(n=this._first;n&&(s=n._next,!this._paused||m);)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=s;else for(n=this._last;n&&(s=n._prev,!this._paused||m);)(n._active||n._startTime<=f&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=s;this._onUpdate&&(e||(h.length&&u(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||d))),a&&(this._gc||p!==this._startTime&&g===this._timeScale||(0===this._time||c>=this.totalDuration())&&(r&&(h.length&&u(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this.vars[a].apply(this.vars[a+"Scope"]||this,this.vars[a+"Params"]||d)))}},v._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof r&&t._hasPausedChild())return!0;t=t._next}return!1},v.getChildren=function(t,e,n,r){r=r||-9999999999;for(var o=[],s=this._first,a=0;s;)s._startTime<r||(s instanceof i?e!==!1&&(o[a++]=s):(n!==!1&&(o[a++]=s),t!==!1&&(o=o.concat(s.getChildren(!0,e,n)),a=o.length))),s=s._next;return o},v.getTweensOf=function(t,e){var n,r,o=this._gc,s=[],a=0;for(o&&this._enabled(!0,!0),n=i.getTweensOf(t),r=n.length;--r>-1;)(n[r].timeline===this||e&&this._contains(n[r]))&&(s[a++]=n[r]);return o&&this._enabled(!1,!0),s},v.recent=function(){return this._recent},v._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},v.shiftChildren=function(t,e,i){i=i||0;for(var n,r=this._first,o=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(n in o)o[n]>=i&&(o[n]+=t);return this._uncache(!0)},v._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(t,e)&&(r=!0);return r},v.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},v.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},v._enabled=function(t,i){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,i)},v.totalTime=function(e,i,n){this._forcingPlayhead=!0;var r=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},v.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},v.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,r=this._last,o=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>o&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):o=r._startTime,r._startTime<0&&!r._paused&&(n-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),o=0),i=r._startTime+r._totalDuration/r._timeScale,i>n&&(n=i),r=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t),this},v.paused=function(e){if(!e)for(var i=this._first,n=this._time;i;)i._startTime===n&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},v.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},v.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},r},!0)}),n._gsDefine&&n._gsQueue.pop()(),function(i){"use strict";var r=function(){return(n.GreenSockGlobals||n)[i]};"function"==typeof define&&define.amd?define(["TweenLite"],r):"undefined"!=typeof e&&e.exports&&(t("./TweenLite.js"),e.exports=r())}("TimelineLite")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./TweenLite.js":"TweenLite"}],TweenLite:[function(t,e,i){(function(t){!function(t,i){"use strict";var n=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!n.TweenLite){var r,o,s,a,l,c=function(t){var e,i=t.split("."),r=n;for(e=0;e<i.length;e++)r[i[e]]=r=r[i[e]]||{};return r},h=c("com.greensock"),u=1e-10,d=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},f=function(){},p=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),g={},m=function(r,o,s,a){this.sc=g[r]?g[r].sc:[],g[r]=this,this.gsClass=null,this.func=s;var l=[];this.check=function(h){for(var u,d,f,p,v=o.length,y=v;--v>-1;)(u=g[o[v]]||new m(o[v],[])).gsClass?(l[v]=u.gsClass,y--):h&&u.sc.push(this);if(0===y&&s)for(d=("com.greensock."+r).split("."),f=d.pop(),p=c(d.join("."))[f]=this.gsClass=s.apply(s,l),a&&(n[f]=p,"function"==typeof define&&define.amd?define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+r.split(".").pop(),[],function(){return p}):r===i&&"undefined"!=typeof e&&e.exports&&(e.exports=p)),v=0;v<this.sc.length;v++)this.sc[v].check()},this.check(!0)},v=t._gsDefine=function(t,e,i,n){return new m(t,e,i,n)},y=h._class=function(t,e,i){return e=e||function(){},v(t,[],function(){return e},i),e};v.globals=n;var w=[0,0,1,1],_=[],b=y("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?w.concat(e):w},!0),x=b.map={},C=b.register=function(t,e,i,n){for(var r,o,s,a,l=e.split(","),c=l.length,u=(i||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(o=l[c],r=n?y("easing."+o,null,!0):h.easing[o]||{},s=u.length;--s>-1;)a=u[s],x[o+"."+a]=x[a+o]=r[a]=t.getRatio?t:t[a]||new t};for(s=b.prototype,s._calcEnd=!1,s.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:.5>t?n/2:1-n/2},r=["Linear","Quad","Cubic","Quart","Quint,Strong"],o=r.length;--o>-1;)s=r[o]+",Power"+o,C(new b(null,null,1,o),s,"easeOut",!0),C(new b(null,null,2,o),s,"easeIn"+(0===o?",easeNone":"")),C(new b(null,null,3,o),s,"easeInOut");x.linear=h.easing.Linear.easeIn,x.swing=h.easing.Quad.easeInOut;var T=y("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});s=T.prototype,s.addEventListener=function(t,e,i,n,r){r=r||0;var o,s,c=this._listeners[t],h=0;for(null==c&&(this._listeners[t]=c=[]),s=c.length;--s>-1;)o=c[s],o.c===e&&o.s===i?c.splice(s,1):0===h&&o.pr<r&&(h=s+1);c.splice(h,0,{c:e,s:i,up:n,pr:r}),this!==a||l||a.wake()},s.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},s.dispatchEvent=function(t){var e,i,n,r=this._listeners[t];if(r)for(e=r.length,i=this._eventTarget;--e>-1;)n=r[e],n&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var S=t.requestAnimationFrame,E=t.cancelAnimationFrame,k=Date.now||function(){return(new Date).getTime()},R=k();for(r=["ms","moz","webkit","o"],o=r.length;--o>-1&&!S;)S=t[r[o]+"RequestAnimationFrame"],E=t[r[o]+"CancelAnimationFrame"]||t[r[o]+"CancelRequestAnimationFrame"];y("Ticker",function(t,e){var i,n,r,o,s,c=this,h=k(),d=e!==!1&&S,p=500,g=33,m="tick",v=function(t){var e,a,l=k()-R;l>p&&(h+=l-g),R+=l,c.time=(R-h)/1e3,e=c.time-s,(!i||e>0||t===!0)&&(c.frame++,s+=e+(e>=o?.004:o-e),a=!0),t!==!0&&(r=n(v)),a&&c.dispatchEvent(m)};T.call(c),c.time=c.frame=0,c.tick=function(){v(!0)},c.lagSmoothing=function(t,e){p=t||1/u,g=Math.min(e,p,0)},c.sleep=function(){null!=r&&(d&&E?E(r):clearTimeout(r),n=f,r=null,c===a&&(l=!1))},c.wake=function(){null!==r?c.sleep():c.frame>10&&(R=k()-p+5),n=0===i?f:d&&S?S:function(t){return setTimeout(t,1e3*(s-c.time)+1|0)},c===a&&(l=!0),v(2)},c.fps=function(t){return arguments.length?(i=t,o=1/(i||60),s=this.time+o,void c.wake()):i},c.useRAF=function(t){return arguments.length?(c.sleep(),d=t,void c.fps(i)):d},c.fps(t),setTimeout(function(){d&&c.frame<5&&c.useRAF(!1)},1500)}),s=h.Ticker.prototype=new h.events.EventDispatcher,s.constructor=h.Ticker;var P=y("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,X){l||a.wake();var i=this.vars.useFrames?j:X;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});a=P.ticker=new h.Ticker,s=P.prototype,s._dirty=s._gc=s._initted=s._paused=!1,s._totalTime=s._time=0,s._rawPrevTime=-1,s._next=s._last=s._onUpdate=s._timeline=s.timeline=null,s._paused=!1;var A=function(){l&&k()-R>2e3&&a.wake(),setTimeout(A,2e3)};A(),s.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},s.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},s.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},s.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},s.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},s.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},s.render=function(t,e,i){},s.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},s.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&t<i+this.totalDuration()/this._timeScale},s._enabled=function(t,e){return l||a.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},s._kill=function(t,e){return this._enabled(!1,!1)},s.kill=function(t,e){return this._kill(t,e),this},s._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},s._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},s.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=p(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},s.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},s.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},s.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},s.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},s.totalTime=function(t,e,i){if(l||a.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(this.render(t,e,!1),I.length&&Y())}return this},s.progress=s.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()},s.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},s.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},s.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||u,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},s.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},s.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(l||t||a.wake(),e=n.rawTime(),i=e-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&this.render(n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,!0,!0)),this._gc&&!t&&this._enabled(!0,!1),this};var O=y("core.SimpleTimeline",function(t){P.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});s=O.prototype=new P,s.constructor=O,s.kill()._gc=!1,s._first=s._last=s._recent=null,s._sortChildren=!1,s.add=s.insert=function(t,e,i,n){var r,o;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(o=t._startTime;r&&r._startTime>o;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},s._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},s.render=function(t,e,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)n=r._next,(r._active||t>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=n},s.rawTime=function(){return l||a.wake(),this._totalTime};var N=y("TweenLite",function(e,i,n){if(P.call(this,i,n),this.render=N.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:N.selector(e)||e;var r,o,s,a=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?W[N.defaultOverwrite]:"number"==typeof l?l>>0:W[l],(a||e instanceof Array||e.push&&p(e))&&"number"!=typeof e[0])for(this._targets=s=d(e),this._propLookup=[],this._siblings=[],r=0;r<s.length;r++)o=s[r],o?"string"!=typeof o?o.length&&o!==t&&o[0]&&(o[0]===t||o[0].nodeType&&o[0].style&&!o.nodeType)?(s.splice(r--,1),this._targets=s=s.concat(d(o))):(this._siblings[r]=q(o,this,!1),1===l&&this._siblings[r].length>1&&$(o,this,null,1,this._siblings[r])):(o=s[r--]=N.selector(o),"string"==typeof o&&s.splice(r+1,1)):s.splice(r--,1);else this._propLookup={},this._siblings=q(e,this,!1),1===l&&this._siblings.length>1&&$(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-u,this.render(-this._delay))},!0),D=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},M=function(t,e){var i,n={};for(i in t)V[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!F[i]||F[i]&&F[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n};s=N.prototype=new P,s.constructor=N,s.kill()._gc=!1,s.ratio=0,s._firstPT=s._targets=s._overwrittenProps=s._startAt=null,s._notifyPluginsOfEnabled=s._lazy=!1,N.version="1.16.1",N.defaultEase=s._ease=new b(null,null,1,1),N.defaultOverwrite="auto",N.ticker=a,N.autoSleep=120,N.lagSmoothing=function(t,e){a.lagSmoothing(t,e)},N.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(N.selector=i,i(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var I=[],H={},L=N._internals={isArray:p,isSelector:D,lazyTweens:I},F=N._plugins={},z=L.tweenLookup={},B=0,V=L.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1},W={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},j=P._rootFramesTimeline=new O,X=P._rootTimeline=new O,U=30,Y=L.lazyRender=function(){var t,e=I.length;for(H={};--e>-1;)t=I[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);I.length=0};X._startTime=a.time,j._startTime=a.frame,X._active=j._active=!0,setTimeout(Y,1),P._updateRoot=N.render=function(){var t,e,i;if(I.length&&Y(),X.render((a.time-X._startTime)*X._timeScale,!1,!1),j.render((a.frame-j._startTime)*j._timeScale,!1,!1),I.length&&Y(),a.frame>=U){U=a.frame+(parseInt(N.autoSleep,10)||120);for(i in z){for(e=z[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete z[i]}if(i=X._first,(!i||i._paused)&&N.autoSleep&&!j._first&&1===a._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||a.sleep()}}},a.addEventListener("tick",P._updateRoot);var q=function(t,e,i){var n,r,o=t._gsTweenID;if(z[o||(t._gsTweenID=o="t"+B++)]||(z[o]={target:t,tweens:[]}),e&&(n=z[o].tweens,n[r=n.length]=e,i))for(;--r>-1;)n[r]===e&&n.splice(r,1);return z[o].tweens},G=function(t,e,i,n){var r,o,s=t.vars.onOverwrite;return s&&(r=s(t,e,i,n)),s=N.onOverwrite,s&&(o=s(t,e,i,n)),r!==!1&&o!==!1},$=function(t,e,i,n,r){var o,s,a,l;if(1===n||n>=4){for(l=r.length,o=0;l>o;o++)if((a=r[o])!==e)a._gc||G(a,e)&&a._enabled(!1,!1)&&(s=!0);else if(5===n)break;return s}var c,h=e._startTime+u,d=[],f=0,p=0===e._duration;for(o=r.length;--o>-1;)(a=r[o])===e||a._gc||a._paused||(a._timeline!==e._timeline?(c=c||Q(e,0,p),0===Q(a,c,p)&&(d[f++]=a)):a._startTime<=h&&a._startTime+a.totalDuration()/a._timeScale>h&&((p||!a._initted)&&h-a._startTime<=2e-10||(d[f++]=a)));for(o=f;--o>-1;)if(a=d[o],2===n&&a._kill(i,t,e)&&(s=!0),2!==n||!a._firstPT&&a._initted){if(2!==n&&!G(a,e))continue;a._enabled(!1,!1)&&(s=!0)}return s},Q=function(t,e,i){for(var n=t._timeline,r=n._timeScale,o=t._startTime;n._timeline;){if(o+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return o/=r,o>e?o-e:i&&o===e||!t._initted&&2*u>o-e?u:(o+=t.totalDuration()/t._timeScale/r)>e+u?0:o-e-u};s._init=function(){var t,e,i,n,r,o=this.vars,s=this._overwrittenProps,a=this._duration,l=!!o.immediateRender,c=o.ease;if(o.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(n in o.startAt)r[n]=o.startAt[n];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=l&&o.lazy!==!1,r.startAt=r.delay=null,this._startAt=N.to(this.target,0,r),l)if(this._time>0)this._startAt=null;else if(0!==a)return}else if(o.runBackwards&&0!==a)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),i={};for(n in o)V[n]&&"autoCSS"!==n||(i[n]=o[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&o.lazy!==!1,i.immediateRender=l,this._startAt=N.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof b?c:"function"==typeof c?new b(c,o.easeParams):x[c]||N.defaultEase:N.defaultEase,o.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],s?s[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,s);if(e&&N._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=o.onUpdate,this._initted=!0},s._initProps=function(e,i,n,r){var o,s,a,l,c,h;if(null==e)return!1;H[e._gsTweenID]&&Y(),this.vars.css||e.style&&e!==t&&e.nodeType&&F.css&&this.vars.autoCSS!==!1&&M(this.vars,e);for(o in this.vars){if(h=this.vars[o],V[o])h&&(h instanceof Array||h.push&&p(h))&&-1!==h.join("").indexOf("{self}")&&(this.vars[o]=h=this._swapSelfInParams(h,this));else if(F[o]&&(l=new F[o])._onInitTween(e,this.vars[o],this)){for(this._firstPT=c={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:!0,n:o,pg:!0,pr:l._priority},s=l._overwriteProps.length;--s>-1;)i[l._overwriteProps[s]]=this._firstPT;(l._priority||l._onInitAllProps)&&(a=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=i[o]=c={_next:this._firstPT,t:e,p:o,f:"function"==typeof e[o],n:o,pg:!1,pr:0},c.s=c.f?e[o.indexOf("set")||"function"!=typeof e["get"+o.substr(3)]?o:"get"+o.substr(3)]():parseFloat(e[o]),c.c="string"==typeof h&&"="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*Number(h.substr(2)):Number(h)-c.s||0;c&&c._next&&(c._next._prev=c)}return r&&this._kill(r,e)?this._initProps(e,i,n,r):this._overwrite>1&&this._firstPT&&n.length>1&&$(e,this,i,this._overwrite,n)?(this._kill(i,e),this._initProps(e,i,n,r)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(H[e._gsTweenID]=!0),a)},s.render=function(t,e,i){var n,r,o,s,a=this._time,l=this._duration,c=this._rawPrevTime;if(t>=l)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>c||c===u&&"isPause"!==this.data)&&c!==t&&(i=!0,c>u&&(r="onReverseComplete")),this._rawPrevTime=s=!e||t||c===t?t:u);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===l&&c>0)&&(r="onReverseComplete",n=this._reversed),0>t&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(c>=0&&(c!==u||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=s=!e||t||c===t?t:u)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var h=t/l,d=this._easeType,f=this._easePower;(1===d||3===d&&h>=.5)&&(h=1-h),3===d&&(h*=2),1===f?h*=h:2===f?h*=h*h:3===f?h*=h*h*h:4===f&&(h*=h*h*h*h),1===d?this.ratio=1-h:2===d?this.ratio=h:.5>t/l?this.ratio=h/2:this.ratio=1-h/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=c,I.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&t>=0&&(this._active=!0),0===a&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==l||e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||_))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(0>t&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,i),e||(this._time!==a||n)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||_)),r&&(this._gc&&!i||(0>t&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this.vars[r].apply(this.vars[r+"Scope"]||this,this.vars[r+"Params"]||_),0===l&&this._rawPrevTime===u&&s!==u&&(this._rawPrevTime=0)))}},s._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:N.selector(e)||e;var n,r,o,s,a,l,c,h,u;if((p(e)||D(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n])&&(l=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){a=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(c=t||a,h=t!==r&&"all"!==r&&t!==a&&("object"!=typeof t||!t._tempKill),i&&(N.onOverwrite||this.vars.onOverwrite)){for(o in c)a[o]&&(u||(u=[]),u.push(o));if(!G(this,i,e,u))return!1}for(o in c)(s=a[o])&&(s.pg&&s.t._kill(c)&&(l=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete a[o]),h&&(r[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},s.invalidate=function(){return this._notifyPluginsOfEnabled&&N._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],P.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-u,this.render(-this._delay)),this},s._enabled=function(t,e){if(l||a.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=q(n[i],this,!0);else this._siblings=q(this.target,this,!0)}return P.prototype._enabled.call(this,t,e),this._notifyPluginsOfEnabled&&this._firstPT?N._onPluginEvent(t?"_onEnable":"_onDisable",this):!1},N.to=function(t,e,i){return new N(t,e,i)},N.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new N(t,e,i)},N.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new N(t,e,n)},N.delayedCall=function(t,e,i,n,r){return new N(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:n,onReverseComplete:e,onReverseCompleteParams:i,onReverseCompleteScope:n,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},N.set=function(t,e){return new N(t,0,e)},N.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:N.selector(t)||t;var i,n,r,o;if((p(t)||D(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(N.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(o=n[i],r=i;--r>-1;)o===n[r]&&n.splice(i,1)}else for(n=q(t).concat(),i=n.length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n},N.killTweensOf=N.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=N.getTweensOf(t,e),r=n.length;--r>-1;)n[r]._kill(i,t)};var K=y("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=K.prototype},!0);if(s=K.prototype,K.version="1.10.1",K.API=2,s._firstPT=null,s._addTween=function(t,e,i,n,r,o){var s,a;return null!=n&&(s="number"==typeof n||"="!==n.charAt(1)?Number(n)-i:parseInt(n.charAt(0)+"1",10)*Number(n.substr(2)))?(this._firstPT=a={_next:this._firstPT,t:t,p:e,s:i,c:s,f:"function"==typeof t[e],n:r||e,r:o},a._next&&(a._next._prev=a),a):void 0},s.setRatio=function(t){for(var e,i=this._firstPT,n=1e-6;i;)e=i.c*t+i.s,i.r?e=Math.round(e):n>e&&e>-n&&(e=0),i.f?i.t[i.p](e):i.t[i.p]=e,i=i._next},s._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},s._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},N._onPluginEvent=function(t,e){var i,n,r,o,s,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(s=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:o)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:o=a,a=s}a=e._firstPT=r}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(i=!0),a=a._next;return i},K.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===K.API&&(F[(new t[e])._propName]=t[e]);return!0},v.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,r=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},s=y("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){K.call(this,i,n),this._overwriteProps=r||[]},t.global===!0),a=s.prototype=new K(i);a.constructor=s,s.API=t.API;for(e in o)"function"==typeof t[e]&&(a[o[e]]=t[e]);return s.version=t.version,K.activate([s]),s},r=t._gsQueue){for(o=0;o<r.length;o++)r[o]();for(s in g)g[s].func||t.console.log("GSAP encountered missing dependency: com.greensock."+s)}l=!1}}("undefined"!=typeof e&&e.exports&&"undefined"!=typeof t?t:this||window,"TweenLite")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],TweenMax:[function(t,e,i){(function(t){var i="undefined"!=typeof e&&e.exports&&"undefined"!=typeof t?t:this||window;(i._gsQueue||(i._gsQueue=[])).push(function(){"use strict";i._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},r=function(t,e,i){var n,r,o=t.cycle;for(n in o)r=o[n],t[n]="function"==typeof r?r.call(e[i],i):r[i%r.length];delete t.cycle},o=function(t,e,n){i.call(this,t,e,n),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=o.prototype.render},s=1e-10,a=i._internals,l=a.isSelector,c=a.isArray,h=o.prototype=i.to({},.1,{}),u=[];o.version="1.18.4",h.constructor=o,h.kill()._gc=!1,o.killTweensOf=o.killDelayedCallsTo=i.killTweensOf,o.getTweensOf=i.getTweensOf,o.lagSmoothing=i.lagSmoothing,o.ticker=i.ticker,o.render=i.render,h.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),i.prototype.invalidate.call(this)},h.updateTo=function(t,e){var n,r=this.ratio,o=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(n in t)this.vars[n]=t[n];if(this._initted||o)if(e)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var s=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(s,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||o)for(var a,l=1/(1-r),c=this._firstPT;c;)a=c.s+c.c,c.c*=l,c.s=a-c.c,c=c._next;return this},h.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();
var n,r,o,l,c,h,u,d,f=this._dirty?this.totalDuration():this._totalDuration,p=this._time,g=this._totalTime,m=this._cycle,v=this._duration,y=this._rawPrevTime;if(t>=f-1e-7?(this._totalTime=f,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=v,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===v&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0>y||0>=t&&t>=-1e-7||y===s&&"isPause"!==this.data)&&y!==t&&(i=!0,y>s&&(r="onReverseComplete")),this._rawPrevTime=d=!e||t||y===t?t:s)):1e-7>t?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==g||0===v&&y>0)&&(r="onReverseComplete",n=this._reversed),0>t&&(this._active=!1,0===v&&(this._initted||!this.vars.lazy||i)&&(y>=0&&(i=!0),this._rawPrevTime=d=!e||t||y===t?t:s)),this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(l=v+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&t>=g&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!==(1&this._cycle)&&(this._time=v-this._time),this._time>v?this._time=v:this._time<0&&(this._time=0)),this._easeType?(c=this._time/v,h=this._easeType,u=this._easePower,(1===h||3===h&&c>=.5)&&(c=1-c),3===h&&(c*=2),1===u?c*=c:2===u?c*=c*c:3===u?c*=c*c*c:4===u&&(c*=c*c*c*c),1===h?this.ratio=1-c:2===h?this.ratio=c:this._time/v<.5?this.ratio=c/2:this.ratio=1-c/2):this.ratio=this._ease.getRatio(this._time/v)),p===this._time&&!i&&m===this._cycle)return void(g!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=p,this._totalTime=g,this._rawPrevTime=y,this._cycle=m,a.lazyTweens.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/v):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==p&&t>=0&&(this._active=!0),0===g&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==v||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(0>t&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||(this._totalTime!==g||r)&&this._callback("onUpdate")),this._cycle!==m&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),r&&(this._gc&&!i||(0>t&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===v&&this._rawPrevTime===s&&d!==s&&(this._rawPrevTime=0)))},o.to=function(t,e,i){return new o(t,e,i)},o.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new o(t,e,i)},o.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new o(t,e,n)},o.staggerTo=o.allTo=function(t,e,s,a,h,d,f){a=a||0;var p,g,m,v,y=0,w=[],_=function(){s.onComplete&&s.onComplete.apply(s.onCompleteScope||this,arguments),h.apply(f||s.callbackScope||this,d||u)},b=s.cycle,x=s.startAt&&s.startAt.cycle;for(c(t)||("string"==typeof t&&(t=i.selector(t)||t),l(t)&&(t=n(t))),t=t||[],0>a&&(t=n(t),t.reverse(),a*=-1),p=t.length-1,m=0;p>=m;m++){g={};for(v in s)g[v]=s[v];if(b&&r(g,t,m),x){x=g.startAt={};for(v in s.startAt)x[v]=s.startAt[v];r(g.startAt,t,m)}g.delay=y+(g.delay||0),m===p&&h&&(g.onComplete=_),w[m]=new o(t[m],e,g),y+=a}return w},o.staggerFrom=o.allFrom=function(t,e,i,n,r,s,a){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,o.staggerTo(t,e,i,n,r,s,a)},o.staggerFromTo=o.allFromTo=function(t,e,i,n,r,s,a,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,o.staggerTo(t,e,n,r,s,a,l)},o.delayedCall=function(t,e,i,n,r){return new o(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:r,overwrite:0})},o.set=function(t,e){return new o(t,0,e)},o.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var d=function(t,e){for(var n=[],r=0,o=t._first;o;)o instanceof i?n[r++]=o:(e&&(n[r++]=o),n=n.concat(d(o,e)),r=n.length),o=o._next;return n},f=o.getAllTweens=function(e){return d(t._rootTimeline,e).concat(d(t._rootFramesTimeline,e))};o.killAll=function(t,i,n,r){null==i&&(i=!0),null==n&&(n=!0);var o,s,a,l=f(0!=r),c=l.length,h=i&&n&&r;for(a=0;c>a;a++)s=l[a],(h||s instanceof e||(o=s.target===s.vars.onComplete)&&n||i&&!o)&&(t?s.totalTime(s._reversed?0:s.totalDuration()):s._enabled(!1,!1))},o.killChildTweensOf=function(t,e){if(null!=t){var r,s,h,u,d,f=a.tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),l(t)&&(t=n(t)),c(t))for(u=t.length;--u>-1;)o.killChildTweensOf(t[u],e);else{r=[];for(h in f)for(s=f[h].target.parentNode;s;)s===t&&(r=r.concat(f[h].tweens)),s=s.parentNode;for(d=r.length,u=0;d>u;u++)e&&r[u].totalTime(r[u].totalDuration()),r[u]._enabled(!1,!1)}}};var p=function(t,i,n,r){i=i!==!1,n=n!==!1,r=r!==!1;for(var o,s,a=f(r),l=i&&n&&r,c=a.length;--c>-1;)s=a[c],(l||s instanceof e||(o=s.target===s.vars.onComplete)&&n||i&&!o)&&s.paused(t)};return o.pauseAll=function(t,e,i){p(!0,t,e,i)},o.resumeAll=function(t,e,i){p(!1,t,e,i)},o.globalTimeScale=function(e){var n=t._rootTimeline,r=i.ticker.time;return arguments.length?(e=e||s,n._startTime=r-(r-n._startTime)*n._timeScale/e,n=t._rootFramesTimeline,r=i.ticker.frame,n._startTime=r-(r-n._startTime)*n._timeScale/e,n._timeScale=t._rootTimeline._timeScale=e,e):n._timeScale},h.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},h.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},h.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},h.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},h.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},h.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},h.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},h.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},o},!0),i._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,n){var r=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,r=this.vars;for(n in r)i=r[n],c(i)&&-1!==i.join("").indexOf("{self}")&&(r[n]=this._swapSelfInParams(i));c(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},o=1e-10,s=n._internals,a=r._internals={},l=s.isSelector,c=s.isArray,h=s.lazyTweens,u=s.lazyRender,d=i._gsDefine.globals,f=function(t){var e,i={};for(e in t)i[e]=t[e];return i},p=function(t,e,i){var n,r,o=t.cycle;for(n in o)r=o[n],t[n]="function"==typeof r?r.call(e[i],i):r[i%r.length];delete t.cycle},g=a.pauseCallback=function(){},m=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},v=r.prototype=new e;return r.version="1.18.4",v.constructor=r,v.kill()._gc=v._forcingPlayhead=v._hasPause=!1,v.to=function(t,e,i,r){var o=i.repeat&&d.TweenMax||n;return e?this.add(new o(t,e,i),r):this.set(t,i,r)},v.from=function(t,e,i,r){return this.add((i.repeat&&d.TweenMax||n).from(t,e,i),r)},v.fromTo=function(t,e,i,r,o){var s=r.repeat&&d.TweenMax||n;return e?this.add(s.fromTo(t,e,i,r),o):this.set(t,r,o)},v.staggerTo=function(t,e,i,o,s,a,c,h){var u,d,g=new r({onComplete:a,onCompleteParams:c,callbackScope:h,smoothChildTiming:this.smoothChildTiming}),v=i.cycle;for("string"==typeof t&&(t=n.selector(t)||t),t=t||[],l(t)&&(t=m(t)),o=o||0,0>o&&(t=m(t),t.reverse(),o*=-1),d=0;d<t.length;d++)u=f(i),u.startAt&&(u.startAt=f(u.startAt),u.startAt.cycle&&p(u.startAt,t,d)),v&&p(u,t,d),g.to(t[d],e,u,d*o);return this.add(g,s)},v.staggerFrom=function(t,e,i,n,r,o,s,a){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,r,o,s,a)},v.staggerFromTo=function(t,e,i,n,r,o,s,a,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,r,o,s,a,l)},v.call=function(t,e,i,r){return this.add(n.delayedCall(0,t,e,i),r)},v.set=function(t,e,i){return i=this._parseTimeOrLabel(i,0,!0),null==e.immediateRender&&(e.immediateRender=i===this._time&&!this._paused),this.add(new n(t,0,e),i)},r.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var i,o,s=new r(t),a=s._timeline;for(null==e&&(e=!0),a._remove(s,!0),s._startTime=0,s._rawPrevTime=s._time=s._totalTime=a._time,i=a._first;i;)o=i._next,e&&i instanceof n&&i.target===i.vars.onComplete||s.add(i,i._startTime-i._delay),i=o;return a.add(s,0),s},v.add=function(i,o,s,a){var l,h,u,d,f,p;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,i)),!(i instanceof t)){if(i instanceof Array||i&&i.push&&c(i)){for(s=s||"normal",a=a||0,l=o,h=i.length,u=0;h>u;u++)c(d=i[u])&&(d=new r({tweens:d})),this.add(d,l),"string"!=typeof d&&"function"!=typeof d&&("sequence"===s?l=d._startTime+d.totalDuration()/d._timeScale:"start"===s&&(d._startTime-=d.delay())),l+=a;return this._uncache(!0)}if("string"==typeof i)return this.addLabel(i,o);if("function"!=typeof i)throw"Cannot add "+i+" into the timeline; it is not a tween, timeline, function, or string.";i=n.delayedCall(0,i)}if(e.prototype.add.call(this,i,o),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(f=this,p=f.rawTime()>i._startTime;f._timeline;)p&&f._timeline.smoothChildTiming?f.totalTime(f._totalTime,!0):f._gc&&f._enabled(!0,!1),f=f._timeline;return this},v.remove=function(e){if(e instanceof t){this._remove(e,!1);var i=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:i._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&c(e)){for(var n=e.length;--n>-1;)this.remove(e[n]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},v._remove=function(t,i){e.prototype._remove.call(this,t,i);var n=this._last;return n?this._time>n._startTime+n._totalDuration/n._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},v.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},v.insert=v.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},v.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},v.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},v.addPause=function(t,e,i,r){var o=n.delayedCall(0,g,i,r||this);return o.vars.onComplete=o.vars.onReverseComplete=e,o.data="isPause",this._hasPause=!0,this.add(o,t)},v.removeLabel=function(t){return delete this._labels[t],this},v.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},v._parseTimeOrLabel=function(e,i,n,r){var o;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&c(r)))for(o=r.length;--o>-1;)r[o]instanceof t&&r[o].timeline===this&&this.remove(r[o]);if("string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,n);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(o=e.indexOf("="),-1===o)return null==this._labels[e]?n?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(o-1)+"1",10)*Number(e.substr(o+1)),e=o>1?this._parseTimeOrLabel(e.substr(0,o-1),0,n):this.duration()}return Number(e)+i},v.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},v.stop=function(){return this.paused(!0)},v.gotoAndPlay=function(t,e){return this.play(t,e)},v.gotoAndStop=function(t,e){return this.pause(t,e)},v.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,r,s,a,l,c,d,f=this._dirty?this.totalDuration():this._totalDuration,p=this._time,g=this._startTime,m=this._timeScale,v=this._paused;if(t>=f-1e-7)this._totalTime=this._time=f,this._reversed||this._hasPausedChild()||(r=!0,a="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=t&&t>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===o)&&this._rawPrevTime!==t&&this._first&&(l=!0,this._rawPrevTime>o&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:o,t=f+1e-4;else if(1e-7>t)if(this._totalTime=this._time=0,(0!==p||0===this._duration&&this._rawPrevTime!==o&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0))&&(a="onReverseComplete",r=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=r=!0,a="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:o,0===t&&r)for(n=this._first;n&&0===n._startTime;)n._duration||(r=!1),n=n._next;t=0,this._initted||(l=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=p)for(n=this._first;n&&n._startTime<=t&&!c;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(c=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!c;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(c=n),n=n._prev;c&&(this._time=t=c._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==p&&this._first||i||l||c){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&t>0&&(this._active=!0),0===p&&this.vars.onStart&&0!==this._time&&(e||this._callback("onStart")),d=this._time,d>=p)for(n=this._first;n&&(s=n._next,d===this._time&&(!this._paused||v));)(n._active||n._startTime<=d&&!n._paused&&!n._gc)&&(c===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=s;else for(n=this._last;n&&(s=n._prev,d===this._time&&(!this._paused||v));){if(n._active||n._startTime<=p&&!n._paused&&!n._gc){if(c===n){for(c=n._prev;c&&c.endTime()>this._time;)c.render(c._reversed?c.totalDuration()-(t-c._startTime)*c._timeScale:(t-c._startTime)*c._timeScale,e,i),c=c._prev;c=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=s}this._onUpdate&&(e||(h.length&&u(),this._callback("onUpdate"))),a&&(this._gc||g!==this._startTime&&m===this._timeScale||(0===this._time||f>=this.totalDuration())&&(r&&(h.length&&u(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this._callback(a)))}},v._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof r&&t._hasPausedChild())return!0;t=t._next}return!1},v.getChildren=function(t,e,i,r){r=r||-9999999999;for(var o=[],s=this._first,a=0;s;)s._startTime<r||(s instanceof n?e!==!1&&(o[a++]=s):(i!==!1&&(o[a++]=s),t!==!1&&(o=o.concat(s.getChildren(!0,e,i)),a=o.length))),s=s._next;return o},v.getTweensOf=function(t,e){var i,r,o=this._gc,s=[],a=0;for(o&&this._enabled(!0,!0),i=n.getTweensOf(t),r=i.length;--r>-1;)(i[r].timeline===this||e&&this._contains(i[r]))&&(s[a++]=i[r]);return o&&this._enabled(!1,!0),s},v.recent=function(){return this._recent},v._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},v.shiftChildren=function(t,e,i){i=i||0;for(var n,r=this._first,o=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(n in o)o[n]>=i&&(o[n]+=t);return this._uncache(!0)},v._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(t,e)&&(r=!0);return r},v.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},v.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},v._enabled=function(t,i){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,i)},v.totalTime=function(e,i,n){this._forcingPlayhead=!0;var r=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},v.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},v.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,r=this._last,o=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>o&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):o=r._startTime,r._startTime<0&&!r._paused&&(n-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),o=0),i=r._startTime+r._totalDuration/r._timeScale,i>n&&(n=i),r=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},v.paused=function(e){if(!e)for(var i=this._first,n=this._time;i;)i._startTime===n&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},v.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},v.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},r},!0),i._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,i){var n=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},r=1e-10,o=e._internals,s=o.lazyTweens,a=o.lazyRender,l=new i(null,null,1,0),c=n.prototype=new t;return c.constructor=n,c.kill()._gc=!1,n.version="1.18.4",c.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},c.addCallback=function(t,i,n,r){return this.add(e.delayedCall(0,t,n,r),i)},c.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),n=i.length,r=this._parseTimeOrLabel(e);--n>-1;)i[n]._startTime===r&&i[n]._enabled(!1,!1);return this},c.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},c.tweenTo=function(t,i){i=i||{};var n,r,o,s={ease:l,useFrames:this.usesFrames(),immediateRender:!1};for(r in i)s[r]=i[r];return s.time=this._parseTimeOrLabel(t),n=Math.abs(Number(s.time)-this._time)/this._timeScale||.001,o=new e(this,n,s),s.onStart=function(){o.target.paused(!0),o.vars.time!==o.target.time()&&n===o.duration()&&o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale),i.onStart&&o._callback("onStart")},o},c.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=i.immediateRender!==!1;var n=this.tweenTo(e,i);return n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},c.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,o,l,c,h,u,d,f,p=this._dirty?this.totalDuration():this._totalDuration,g=this._duration,m=this._time,v=this._totalTime,y=this._startTime,w=this._timeScale,_=this._rawPrevTime,b=this._paused,x=this._cycle;if(t>=p-1e-7)this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(o=!0,c="onComplete",h=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=t&&t>=-1e-7||0>_||_===r)&&_!==t&&this._first&&(h=!0,_>r&&(c="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=g,t=g+1e-4);else if(1e-7>t)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==m||0===g&&_!==r&&(_>0||0>t&&_>=0)&&!this._locked)&&(c="onReverseComplete",o=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(h=o=!0,c="onReverseComplete"):_>=0&&this._first&&(h=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=g||!e||t||this._rawPrevTime===t?t:r,0===t&&o)for(n=this._first;n&&0===n._startTime;)n._duration||(o=!1),n=n._next;t=0,this._initted||(h=!0)}else if(0===g&&0>_&&(h=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(u=g+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&t>=v&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!==(1&this._cycle)&&(this._time=g-this._time),this._time>g?(this._time=g,t=g+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if(t=this._time,t>=m)for(n=this._first;n&&n._startTime<=t&&!d;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(d=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!d;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(d=n),n=n._prev;d&&(this._time=t=d._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==x&&!this._locked){var C=this._yoyo&&0!==(1&x),T=C===(this._yoyo&&0!==(1&this._cycle)),S=this._totalTime,E=this._cycle,k=this._rawPrevTime,R=this._time;if(this._totalTime=x*g,this._cycle<x?C=!C:this._totalTime+=g,this._time=m,this._rawPrevTime=0===g?_-1e-4:_,this._cycle=x,this._locked=!0,m=C?0:g,this.render(m,e,0===g),e||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),m!==this._time)return;if(T&&(m=C?g+1e-4:-1e-4,this.render(m,!0,!1)),this._locked=!1,this._paused&&!b)return;this._time=R,this._totalTime=S,this._cycle=E,this._rawPrevTime=k}if(!(this._time!==m&&this._first||i||h||d))return void(v!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==v&&t>0&&(this._active=!0),0===v&&this.vars.onStart&&0!==this._totalTime&&(e||this._callback("onStart")),f=this._time,f>=m)for(n=this._first;n&&(l=n._next,f===this._time&&(!this._paused||b));)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(d===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=l;else for(n=this._last;n&&(l=n._prev,f===this._time&&(!this._paused||b));){if(n._active||n._startTime<=m&&!n._paused&&!n._gc){if(d===n){for(d=n._prev;d&&d.endTime()>this._time;)d.render(d._reversed?d.totalDuration()-(t-d._startTime)*d._timeScale:(t-d._startTime)*d._timeScale,e,i),d=d._prev;d=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=l}this._onUpdate&&(e||(s.length&&a(),this._callback("onUpdate"))),c&&(this._locked||this._gc||y!==this._startTime&&w===this._timeScale||(0===this._time||p>=this.totalDuration())&&(o&&(s.length&&a(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[c]&&this._callback(c)))},c.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var n,r,o=[],s=this.getChildren(t,e,i),a=0,l=s.length;for(n=0;l>n;n++)r=s[n],r.isActive()&&(o[a++]=r);return o},c.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),n=i.length;for(e=0;n>e;e++)if(i[e].time>t)return i[e].name;return null},c.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(e[i].time<t)return e[i].name;return null},c.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},c.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},c.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},c.totalDuration=function(e){return arguments.length?-1!==this._repeat&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},c.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},c.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},c.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},c.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},c.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},n},!0),function(){var t=180/Math.PI,e=[],n=[],r=[],o={},s=i._gsDefine.globals,a=function(t,e,i,n){this.a=t,this.b=e,this.c=i,this.d=n,this.da=n-t,this.ca=i-t,this.ba=e-t},l=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",c=function(t,e,i,n){var r={a:t},o={},s={},a={c:n},l=(t+e)/2,c=(e+i)/2,h=(i+n)/2,u=(l+c)/2,d=(c+h)/2,f=(d-u)/8;return r.b=l+(t-l)/4,o.b=u+f,r.c=o.a=(r.b+o.b)/2,o.c=s.a=(u+d)/2,s.b=d-f,a.b=h+(n-h)/4,s.c=a.a=(s.b+a.b)/2,[r,o,s,a]},h=function(t,i,o,s,a){var l,h,u,d,f,p,g,m,v,y,w,_,b,x=t.length-1,C=0,T=t[0].a;for(l=0;x>l;l++)f=t[C],h=f.a,u=f.d,d=t[C+1].d,a?(w=e[l],_=n[l],b=(_+w)*i*.25/(s?.5:r[l]||.5),p=u-(u-h)*(s?.5*i:0!==w?b/w:0),g=u+(d-u)*(s?.5*i:0!==_?b/_:0),m=u-(p+((g-p)*(3*w/(w+_)+.5)/4||0))):(p=u-(u-h)*i*.5,g=u+(d-u)*i*.5,m=u-(p+g)/2),p+=m,g+=m,f.c=v=p,0!==l?f.b=T:f.b=T=f.a+.6*(f.c-f.a),f.da=u-h,f.ca=v-h,f.ba=T-h,o?(y=c(h,T,v,u),t.splice(C,1,y[0],y[1],y[2],y[3]),C+=4):C++,T=g;f=t[C],f.b=T,f.c=T+.4*(f.d-T),f.da=f.d-f.a,f.ca=f.c-f.a,f.ba=T-f.a,o&&(y=c(f.a,T,f.c,f.d),t.splice(C,1,y[0],y[1],y[2],y[3]))},u=function(t,i,r,o){var s,l,c,h,u,d,f=[];if(o)for(t=[o].concat(t),l=t.length;--l>-1;)"string"==typeof(d=t[l][i])&&"="===d.charAt(1)&&(t[l][i]=o[i]+Number(d.charAt(0)+d.substr(2)));if(s=t.length-2,0>s)return f[0]=new a(t[0][i],0,0,t[-1>s?0:1][i]),f;for(l=0;s>l;l++)c=t[l][i],h=t[l+1][i],f[l]=new a(c,0,0,h),r&&(u=t[l+2][i],e[l]=(e[l]||0)+(h-c)*(h-c),n[l]=(n[l]||0)+(u-h)*(u-h));return f[l]=new a(t[l][i],0,0,t[l+1][i]),f},d=function(t,i,s,a,c,d){var f,p,g,m,v,y,w,_,b={},x=[],C=d||t[0];c="string"==typeof c?","+c+",":l,null==i&&(i=1);for(p in t[0])x.push(p);if(t.length>1){for(_=t[t.length-1],w=!0,f=x.length;--f>-1;)if(p=x[f],Math.abs(C[p]-_[p])>.05){w=!1;break}w&&(t=t.concat(),d&&t.unshift(d),t.push(t[1]),d=t[t.length-3])}for(e.length=n.length=r.length=0,f=x.length;--f>-1;)p=x[f],o[p]=-1!==c.indexOf(","+p+","),b[p]=u(t,p,o[p],d);for(f=e.length;--f>-1;)e[f]=Math.sqrt(e[f]),n[f]=Math.sqrt(n[f]);if(!a){for(f=x.length;--f>-1;)if(o[p])for(g=b[x[f]],y=g.length-1,m=0;y>m;m++)v=g[m+1].da/n[m]+g[m].da/e[m]||0,r[m]=(r[m]||0)+v*v;for(f=r.length;--f>-1;)r[f]=Math.sqrt(r[f])}for(f=x.length,m=s?4:1;--f>-1;)p=x[f],g=b[p],h(g,i,s,a,o[p]),w&&(g.splice(0,m),g.splice(g.length-m,m));return b},f=function(t,e,i){e=e||"soft";var n,r,o,s,l,c,h,u,d,f,p,g={},m="cubic"===e?3:2,v="soft"===e,y=[];if(v&&i&&(t=[i].concat(t)),null==t||t.length<m+1)throw"invalid Bezier data";for(d in t[0])y.push(d);for(c=y.length;--c>-1;){for(d=y[c],g[d]=l=[],f=0,u=t.length,h=0;u>h;h++)n=null==i?t[h][d]:"string"==typeof(p=t[h][d])&&"="===p.charAt(1)?i[d]+Number(p.charAt(0)+p.substr(2)):Number(p),v&&h>1&&u-1>h&&(l[f++]=(n+l[f-2])/2),l[f++]=n;for(u=f-m+1,f=0,h=0;u>h;h+=m)n=l[h],r=l[h+1],o=l[h+2],s=2===m?0:l[h+3],l[f++]=p=3===m?new a(n,r,o,s):new a(n,(2*r+n)/3,(2*r+o)/3,o);l.length=f}return g},p=function(t,e,i){for(var n,r,o,s,a,l,c,h,u,d,f,p=1/i,g=t.length;--g>-1;)for(d=t[g],o=d.a,s=d.d-o,a=d.c-o,l=d.b-o,n=r=0,h=1;i>=h;h++)c=p*h,u=1-c,n=r-(r=(c*c*s+3*u*(c*a+u*l))*c),f=g*i+h-1,e[f]=(e[f]||0)+n*n},g=function(t,e){e=e>>0||6;var i,n,r,o,s=[],a=[],l=0,c=0,h=e-1,u=[],d=[];for(i in t)p(t[i],s,e);for(r=s.length,n=0;r>n;n++)l+=Math.sqrt(s[n]),o=n%e,d[o]=l,o===h&&(c+=l,o=n/e>>0,u[o]=d,a[o]=c,l=0,d=[]);return{length:c,lengths:a,segments:u}},m=i._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.5",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._round={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var n,r,o,s,a,l=e.values||[],c={},h=l[0],u=e.autoRotate||i.vars.orientToBezier;this._autoRotate=u?u instanceof Array?u:[["x","y","rotation",u===!0?0:Number(u)||0]]:null;for(n in h)this._props.push(n);for(o=this._props.length;--o>-1;)n=this._props[o],this._overwriteProps.push(n),r=this._func[n]="function"==typeof t[n],c[n]=r?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),a||c[n]!==l[0][n]&&(a=c);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?d(l,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,a):f(l,e.type,c),this._segCount=this._beziers[n].length,this._timeRes){var p=g(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(u=this._autoRotate)for(this._initialRotations=[],u[0]instanceof Array||(this._autoRotate=u=[u]),o=u.length;--o>-1;){for(s=0;3>s;s++)n=u[o][s],this._func[n]="function"==typeof t[n]?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]:!1;n=u[o][2],this._initialRotations[o]=(this._func[n]?this._func[n].call(this._target):this._target[n])||0}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(e){var i,n,r,o,s,a,l,c,h,u,d=this._segCount,f=this._func,p=this._target,g=e!==this._startRatio;if(this._timeRes){if(h=this._lengths,u=this._curSeg,e*=this._length,r=this._li,e>this._l2&&d-1>r){for(c=d-1;c>r&&(this._l2=h[++r])<=e;);this._l1=h[r-1],this._li=r,this._curSeg=u=this._segments[r],this._s2=u[this._s1=this._si=0]}else if(e<this._l1&&r>0){for(;r>0&&(this._l1=h[--r])>=e;);0===r&&e<this._l1?this._l1=0:r++,this._l2=h[r],this._li=r,this._curSeg=u=this._segments[r],this._s1=u[(this._si=u.length-1)-1]||0,this._s2=u[this._si]}if(i=r,e-=this._l1,r=this._si,e>this._s2&&r<u.length-1){for(c=u.length-1;c>r&&(this._s2=u[++r])<=e;);
this._s1=u[r-1],this._si=r}else if(e<this._s1&&r>0){for(;r>0&&(this._s1=u[--r])>=e;);0===r&&e<this._s1?this._s1=0:r++,this._s2=u[r],this._si=r}a=(r+(e-this._s1)/(this._s2-this._s1))*this._prec||0}else i=0>e?0:e>=1?d-1:d*e>>0,a=(e-i*(1/d))*d;for(n=1-a,r=this._props.length;--r>-1;)o=this._props[r],s=this._beziers[o][i],l=(a*a*s.da+3*n*(a*s.ca+n*s.ba))*a+s.a,this._round[o]&&(l=Math.round(l)),f[o]?p[o](l):p[o]=l;if(this._autoRotate){var m,v,y,w,_,b,x,C=this._autoRotate;for(r=C.length;--r>-1;)o=C[r][2],b=C[r][3]||0,x=C[r][4]===!0?1:t,s=this._beziers[C[r][0]],m=this._beziers[C[r][1]],s&&m&&(s=s[i],m=m[i],v=s.a+(s.b-s.a)*a,w=s.b+(s.c-s.b)*a,v+=(w-v)*a,w+=(s.c+(s.d-s.c)*a-w)*a,y=m.a+(m.b-m.a)*a,_=m.b+(m.c-m.b)*a,y+=(_-y)*a,_+=(m.c+(m.d-m.c)*a-_)*a,l=g?Math.atan2(_-y,w-v)*x+b:this._initialRotations[r],f[o]?p[o](l):p[o]=l)}}}),v=m.prototype;m.bezierThrough=d,m.cubicToQuadratic=c,m._autoCSS=!0,m.quadraticToCubic=function(t,e,i){return new a(t,(2*e+t)/3,(2*e+i)/3,i)},m._cssRegister=function(){var t=s.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,n=e._setPluginRatio,r=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,o,s,a,l){e instanceof Array&&(e={values:e}),l=new m;var c,h,u,d=e.values,f=d.length-1,p=[],g={};if(0>f)return a;for(c=0;f>=c;c++)u=i(t,d[c],s,a,l,f!==c),p[c]=u.end;for(h in e)g[h]=e[h];return g.values=p,a=new r(t,"bezier",0,0,u.pt,2),a.data=u,a.plugin=l,a.setRatio=n,0===g.autoRotate&&(g.autoRotate=!0),!g.autoRotate||g.autoRotate instanceof Array||(c=g.autoRotate===!0?0:Number(g.autoRotate),g.autoRotate=null!=u.end.left?[["left","top","rotation",c,!1]]:null!=u.end.x?[["x","y","rotation",c,!1]]:!1),g.autoRotate&&(s._transform||s._enableTransforms(!1),u.autoRotate=s._target._gsTransform),l._onInitTween(u.proxy,g,s._tween),a}})}},v._roundProps=function(t,e){for(var i=this._overwriteProps,n=i.length;--n>-1;)(t[i[n]]||t.bezier||t.bezierThrough)&&(this._round[i[n]]=e)},v._kill=function(t){var e,i,n=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=n.length;--i>-1;)n[i]===e&&n.splice(i,1);return this._super._kill.call(this,t)}}(),i._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var n,r,o,s,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},l=i._gsDefine.globals,c={},h=a.prototype=new t("css");h.constructor=a,a.version="1.18.4",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",a.defaultSmoothOrigin=!0,h="px",a.suffixMap={top:h,right:h,bottom:h,left:h,width:h,height:h,fontSize:h,padding:h,margin:h,perspective:h,lineHeight:""};var u,d,f,p,g,m,v=/(?:\-|\.|\b)(\d|\.|e\-)+/g,y=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,w=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,_=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,b=/(?:\d|\-|\+|=|#|\.)*/g,x=/opacity *= *([^)]*)/i,C=/opacity:([^;]*)/i,T=/alpha\(opacity *=.+?\)/i,S=/^(rgb|hsl)/,E=/([A-Z])/g,k=/-([a-z])/gi,R=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,P=function(t,e){return e.toUpperCase()},A=/(?:Left|Right|Width)/i,O=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,N=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,D=/,(?=[^\)]*(?:\(|$))/gi,M=/[\s,\(]/i,I=Math.PI/180,H=180/Math.PI,L={},F=document,z=function(t){return F.createElementNS?F.createElementNS("http://www.w3.org/1999/xhtml",t):F.createElement(t)},B=z("div"),V=z("img"),W=a._internals={_specialProps:c},j=navigator.userAgent,X=function(){var t=j.indexOf("Android"),e=z("a");return f=-1!==j.indexOf("Safari")&&-1===j.indexOf("Chrome")&&(-1===t||Number(j.substr(t+8,1))>3),g=f&&Number(j.substr(j.indexOf("Version/")+8,1))<6,p=-1!==j.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(j)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(j))&&(m=parseFloat(RegExp.$1)),e?(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity)):!1}(),U=function(t){return x.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Y=function(t){window.console&&console.log(t)},q="",G="",$=function(t,e){e=e||B;var i,n,r=e.style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===r[i[n]+t];);return n>=0?(G=3===n?"ms":i[n],q="-"+G.toLowerCase()+"-",G+t):null},Q=F.defaultView?F.defaultView.getComputedStyle:function(){},K=a.getStyle=function(t,e,i,n,r){var o;return X||"opacity"!==e?(!n&&t.style[e]?o=t.style[e]:(i=i||Q(t))?o=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(E,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==r||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:r):U(t)},Z=W.convertToPixels=function(t,i,n,r,o){if("px"===r||!r)return n;if("auto"===r||!n)return 0;var s,l,c,h=A.test(i),u=t,d=B.style,f=0>n;if(f&&(n=-n),"%"===r&&-1!==i.indexOf("border"))s=n/100*(h?t.clientWidth:t.clientHeight);else{if(d.cssText="border:0 solid red;position:"+K(t,"position")+";line-height:0;","%"!==r&&u.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)d[h?"borderLeftWidth":"borderTopWidth"]=n+r;else{if(u=t.parentNode||F.body,l=u._gsCache,c=e.ticker.frame,l&&h&&l.time===c)return l.width*n/100;d[h?"width":"height"]=n+r}u.appendChild(B),s=parseFloat(B[h?"offsetWidth":"offsetHeight"]),u.removeChild(B),h&&"%"===r&&a.cacheWidths!==!1&&(l=u._gsCache=u._gsCache||{},l.time=c,l.width=s/n*100),0!==s||o||(s=Z(t,i,n,r,!0))}return f?-s:s},J=W.calculateOffset=function(t,e,i){if("absolute"!==K(t,"position",i))return 0;var n="left"===e?"Left":"Top",r=K(t,"margin"+n,i);return t["offset"+n]-(Z(t,e,parseFloat(r),r.replace(b,""))||0)},tt=function(t,e){var i,n,r,o={};if(e=e||Q(t,null))if(i=e.length)for(;--i>-1;)r=e[i],-1!==r.indexOf("-transform")&&kt!==r||(o[r.replace(k,P)]=e.getPropertyValue(r));else for(i in e)-1!==i.indexOf("Transform")&&Et!==i||(o[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===o[i]&&(o[i.replace(k,P)]=e[i]);return X||(o.opacity=U(t)),n=Bt(t,e,!1),o.rotation=n.rotation,o.skewX=n.skewX,o.scaleX=n.scaleX,o.scaleY=n.scaleY,o.x=n.x,o.y=n.y,Pt&&(o.z=n.z,o.rotationX=n.rotationX,o.rotationY=n.rotationY,o.scaleZ=n.scaleZ),o.filters&&delete o.filters,o},et=function(t,e,i,n,r){var o,s,a,l={},c=t.style;for(s in i)"cssText"!==s&&"length"!==s&&isNaN(s)&&(e[s]!==(o=i[s])||r&&r[s])&&-1===s.indexOf("Origin")&&("number"!=typeof o&&"string"!=typeof o||(l[s]="auto"!==o||"left"!==s&&"top"!==s?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[s]||""===e[s].replace(_,"")?o:0:J(t,s),void 0!==c[s]&&(a=new mt(c,s,c[s],a))));if(n)for(s in n)"className"!==s&&(l[s]=n[s]);return{difs:l,firstMPT:a}},it={width:["Left","Right"],height:["Top","Bottom"]},nt=["marginLeft","marginRight","marginTop","marginBottom"],rt=function(t,e,i){if("svg"===(t.nodeName+"").toLowerCase())return(i||Q(t))[e]||0;if(t.getBBox&&Lt(t))return t.getBBox()[e]||0;var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=it[e],o=r.length;for(i=i||Q(t,null);--o>-1;)n-=parseFloat(K(t,"padding"+r[o],i,!0))||0,n-=parseFloat(K(t,"border"+r[o]+"Width",i,!0))||0;return n},ot=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var i,n=t.split(" "),r=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":n[0],o=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":n[1];if(n.length>3&&!e){for(n=t.split(", ").join(",").split(","),t=[],i=0;i<n.length;i++)t.push(ot(n[i]));return t.join(",")}return null==o?o="center"===r?"50%":"0":"center"===o&&(o="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),t=r+" "+o+(n.length>2?" "+n[2]:""),e&&(e.oxp=-1!==r.indexOf("%"),e.oyp=-1!==o.indexOf("%"),e.oxr="="===r.charAt(1),e.oyr="="===o.charAt(1),e.ox=parseFloat(r.replace(_,"")),e.oy=parseFloat(o.replace(_,"")),e.v=t),e||t},st=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},at=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},lt=function(t,e,i,n){var r,o,s,a,l,c=1e-6;return null==t?a=e:"number"==typeof t?a=t:(r=360,o=t.split("_"),l="="===t.charAt(1),s=(l?parseInt(t.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(-1===t.indexOf("rad")?1:H)-(l?0:e),o.length&&(n&&(n[i]=e+s),-1!==t.indexOf("short")&&(s%=r,s!==s%(r/2)&&(s=0>s?s+r:s-r)),-1!==t.indexOf("_cw")&&0>s?s=(s+9999999999*r)%r-(s/r|0)*r:-1!==t.indexOf("ccw")&&s>0&&(s=(s-9999999999*r)%r-(s/r|0)*r)),a=e+s),c>a&&a>-c&&(a=0),a},ct={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ht=function(t,e,i){return t=0>t?t+1:t>1?t-1:t,255*(1>6*t?e+(i-e)*t*6:.5>t?i:2>3*t?e+(i-e)*(2/3-t)*6:e)+.5|0},ut=a.parseColor=function(t,e){var i,n,r,o,s,a,l,c,h,u,d;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ct[t])i=ct[t];else if("#"===t.charAt(0))4===t.length&&(n=t.charAt(1),r=t.charAt(2),o=t.charAt(3),t="#"+n+n+r+r+o+o),t=parseInt(t.substr(1),16),i=[t>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=d=t.match(v),e){if(-1!==t.indexOf("="))return t.match(y)}else s=Number(i[0])%360/360,a=Number(i[1])/100,l=Number(i[2])/100,r=.5>=l?l*(a+1):l+a-l*a,n=2*l-r,i.length>3&&(i[3]=Number(t[3])),i[0]=ht(s+1/3,n,r),i[1]=ht(s,n,r),i[2]=ht(s-1/3,n,r);else i=t.match(v)||ct.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=ct.black;return e&&!d&&(n=i[0]/255,r=i[1]/255,o=i[2]/255,c=Math.max(n,r,o),h=Math.min(n,r,o),l=(c+h)/2,c===h?s=a=0:(u=c-h,a=l>.5?u/(2-c-h):u/(c+h),s=c===n?(r-o)/u+(o>r?6:0):c===r?(o-n)/u+2:(n-r)/u+4,s*=60),i[0]=s+.5|0,i[1]=100*a+.5|0,i[2]=100*l+.5|0),i},dt=function(t,e){var i,n,r,o=t.match(ft)||[],s=0,a=o.length?"":t;for(i=0;i<o.length;i++)n=o[i],r=t.substr(s,t.indexOf(n,s)-s),s+=r.length+n.length,n=ut(n,e),3===n.length&&n.push(1),a+=r+(e?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return a+t.substr(s)},ft="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(h in ct)ft+="|"+h+"\\b";ft=new RegExp(ft+")","gi"),a.colorStringFilter=function(t){var e,i=t[0]+t[1];ft.test(i)&&(e=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),t[0]=dt(t[0],e),t[1]=dt(t[1],e)),ft.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=a.colorStringFilter);var pt=function(t,e,i,n){if(null==t)return function(t){return t};var r,o=e?(t.match(ft)||[""])[0]:"",s=t.split(o).join("").match(w)||[],a=t.substr(0,t.indexOf(s[0])),l=")"===t.charAt(t.length-1)?")":"",c=-1!==t.indexOf(" ")?" ":",",h=s.length,u=h>0?s[0].replace(v,""):"";return h?r=e?function(t){var e,d,f,p;if("number"==typeof t)t+=u;else if(n&&D.test(t)){for(p=t.replace(D,"|").split("|"),f=0;f<p.length;f++)p[f]=r(p[f]);return p.join(",")}if(e=(t.match(ft)||[o])[0],d=t.split(e).join("").match(w)||[],f=d.length,h>f--)for(;++f<h;)d[f]=i?d[(f-1)/2|0]:s[f];return a+d.join(c)+c+e+l+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,o,d;if("number"==typeof t)t+=u;else if(n&&D.test(t)){for(o=t.replace(D,"|").split("|"),d=0;d<o.length;d++)o[d]=r(o[d]);return o.join(",")}if(e=t.match(w)||[],d=e.length,h>d--)for(;++d<h;)e[d]=i?e[(d-1)/2|0]:s[d];return a+e.join(c)+l}:function(t){return t}},gt=function(t){return t=t.split(","),function(e,i,n,r,o,s,a){var l,c=(i+"").split(" ");for(a={},l=0;4>l;l++)a[t[l]]=c[l]=c[l]||c[(l-1)/2>>0];return r.parse(e,a,o,s)}},mt=(W._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,r,o,s=this.data,a=s.proxy,l=s.firstMPT,c=1e-6;l;)e=a[l.v],l.r?e=Math.round(e):c>e&&e>-c&&(e=0),l.t[l.p]=e,l=l._next;if(s.autoRotate&&(s.autoRotate.rotation=a.rotation),1===t||0===t)for(l=s.firstMPT,o=1===t?"e":"b";l;){if(i=l.t,i.type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)r+=i["xn"+n]+i["xs"+(n+1)];i[o]=r}}else i[o]=i.s+i.xs0;l=l._next}},function(t,e,i,n,r){this.t=t,this.p=e,this.v=i,this.r=r,n&&(n._prev=this,this._next=n)}),vt=(W._parseToProxy=function(t,e,i,n,r,o){var s,a,l,c,h,u=n,d={},f={},p=i._transform,g=L;for(i._transform=null,L=e,n=h=i.parse(t,e,n,r),L=g,o&&(i._transform=p,u&&(u._prev=null,u._prev&&(u._prev._next=null)));n&&n!==u;){if(n.type<=1&&(a=n.p,f[a]=n.s+n.c,d[a]=n.s,o||(c=new mt(n,"s",a,c,n.r),n.c=0),1===n.type))for(s=n.l;--s>0;)l="xn"+s,a=n.p+"_"+l,f[a]=n.data[l],d[a]=n[l],o||(c=new mt(n,l,a,c,n.rxp[l]));n=n._next}return{proxy:d,end:f,firstMPT:c,pt:h}},W.CSSPropTween=function(t,e,i,r,o,a,l,c,h,u,d){this.t=t,this.p=e,this.s=i,this.c=r,this.n=l||e,t instanceof vt||s.push(this.n),this.r=c,this.type=a||0,h&&(this.pr=h,n=!0),this.b=void 0===u?i:u,this.e=void 0===d?i+r:d,o&&(this._next=o,o._prev=this)}),yt=function(t,e,i,n,r,o){var s=new vt(t,e,i,n-i,r,-1,o);return s.b=i,s.e=s.xs0=n,s},wt=a.parseComplex=function(t,e,i,n,r,o,s,l,c,h){i=i||o||"",s=new vt(t,e,0,0,s,h?2:1,null,!1,l,i,n),n+="",r&&ft.test(n+i)&&(n=[i,n],a.colorStringFilter(n),i=n[0],n=n[1]);var d,f,p,g,m,w,_,b,x,C,T,S,E,k=i.split(", ").join(",").split(" "),R=n.split(", ").join(",").split(" "),P=k.length,A=u!==!1;for(-1===n.indexOf(",")&&-1===i.indexOf(",")||(k=k.join(" ").replace(D,", ").split(" "),R=R.join(" ").replace(D,", ").split(" "),P=k.length),P!==R.length&&(k=(o||"").split(" "),P=k.length),s.plugin=c,s.setRatio=h,ft.lastIndex=0,d=0;P>d;d++)if(g=k[d],m=R[d],b=parseFloat(g),b||0===b)s.appendXtra("",b,st(m,b),m.replace(y,""),A&&-1!==m.indexOf("px"),!0);else if(r&&ft.test(g))S=m.indexOf(")")+1,S=")"+(S?m.substr(S):""),E=-1!==m.indexOf("hsl")&&X,g=ut(g,E),m=ut(m,E),x=g.length+m.length>6,x&&!X&&0===m[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(R[d]).join("transparent")):(X||(x=!1),E?s.appendXtra(x?"hsla(":"hsl(",g[0],st(m[0],g[0]),",",!1,!0).appendXtra("",g[1],st(m[1],g[1]),"%,",!1).appendXtra("",g[2],st(m[2],g[2]),x?"%,":"%"+S,!1):s.appendXtra(x?"rgba(":"rgb(",g[0],m[0]-g[0],",",!0,!0).appendXtra("",g[1],m[1]-g[1],",",!0).appendXtra("",g[2],m[2]-g[2],x?",":S,!0),x&&(g=g.length<4?1:g[3],s.appendXtra("",g,(m.length<4?1:m[3])-g,S,!1))),ft.lastIndex=0;else if(w=g.match(v)){if(_=m.match(y),!_||_.length!==w.length)return s;for(p=0,f=0;f<w.length;f++)T=w[f],C=g.indexOf(T,p),s.appendXtra(g.substr(p,C-p),Number(T),st(_[f],T),"",A&&"px"===g.substr(C+T.length,2),0===f),p=C+T.length;s["xs"+s.l]+=g.substr(p)}else s["xs"+s.l]+=s.l||s["xs"+s.l]?" "+m:m;if(-1!==n.indexOf("=")&&s.data){for(S=s.xs0+s.data.s,d=1;d<s.l;d++)S+=s["xs"+d]+s.data["xn"+d];s.e=S+s["xs"+d]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},_t=9;for(h=vt.prototype,h.l=h.pr=0;--_t>0;)h["xn"+_t]=0,h["xs"+_t]="";h.xs0="",h._next=h._prev=h.xfirst=h.data=h.plugin=h.setRatio=h.rxp=null,h.appendXtra=function(t,e,i,n,r,o){var s=this,a=s.l;return s["xs"+a]+=o&&(a||s["xs"+a])?" "+t:t||"",i||0===a||s.plugin?(s.l++,s.type=s.setRatio?2:1,s["xs"+s.l]=n||"",a>0?(s.data["xn"+a]=e+i,s.rxp["xn"+a]=r,s["xn"+a]=e,s.plugin||(s.xfirst=new vt(s,"xn"+a,e,i,s.xfirst||s,0,s.n,r,s.pr),s.xfirst.xs0=0),s):(s.data={s:e+i},s.rxp={},s.s=e,s.c=i,s.r=r,s)):(s["xs"+a]+=e+(n||""),s)};var bt=function(t,e){e=e||{},this.p=e.prefix?$(t)||t:t,c[t]=c[this.p]=this,this.format=e.formatter||pt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},xt=W._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var n,r,o=t.split(","),s=e.defaultValue;for(i=i||[s],n=0;n<o.length;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||s,r=new bt(o[n],e)},Ct=function(t){if(!c[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";xt(t,{parser:function(t,i,n,r,o,s,a){var h=l.com.greensock.plugins[e];return h?(h._cssRegister(),c[n].parse(t,i,n,r,o,s,a)):(Y("Error: "+e+" js file not loaded."),o)}})}};h=bt.prototype,h.parseComplex=function(t,e,i,n,r,o){var s,a,l,c,h,u,d=this.keyword;if(this.multi&&(D.test(i)||D.test(e)?(a=e.replace(D,"|").split("|"),l=i.replace(D,"|").split("|")):d&&(a=[e],l=[i])),l){for(c=l.length>a.length?l.length:a.length,s=0;c>s;s++)e=a[s]=a[s]||this.dflt,i=l[s]=l[s]||this.dflt,d&&(h=e.indexOf(d),u=i.indexOf(d),h!==u&&(-1===u?a[s]=a[s].split(d).join(""):-1===h&&(a[s]+=" "+d)));e=a.join(", "),i=l.join(", ")}return wt(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,r,o)},h.parse=function(t,e,i,n,r,s,a){return this.parseComplex(t.style,this.format(K(t,this.p,o,!1,this.dflt)),this.format(e),r,s)},a.registerSpecialProp=function(t,e,i){xt(t,{parser:function(t,n,r,o,s,a,l){var c=new vt(t,r,0,0,s,2,r,!1,i);return c.plugin=a,c.setRatio=e(t,n,o._tween,r),c},priority:i})},a.useSVGTransformAttr=f||p;var Tt,St="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Et=$("transform"),kt=q+"transform",Rt=$("transformOrigin"),Pt=null!==$("perspective"),At=W.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=a.defaultForce3D!==!1&&Pt?a.defaultForce3D||"auto":!1},Ot=window.SVGElement,Nt=function(t,e,i){var n,r=F.createElementNS("http://www.w3.org/2000/svg",t),o=/([a-z])([A-Z])/g;for(n in i)r.setAttributeNS(null,n.replace(o,"$1-$2").toLowerCase(),i[n]);return e.appendChild(r),r},Dt=F.documentElement,Mt=function(){var t,e,i,n=m||/Android/i.test(j)&&!window.chrome;return F.createElementNS&&!n&&(t=Nt("svg",Dt),e=Nt("rect",t,{width:100,height:50,x:100}),i=e.getBoundingClientRect().width,e.style[Rt]="50% 50%",e.style[Et]="scaleX(0.5)",n=i===e.getBoundingClientRect().width&&!(p&&Pt),Dt.removeChild(t)),n}(),It=function(t,e,i,n,r,o){var s,l,c,h,u,d,f,p,g,m,v,y,w,_,b=t._gsTransform,x=zt(t,!0);b&&(w=b.xOrigin,_=b.yOrigin),(!n||(s=n.split(" ")).length<2)&&(f=t.getBBox(),e=ot(e).split(" "),s=[(-1!==e[0].indexOf("%")?parseFloat(e[0])/100*f.width:parseFloat(e[0]))+f.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*f.height:parseFloat(e[1]))+f.y]),i.xOrigin=h=parseFloat(s[0]),i.yOrigin=u=parseFloat(s[1]),n&&x!==Ft&&(d=x[0],f=x[1],p=x[2],g=x[3],m=x[4],v=x[5],y=d*g-f*p,l=h*(g/y)+u*(-p/y)+(p*v-g*m)/y,c=h*(-f/y)+u*(d/y)-(d*v-f*m)/y,h=i.xOrigin=s[0]=l,u=i.yOrigin=s[1]=c),b&&(o&&(i.xOffset=b.xOffset,i.yOffset=b.yOffset,b=i),r||r!==!1&&a.defaultSmoothOrigin!==!1?(l=h-w,c=u-_,b.xOffset+=l*x[0]+c*x[2]-l,b.yOffset+=l*x[1]+c*x[3]-c):b.xOffset=b.yOffset=0),o||t.setAttribute("data-svg-origin",s.join(" "))},Ht=function(t){try{return t.getBBox()}catch(t){}},Lt=function(t){return!!(Ot&&t.getBBox&&t.getCTM&&Ht(t)&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},Ft=[1,0,0,1,0,0],zt=function(t,e){var i,n,r,o,s,a=t._gsTransform||new At,l=1e5;if(Et?n=K(t,kt,null,!0):t.currentStyle&&(n=t.currentStyle.filter.match(O),n=n&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),a.x||0,a.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,(a.svg||t.getBBox&&Lt(t))&&(i&&-1!==(t.style[Et]+"").indexOf("matrix")&&(n=t.style[Et],i=0),r=t.getAttribute("transform"),i&&r&&(-1!==r.indexOf("matrix")?(n=r,i=0):-1!==r.indexOf("translate")&&(n="matrix(1,0,0,1,"+r.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Ft;for(r=(n||"").match(v)||[],_t=r.length;--_t>-1;)o=Number(r[_t]),r[_t]=(s=o-(o|=0))?(s*l+(0>s?-.5:.5)|0)/l+o:o;return e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},Bt=W.getTransform=function(t,i,n,r){if(t._gsTransform&&n&&!r)return t._gsTransform;var s,l,c,h,u,d,f=n?t._gsTransform||new At:new At,p=f.scaleX<0,g=2e-5,m=1e5,v=Pt?parseFloat(K(t,Rt,i,!1,"0 0 0").split(" ")[2])||f.zOrigin||0:0,y=parseFloat(a.defaultTransformPerspective)||0;if(f.svg=!(!t.getBBox||!Lt(t)),f.svg&&(It(t,K(t,Rt,o,!1,"50% 50%")+"",f,t.getAttribute("data-svg-origin")),Tt=a.useSVGTransformAttr||Mt),s=zt(t),s!==Ft){if(16===s.length){var w,_,b,x,C,T=s[0],S=s[1],E=s[2],k=s[3],R=s[4],P=s[5],A=s[6],O=s[7],N=s[8],D=s[9],M=s[10],I=s[12],L=s[13],F=s[14],z=s[11],B=Math.atan2(A,M);f.zOrigin&&(F=-f.zOrigin,I=N*F-s[12],L=D*F-s[13],F=M*F+f.zOrigin-s[14]),f.rotationX=B*H,B&&(x=Math.cos(-B),C=Math.sin(-B),w=R*x+N*C,_=P*x+D*C,b=A*x+M*C,N=R*-C+N*x,D=P*-C+D*x,M=A*-C+M*x,z=O*-C+z*x,R=w,P=_,A=b),B=Math.atan2(-E,M),f.rotationY=B*H,B&&(x=Math.cos(-B),C=Math.sin(-B),w=T*x-N*C,_=S*x-D*C,b=E*x-M*C,D=S*C+D*x,M=E*C+M*x,z=k*C+z*x,T=w,S=_,E=b),B=Math.atan2(S,T),f.rotation=B*H,B&&(x=Math.cos(-B),C=Math.sin(-B),T=T*x+R*C,_=S*x+P*C,P=S*-C+P*x,A=E*-C+A*x,S=_),f.rotationX&&Math.abs(f.rotationX)+Math.abs(f.rotation)>359.9&&(f.rotationX=f.rotation=0,f.rotationY=180-f.rotationY),f.scaleX=(Math.sqrt(T*T+S*S)*m+.5|0)/m,f.scaleY=(Math.sqrt(P*P+D*D)*m+.5|0)/m,f.scaleZ=(Math.sqrt(A*A+M*M)*m+.5|0)/m,f.skewX=R||P?Math.atan2(R,P)*H+f.rotation:f.skewX||0,Math.abs(f.skewX)>90&&Math.abs(f.skewX)<270&&(p?(f.scaleX*=-1,f.skewX+=f.rotation<=0?180:-180,f.rotation+=f.rotation<=0?180:-180):(f.scaleY*=-1,f.skewX+=f.skewX<=0?180:-180)),f.perspective=z?1/(0>z?-z:z):0,f.x=I,f.y=L,f.z=F,f.svg&&(f.x-=f.xOrigin-(f.xOrigin*T-f.yOrigin*R),f.y-=f.yOrigin-(f.yOrigin*S-f.xOrigin*P))}else if((!Pt||r||!s.length||f.x!==s[4]||f.y!==s[5]||!f.rotationX&&!f.rotationY)&&(void 0===f.x||"none"!==K(t,"display",i))){var V=s.length>=6,W=V?s[0]:1,j=s[1]||0,X=s[2]||0,U=V?s[3]:1;f.x=s[4]||0,f.y=s[5]||0,c=Math.sqrt(W*W+j*j),h=Math.sqrt(U*U+X*X),u=W||j?Math.atan2(j,W)*H:f.rotation||0,d=X||U?Math.atan2(X,U)*H+u:f.skewX||0,Math.abs(d)>90&&Math.abs(d)<270&&(p?(c*=-1,d+=0>=u?180:-180,u+=0>=u?180:-180):(h*=-1,d+=0>=d?180:-180)),f.scaleX=c,f.scaleY=h,f.rotation=u,f.skewX=d,Pt&&(f.rotationX=f.rotationY=f.z=0,f.perspective=y,f.scaleZ=1),f.svg&&(f.x-=f.xOrigin-(f.xOrigin*W+f.yOrigin*X),f.y-=f.yOrigin-(f.xOrigin*j+f.yOrigin*U))}f.zOrigin=v;for(l in f)f[l]<g&&f[l]>-g&&(f[l]=0)}return n&&(t._gsTransform=f,f.svg&&(Tt&&t.style[Et]?e.delayedCall(.001,function(){Xt(t.style,Et)}):!Tt&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),f},Vt=function(t){var e,i,n=this.data,r=-n.rotation*I,o=r+n.skewX*I,s=1e5,a=(Math.cos(r)*n.scaleX*s|0)/s,l=(Math.sin(r)*n.scaleX*s|0)/s,c=(Math.sin(o)*-n.scaleY*s|0)/s,h=(Math.cos(o)*n.scaleY*s|0)/s,u=this.t.style,d=this.t.currentStyle;if(d){i=l,l=-c,c=-i,e=d.filter,u.filter="";var f,p,g=this.t.offsetWidth,v=this.t.offsetHeight,y="absolute"!==d.position,w="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+l+", M21="+c+", M22="+h,_=n.x+g*n.xPercent/100,C=n.y+v*n.yPercent/100;if(null!=n.ox&&(f=(n.oxp?g*n.ox*.01:n.ox)-g/2,p=(n.oyp?v*n.oy*.01:n.oy)-v/2,_+=f-(f*a+p*l),C+=p-(f*c+p*h)),y?(f=g/2,p=v/2,w+=", Dx="+(f-(f*a+p*l)+_)+", Dy="+(p-(f*c+p*h)+C)+")"):w+=", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?u.filter=e.replace(N,w):u.filter=w+" "+e,0!==t&&1!==t||1===a&&0===l&&0===c&&1===h&&(y&&-1===w.indexOf("Dx=0, Dy=0")||x.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&u.removeAttribute("filter")),!y){var T,S,E,k=8>m?1:-1;for(f=n.ieOffsetX||0,p=n.ieOffsetY||0,n.ieOffsetX=Math.round((g-((0>a?-a:a)*g+(0>l?-l:l)*v))/2+_),n.ieOffsetY=Math.round((v-((0>h?-h:h)*v+(0>c?-c:c)*g))/2+C),_t=0;4>_t;_t++)S=nt[_t],T=d[S],i=-1!==T.indexOf("px")?parseFloat(T):Z(this.t,S,parseFloat(T),T.replace(b,""))||0,E=i!==n[S]?2>_t?-n.ieOffsetX:-n.ieOffsetY:2>_t?f-n.ieOffsetX:p-n.ieOffsetY,u[S]=(n[S]=Math.round(i-E*(0===_t||2===_t?1:k)))+"px"}}},Wt=W.set3DTransformRatio=W.setTransformRatio=function(t){var e,i,n,r,o,s,a,l,c,h,u,d,f,g,m,v,y,w,_,b,x,C,T,S=this.data,E=this.t.style,k=S.rotation,R=S.rotationX,P=S.rotationY,A=S.scaleX,O=S.scaleY,N=S.scaleZ,D=S.x,M=S.y,H=S.z,L=S.svg,F=S.perspective,z=S.force3D;if(((1===t||0===t)&&"auto"===z&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!z)&&!H&&!F&&!P&&!R&&1===N||Tt&&L||!Pt)return void(k||S.skewX||L?(k*=I,C=S.skewX*I,T=1e5,e=Math.cos(k)*A,r=Math.sin(k)*A,i=Math.sin(k-C)*-O,o=Math.cos(k-C)*O,C&&"simple"===S.skewType&&(y=Math.tan(C),y=Math.sqrt(1+y*y),i*=y,o*=y,S.skewY&&(e*=y,r*=y)),L&&(D+=S.xOrigin-(S.xOrigin*e+S.yOrigin*i)+S.xOffset,M+=S.yOrigin-(S.xOrigin*r+S.yOrigin*o)+S.yOffset,Tt&&(S.xPercent||S.yPercent)&&(g=this.t.getBBox(),D+=.01*S.xPercent*g.width,M+=.01*S.yPercent*g.height),g=1e-6,g>D&&D>-g&&(D=0),g>M&&M>-g&&(M=0)),_=(e*T|0)/T+","+(r*T|0)/T+","+(i*T|0)/T+","+(o*T|0)/T+","+D+","+M+")",L&&Tt?this.t.setAttribute("transform","matrix("+_):E[Et]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+_):E[Et]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+A+",0,0,"+O+","+D+","+M+")");if(p&&(g=1e-4,g>A&&A>-g&&(A=N=2e-5),g>O&&O>-g&&(O=N=2e-5),!F||S.z||S.rotationX||S.rotationY||(F=0)),k||S.skewX)k*=I,m=e=Math.cos(k),v=r=Math.sin(k),S.skewX&&(k-=S.skewX*I,m=Math.cos(k),v=Math.sin(k),"simple"===S.skewType&&(y=Math.tan(S.skewX*I),y=Math.sqrt(1+y*y),m*=y,v*=y,S.skewY&&(e*=y,r*=y))),i=-v,o=m;else{if(!(P||R||1!==N||F||L))return void(E[Et]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) translate3d(":"translate3d(")+D+"px,"+M+"px,"+H+"px)"+(1!==A||1!==O?" scale("+A+","+O+")":""));e=o=1,i=r=0}c=1,n=s=a=l=h=u=0,d=F?-1/F:0,f=S.zOrigin,g=1e-6,b=",",x="0",k=P*I,k&&(m=Math.cos(k),v=Math.sin(k),a=-v,h=d*-v,n=e*v,s=r*v,c=m,d*=m,e*=m,r*=m),k=R*I,k&&(m=Math.cos(k),v=Math.sin(k),y=i*m+n*v,w=o*m+s*v,l=c*v,u=d*v,n=i*-v+n*m,s=o*-v+s*m,c*=m,d*=m,i=y,o=w),1!==N&&(n*=N,s*=N,c*=N,d*=N),1!==O&&(i*=O,o*=O,l*=O,u*=O),1!==A&&(e*=A,r*=A,a*=A,h*=A),(f||L)&&(f&&(D+=n*-f,M+=s*-f,H+=c*-f+f),L&&(D+=S.xOrigin-(S.xOrigin*e+S.yOrigin*i)+S.xOffset,M+=S.yOrigin-(S.xOrigin*r+S.yOrigin*o)+S.yOffset),g>D&&D>-g&&(D=x),g>M&&M>-g&&(M=x),g>H&&H>-g&&(H=0)),_=S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix3d(":"matrix3d(",_+=(g>e&&e>-g?x:e)+b+(g>r&&r>-g?x:r)+b+(g>a&&a>-g?x:a),_+=b+(g>h&&h>-g?x:h)+b+(g>i&&i>-g?x:i)+b+(g>o&&o>-g?x:o),R||P||1!==N?(_+=b+(g>l&&l>-g?x:l)+b+(g>u&&u>-g?x:u)+b+(g>n&&n>-g?x:n),_+=b+(g>s&&s>-g?x:s)+b+(g>c&&c>-g?x:c)+b+(g>d&&d>-g?x:d)+b):_+=",0,0,0,0,1,0,",_+=D+b+M+b+H+b+(F?1+-H/F:1)+")",E[Et]=_};h=At.prototype,h.x=h.y=h.z=h.skewX=h.skewY=h.rotation=h.rotationX=h.rotationY=h.zOrigin=h.xPercent=h.yPercent=h.xOffset=h.yOffset=0,h.scaleX=h.scaleY=h.scaleZ=1,xt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,n,r,s,l){if(n._lastParsedTransform===l)return r;n._lastParsedTransform=l;var c,h,u,d,f,p,g,m,v,y,w=t._gsTransform,_=t.style,b=1e-6,x=St.length,C=l,T={},S="transformOrigin";if(l.display?(u=K(t,"display"),_.display="block",c=Bt(t,o,!0,l.parseTransform),_.display=u):c=Bt(t,o,!0,l.parseTransform),n._transform=c,"string"==typeof C.transform&&Et)u=B.style,u[Et]=C.transform,u.display="block",u.position="absolute",F.body.appendChild(B),h=Bt(B,null,!1),c.svg&&(m=c.xOrigin,v=c.yOrigin,h.x-=c.xOffset,h.y-=c.yOffset,(C.transformOrigin||C.svgOrigin)&&(d={},It(t,ot(C.transformOrigin),d,C.svgOrigin,C.smoothOrigin,!0),m=d.xOrigin,v=d.yOrigin,h.x-=d.xOffset-c.xOffset,h.y-=d.yOffset-c.yOffset),(m||v)&&(y=zt(B),h.x-=m-(m*y[0]+v*y[2]),h.y-=v-(m*y[1]+v*y[3]))),F.body.removeChild(B),h.perspective||(h.perspective=c.perspective),null!=C.xPercent&&(h.xPercent=at(C.xPercent,c.xPercent)),null!=C.yPercent&&(h.yPercent=at(C.yPercent,c.yPercent));else if("object"==typeof C){if(h={scaleX:at(null!=C.scaleX?C.scaleX:C.scale,c.scaleX),scaleY:at(null!=C.scaleY?C.scaleY:C.scale,c.scaleY),scaleZ:at(C.scaleZ,c.scaleZ),x:at(C.x,c.x),y:at(C.y,c.y),z:at(C.z,c.z),xPercent:at(C.xPercent,c.xPercent),yPercent:at(C.yPercent,c.yPercent),perspective:at(C.transformPerspective,c.perspective)},g=C.directionalRotation,null!=g)if("object"==typeof g)for(u in g)C[u]=g[u];else C.rotation=g;"string"==typeof C.x&&-1!==C.x.indexOf("%")&&(h.x=0,h.xPercent=at(C.x,c.xPercent)),"string"==typeof C.y&&-1!==C.y.indexOf("%")&&(h.y=0,h.yPercent=at(C.y,c.yPercent)),h.rotation=lt("rotation"in C?C.rotation:"shortRotation"in C?C.shortRotation+"_short":"rotationZ"in C?C.rotationZ:c.rotation-c.skewY,c.rotation-c.skewY,"rotation",T),Pt&&(h.rotationX=lt("rotationX"in C?C.rotationX:"shortRotationX"in C?C.shortRotationX+"_short":c.rotationX||0,c.rotationX,"rotationX",T),h.rotationY=lt("rotationY"in C?C.rotationY:"shortRotationY"in C?C.shortRotationY+"_short":c.rotationY||0,c.rotationY,"rotationY",T)),h.skewX=lt(C.skewX,c.skewX-c.skewY),(h.skewY=lt(C.skewY,c.skewY))&&(h.skewX+=h.skewY,h.rotation+=h.skewY)}for(Pt&&null!=C.force3D&&(c.force3D=C.force3D,p=!0),c.skewType=C.skewType||c.skewType||a.defaultSkewType,f=c.force3D||c.z||c.rotationX||c.rotationY||h.z||h.rotationX||h.rotationY||h.perspective,f||null==C.scale||(h.scaleZ=1);--x>-1;)i=St[x],d=h[i]-c[i],(d>b||-b>d||null!=C[i]||null!=L[i])&&(p=!0,r=new vt(c,i,c[i],d,r),i in T&&(r.e=T[i]),r.xs0=0,r.plugin=s,n._overwriteProps.push(r.n));return d=C.transformOrigin,c.svg&&(d||C.svgOrigin)&&(m=c.xOffset,v=c.yOffset,It(t,ot(d),h,C.svgOrigin,C.smoothOrigin),r=yt(c,"xOrigin",(w?c:h).xOrigin,h.xOrigin,r,S),r=yt(c,"yOrigin",(w?c:h).yOrigin,h.yOrigin,r,S),m===c.xOffset&&v===c.yOffset||(r=yt(c,"xOffset",w?m:c.xOffset,c.xOffset,r,S),r=yt(c,"yOffset",w?v:c.yOffset,c.yOffset,r,S)),d=Tt?null:"0px 0px"),(d||Pt&&f&&c.zOrigin)&&(Et?(p=!0,i=Rt,d=(d||K(t,i,o,!1,"50% 50%"))+"",r=new vt(_,i,0,0,r,-1,S),r.b=_[i],r.plugin=s,Pt?(u=c.zOrigin,d=d.split(" "),c.zOrigin=(d.length>2&&(0===u||"0px"!==d[2])?parseFloat(d[2]):u)||0,r.xs0=r.e=d[0]+" "+(d[1]||"50%")+" 0px",r=new vt(c,"zOrigin",0,0,r,-1,r.n),r.b=u,r.xs0=r.e=c.zOrigin):r.xs0=r.e=d):ot(d+"",c)),p&&(n._transformType=c.svg&&Tt||!f&&3!==this._transformType?2:3),r},prefix:!0}),xt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),xt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,n,s,a){e=this.format(e);var l,c,h,u,d,f,p,g,m,v,y,w,_,b,x,C,T=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],S=t.style;for(m=parseFloat(t.offsetWidth),v=parseFloat(t.offsetHeight),l=e.split(" "),c=0;c<T.length;c++)this.p.indexOf("border")&&(T[c]=$(T[c])),d=u=K(t,T[c],o,!1,"0px"),-1!==d.indexOf(" ")&&(u=d.split(" "),d=u[0],u=u[1]),f=h=l[c],p=parseFloat(d),w=d.substr((p+"").length),_="="===f.charAt(1),_?(g=parseInt(f.charAt(0)+"1",10),f=f.substr(2),g*=parseFloat(f),y=f.substr((g+"").length-(0>g?1:0))||""):(g=parseFloat(f),y=f.substr((g+"").length)),""===y&&(y=r[i]||w),y!==w&&(b=Z(t,"borderLeft",p,w),x=Z(t,"borderTop",p,w),"%"===y?(d=b/m*100+"%",u=x/v*100+"%"):"em"===y?(C=Z(t,"borderLeft",1,"em"),d=b/C+"em",u=x/C+"em"):(d=b+"px",u=x+"px"),_&&(f=parseFloat(d)+g+y,h=parseFloat(u)+g+y)),s=wt(S,T[c],d+" "+u,f+" "+h,!1,"0px",s);return s},prefix:!0,formatter:pt("0px 0px 0px 0px",!1,!0)}),xt("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,i,n,r,s){return wt(t.style,i,this.format(K(t,i,o,!1,"0px 0px")),this.format(e),!1,"0px",r)},prefix:!0,formatter:pt("0px 0px",!1,!0)}),xt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,r,s){var a,l,c,h,u,d,f="background-position",p=o||Q(t,null),g=this.format((p?m?p.getPropertyValue(f+"-x")+" "+p.getPropertyValue(f+"-y"):p.getPropertyValue(f):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),v=this.format(e);if(-1!==g.indexOf("%")!=(-1!==v.indexOf("%"))&&v.split(",").length<2&&(d=K(t,"backgroundImage").replace(R,""),d&&"none"!==d)){for(a=g.split(" "),l=v.split(" "),V.setAttribute("src",d),c=2;--c>-1;)g=a[c],h=-1!==g.indexOf("%"),h!==(-1!==l[c].indexOf("%"))&&(u=0===c?t.offsetWidth-V.width:t.offsetHeight-V.height,a[c]=h?parseFloat(g)/100*u+"px":parseFloat(g)/u*100+"%");g=a.join(" ")}return this.parseComplex(t.style,g,v,r,s)},formatter:ot}),xt("backgroundSize",{defaultValue:"0 0",formatter:ot}),xt("perspective",{defaultValue:"0px",
prefix:!0}),xt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),xt("transformStyle",{prefix:!0}),xt("backfaceVisibility",{prefix:!0}),xt("userSelect",{prefix:!0}),xt("margin",{parser:gt("marginTop,marginRight,marginBottom,marginLeft")}),xt("padding",{parser:gt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),xt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,r,s){var a,l,c;return 9>m?(l=t.currentStyle,c=8>m?" ":",",a="rect("+l.clipTop+c+l.clipRight+c+l.clipBottom+c+l.clipLeft+")",e=this.format(e).split(",").join(c)):(a=this.format(K(t,this.p,o,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,a,e,r,s)}}),xt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),xt("autoRound,strictUnits",{parser:function(t,e,i,n,r){return r}}),xt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,r,s){return this.parseComplex(t.style,this.format(K(t,"borderTopWidth",o,!1,"0px")+" "+K(t,"borderTopStyle",o,!1,"solid")+" "+K(t,"borderTopColor",o,!1,"#000")),this.format(e),r,s)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(ft)||["#000"])[0]}}),xt("borderWidth",{parser:gt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),xt("float,cssFloat,styleFloat",{parser:function(t,e,i,n,r,o){var s=t.style,a="cssFloat"in s?"cssFloat":"styleFloat";return new vt(s,a,0,0,r,-1,i,!1,0,s[a],e)}});var jt=function(t){var e,i=this.t,n=i.filter||K(this.data,"filter")||"",r=this.s+this.c*t|0;100===r&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),e=!K(this.data,"filter")):(i.filter=n.replace(T,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),-1===n.indexOf("pacity")?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(x,"opacity="+r))};xt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,r,s){var a=parseFloat(K(t,"opacity",o,!1,"1")),l=t.style,c="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+a),c&&1===a&&"hidden"===K(t,"visibility",o)&&0!==e&&(a=0),X?r=new vt(l,"opacity",a,e-a,r):(r=new vt(l,"opacity",100*a,100*(e-a),r),r.xn1=c?1:0,l.zoom=1,r.type=2,r.b="alpha(opacity="+r.s+")",r.e="alpha(opacity="+(r.s+r.c)+")",r.data=t,r.plugin=s,r.setRatio=jt),c&&(r=new vt(l,"visibility",0,0,r,-1,null,!1,0,0!==a?"inherit":"hidden",0===e?"hidden":"inherit"),r.xs0="inherit",n._overwriteProps.push(r.n),n._overwriteProps.push(i)),r}});var Xt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(E,"-$1").toLowerCase())):t.removeAttribute(e))},Ut=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Xt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};xt("className",{parser:function(t,e,i,r,s,a,l){var c,h,u,d,f,p=t.getAttribute("class")||"",g=t.style.cssText;if(s=r._classNamePT=new vt(t,i,0,0,s,2),s.setRatio=Ut,s.pr=-11,n=!0,s.b=p,h=tt(t,o),u=t._gsClassPT){for(d={},f=u.data;f;)d[f.p]=1,f=f._next;u.setRatio(1)}return t._gsClassPT=s,s.e="="!==e.charAt(1)?e:p.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",s.e),c=et(t,h,tt(t),l,d),t.setAttribute("class",p),s.data=c.firstMPT,t.style.cssText=g,s=s.xfirst=r.parse(t,c.difs,s,a)}});var Yt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,r,o,s=this.t.style,a=c.transform.parse;if("all"===this.e)s.cssText="",r=!0;else for(e=this.e.split(" ").join("").split(","),n=e.length;--n>-1;)i=e[n],c[i]&&(c[i].parse===a?r=!0:i="transformOrigin"===i?Rt:c[i].p),Xt(s,i);r&&(Xt(s,Et),o=this.t._gsTransform,o&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(xt("clearProps",{parser:function(t,e,i,r,o){return o=new vt(t,i,0,0,o,2),o.setRatio=Yt,o.e=e,o.pr=-10,o.data=r._tween,n=!0,o}}),h="bezier,throwProps,physicsProps,physics2D".split(","),_t=h.length;_t--;)Ct(h[_t]);h=a.prototype,h._firstPT=h._lastParsedTransform=h._transform=null,h._onInitTween=function(t,e,i){if(!t.nodeType)return!1;this._target=t,this._tween=i,this._vars=e,u=e.autoRound,n=!1,r=e.suffixMap||a.suffixMap,o=Q(t,""),s=this._overwriteProps;var l,h,p,m,v,y,w,_,b,x=t.style;if(d&&""===x.zIndex&&(l=K(t,"zIndex",o),"auto"!==l&&""!==l||this._addLazySet(x,"zIndex",0)),"string"==typeof e&&(m=x.cssText,l=tt(t,o),x.cssText=m+";"+e,l=et(t,l,tt(t)).difs,!X&&C.test(e)&&(l.opacity=parseFloat(RegExp.$1)),e=l,x.cssText=m),e.className?this._firstPT=h=c.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=h=this.parse(t,e,null),this._transformType){for(b=3===this._transformType,Et?f&&(d=!0,""===x.zIndex&&(w=K(t,"zIndex",o),"auto"!==w&&""!==w||this._addLazySet(x,"zIndex",0)),g&&this._addLazySet(x,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(b?"visible":"hidden"))):x.zoom=1,p=h;p&&p._next;)p=p._next;_=new vt(t,"transform",0,0,null,2),this._linkCSSP(_,null,p),_.setRatio=Et?Wt:Vt,_.data=this._transform||Bt(t,o,!0),_.tween=i,_.pr=-1,s.pop()}if(n){for(;h;){for(y=h._next,p=m;p&&p.pr>h.pr;)p=p._next;(h._prev=p?p._prev:v)?h._prev._next=h:m=h,(h._next=p)?p._prev=h:v=h,h=y}this._firstPT=m}return!0},h.parse=function(t,e,i,n){var s,a,l,h,d,f,p,g,m,v,y=t.style;for(s in e)f=e[s],a=c[s],a?i=a.parse(t,f,s,this,i,n,e):(d=K(t,s,o)+"",m="string"==typeof f,"color"===s||"fill"===s||"stroke"===s||-1!==s.indexOf("Color")||m&&S.test(f)?(m||(f=ut(f),f=(f.length>3?"rgba(":"rgb(")+f.join(",")+")"),i=wt(y,s,d,f,!0,"transparent",i,0,n)):m&&M.test(f)?i=wt(y,s,d,f,!0,null,i,0,n):(l=parseFloat(d),p=l||0===l?d.substr((l+"").length):"",""!==d&&"auto"!==d||("width"===s||"height"===s?(l=rt(t,s,o),p="px"):"left"===s||"top"===s?(l=J(t,s,o),p="px"):(l="opacity"!==s?0:1,p="")),v=m&&"="===f.charAt(1),v?(h=parseInt(f.charAt(0)+"1",10),f=f.substr(2),h*=parseFloat(f),g=f.replace(b,"")):(h=parseFloat(f),g=m?f.replace(b,""):""),""===g&&(g=s in r?r[s]:p),f=h||0===h?(v?h+l:h)+g:e[s],p!==g&&""!==g&&(h||0===h)&&l&&(l=Z(t,s,l,p),"%"===g?(l/=Z(t,s,100,"%")/100,e.strictUnits!==!0&&(d=l+"%")):"em"===g||"rem"===g||"vw"===g||"vh"===g?l/=Z(t,s,1,g):"px"!==g&&(h=Z(t,s,h,g),g="px"),v&&(h||0===h)&&(f=h+l+g)),v&&(h+=l),!l&&0!==l||!h&&0!==h?void 0!==y[s]&&(f||f+""!="NaN"&&null!=f)?(i=new vt(y,s,h||l||0,0,i,-1,s,!1,0,d,f),i.xs0="none"!==f||"display"!==s&&-1===s.indexOf("Style")?f:d):Y("invalid "+s+" tween value: "+e[s]):(i=new vt(y,s,l,h-l,i,0,s,u!==!1&&("px"===g||"zIndex"===s),0,d,f),i.xs0=g))),n&&i&&!i.plugin&&(i.plugin=n);return i},h.setRatio=function(t){var e,i,n,r=this._firstPT,o=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(e=r.c*t+r.s,r.r?e=Math.round(e):o>e&&e>-o&&(e=0),r.type)if(1===r.type)if(n=r.l,2===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&-1!==r.type)if(e=Math.round(r.s+r.c),r.type){if(1===r.type){for(n=r.l,i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}}else r.t[r.p]=e+r.xs0;else r.t[r.p]=r.e;else r.setRatio(t);r=r._next}},h._enableTransforms=function(t){this._transform=this._transform||Bt(this._target,o,!0),this._transformType=this._transform.svg&&Tt||!t&&3!==this._transformType?2:3};var qt=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};h._addLazySet=function(t,e,i){var n=this._firstPT=new vt(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=qt,n.data=this},h._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},h._kill=function(e){var i,n,r,o=e;if(e.autoAlpha||e.alpha){o={};for(n in e)o[n]=e[n];o.opacity=1,o.autoAlpha&&(o.visibility=1)}return e.className&&(i=this._classNamePT)&&(r=i.xfirst,r&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),t.prototype._kill.call(this,o)};var Gt=function(t,e,i){var n,r,o,s;if(t.slice)for(r=t.length;--r>-1;)Gt(t[r],e,i);else for(n=t.childNodes,r=n.length;--r>-1;)o=n[r],s=o.type,o.style&&(e.push(tt(o)),i&&i.push(o)),1!==s&&9!==s&&11!==s||!o.childNodes.length||Gt(o,e,i)};return a.cascadeTo=function(t,i,n){var r,o,s,a,l=e.to(t,i,n),c=[l],h=[],u=[],d=[],f=e._internals.reservedProps;for(t=l._targets||l.target,Gt(t,h,d),l.render(i,!0,!0),Gt(t,u),l.render(0,!0,!0),l._enabled(!0),r=d.length;--r>-1;)if(o=et(d[r],h[r],u[r]),o.firstMPT){o=o.difs;for(s in n)f[s]&&(o[s]=n[s]);a={};for(s in o)a[s]=h[r][s];c.push(e.fromTo(d[r],i,a,o))}return c},t.activate([a]),a},!0),function(){var t=i._gsDefine.plugin({propName:"roundProps",version:"1.5",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),e=function(t){for(;t;)t.f||t.blob||(t.r=1),t=t._next},n=t.prototype;n._onInitAllProps=function(){for(var t,i,n,r=this._tween,o=r.vars.roundProps.join?r.vars.roundProps:r.vars.roundProps.split(","),s=o.length,a={},l=r._propLookup.roundProps;--s>-1;)a[o[s]]=1;for(s=o.length;--s>-1;)for(t=o[s],i=r._firstPT;i;)n=i._next,i.pg?i.t._roundProps(a,!0):i.n===t&&(2===i.f&&i.t?e(i.t._firstPT):(this._add(i.t,t,i.s,i.c),n&&(n._prev=i._prev),i._prev?i._prev._next=n:r._firstPT===i&&(r._firstPT=n),i._next=i._prev=null,r._propLookup[t]=l)),i=n;return!1},n._add=function(t,e,i,n){this._addTween(t,e,i,i+n,e,!0),this._overwriteProps.push(e)}}(),function(){i._gsDefine.plugin({propName:"attr",API:2,version:"0.5.0",init:function(t,e,i){var n;if("function"!=typeof t.setAttribute)return!1;for(n in e)this._addTween(t,"setAttribute",t.getAttribute(n)+"",e[n]+"",n,!1,n),this._overwriteProps.push(n);return!0}})}(),i._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(t,e,i){"object"!=typeof e&&(e={rotation:e}),this.finals={};var n,r,o,s,a,l,c=e.useRadians===!0?2*Math.PI:360,h=1e-6;for(n in e)"useRadians"!==n&&(l=(e[n]+"").split("_"),r=l[0],o=parseFloat("function"!=typeof t[n]?t[n]:t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]()),s=this.finals[n]="string"==typeof r&&"="===r.charAt(1)?o+parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)):Number(r)||0,a=s-o,l.length&&(r=l.join("_"),-1!==r.indexOf("short")&&(a%=c,a!==a%(c/2)&&(a=0>a?a+c:a-c)),-1!==r.indexOf("_cw")&&0>a?a=(a+9999999999*c)%c-(a/c|0)*c:-1!==r.indexOf("ccw")&&a>0&&(a=(a-9999999999*c)%c-(a/c|0)*c)),(a>h||-h>a)&&(this._addTween(t,n,o,o+a,n),this._overwriteProps.push(n)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,i._gsDefine("easing.Back",["easing.Ease"],function(t){var e,n,r,o=i.GreenSockGlobals||i,s=o.com.greensock,a=2*Math.PI,l=Math.PI/2,c=s._class,h=function(e,i){var n=c("easing."+e,function(){},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,n},u=t.register||function(){},d=function(t,e,i,n,r){var o=c("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return u(o,t),o},f=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},p=function(e,i){var n=c("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,r.config=function(t){return new n(t)},n},g=d("Back",p("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),p("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),p("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),m=c("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),v=m.prototype=new t;return v.constructor=m,v.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},m.ease=new m(.7,.7),v.config=m.config=function(t,e,i){return new m(t,e,i)},e=c("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),v=e.prototype=new t,v.constructor=e,v.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},v.config=e.config=function(t){return new e(t)},n=c("easing.RoughEase",function(e){e=e||{};for(var i,n,r,o,s,a,l=e.taper||"none",c=[],h=0,u=0|(e.points||20),d=u,p=e.randomize!==!1,g=e.clamp===!0,m=e.template instanceof t?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;--d>-1;)i=p?Math.random():1/u*d,n=m?m.getRatio(i):i,"none"===l?r=v:"out"===l?(o=1-i,r=o*o*v):"in"===l?r=i*i*v:.5>i?(o=2*i,r=o*o*.5*v):(o=2*(1-i),r=o*o*.5*v),p?n+=Math.random()*r-.5*r:d%2?n+=.5*r:n-=.5*r,g&&(n>1?n=1:0>n&&(n=0)),c[h++]={x:i,y:n};for(c.sort(function(t,e){return t.x-e.x}),a=new f(1,1,null),d=u;--d>-1;)s=c[d],a=new f(s.x,s.y,a);this._prev=new f(0,0,0!==a.t?a:a.next)},!0),v=n.prototype=new t,v.constructor=n,v.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},v.config=function(t){return new n(t)},n.ease=new n,d("Bounce",h("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),h("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),h("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),d("Circ",h("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),h("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),h("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),r=function(e,i,n){var r=c("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||n)/(1>t?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),o=r.prototype=new t;return o.constructor=r,o.getRatio=i,o.config=function(t,e){return new r(t,e)},r},d("Elastic",r("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),r("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),r("ElasticInOut",function(t){return(t*=2)<1?-.5*(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),d("Expo",h("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),h("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),h("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),d("Sine",h("SineOut",function(t){return Math.sin(t*l)}),h("SineIn",function(t){return-Math.cos(t*l)+1}),h("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),c("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),u(o.SlowMo,"SlowMo","ease,"),u(n,"RoughEase","ease,"),u(e,"SteppedEase","ease,"),g},!0)}),i._gsDefine&&i._gsQueue.pop()(),function(t,i){"use strict";var n=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!n.TweenLite){var r,o,s,a,l,c=function(t){var e,i=t.split("."),r=n;for(e=0;e<i.length;e++)r[i[e]]=r=r[i[e]]||{};return r},h=c("com.greensock"),u=1e-10,d=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},f=function(){},p=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),g={},m=function(r,o,s,a){this.sc=g[r]?g[r].sc:[],g[r]=this,this.gsClass=null,this.func=s;var l=[];this.check=function(h){for(var u,d,f,p,v,y=o.length,w=y;--y>-1;)(u=g[o[y]]||new m(o[y],[])).gsClass?(l[y]=u.gsClass,w--):h&&u.sc.push(this);if(0===w&&s)for(d=("com.greensock."+r).split("."),f=d.pop(),p=c(d.join("."))[f]=this.gsClass=s.apply(s,l),a&&(n[f]=p,v="undefined"!=typeof e&&e.exports,!v&&"function"==typeof define&&define.amd?define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+r.split(".").pop(),[],function(){return p}):r===i&&v&&(e.exports=p)),y=0;y<this.sc.length;y++)this.sc[y].check()},this.check(!0)},v=t._gsDefine=function(t,e,i,n){return new m(t,e,i,n)},y=h._class=function(t,e,i){return e=e||function(){},v(t,[],function(){return e},i),e};v.globals=n;var w=[0,0,1,1],_=[],b=y("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?w.concat(e):w},!0),x=b.map={},C=b.register=function(t,e,i,n){for(var r,o,s,a,l=e.split(","),c=l.length,u=(i||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(o=l[c],r=n?y("easing."+o,null,!0):h.easing[o]||{},s=u.length;--s>-1;)a=u[s],x[o+"."+a]=x[a+o]=r[a]=t.getRatio?t:t[a]||new t};for(s=b.prototype,s._calcEnd=!1,s.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:.5>t?n/2:1-n/2},r=["Linear","Quad","Cubic","Quart","Quint,Strong"],o=r.length;--o>-1;)s=r[o]+",Power"+o,C(new b(null,null,1,o),s,"easeOut",!0),C(new b(null,null,2,o),s,"easeIn"+(0===o?",easeNone":"")),C(new b(null,null,3,o),s,"easeInOut");x.linear=h.easing.Linear.easeIn,x.swing=h.easing.Quad.easeInOut;var T=y("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});s=T.prototype,s.addEventListener=function(t,e,i,n,r){r=r||0;var o,s,c=this._listeners[t],h=0;for(null==c&&(this._listeners[t]=c=[]),s=c.length;--s>-1;)o=c[s],o.c===e&&o.s===i?c.splice(s,1):0===h&&o.pr<r&&(h=s+1);c.splice(h,0,{c:e,s:i,up:n,pr:r}),this!==a||l||a.wake()},s.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},s.dispatchEvent=function(t){var e,i,n,r=this._listeners[t];if(r)for(e=r.length,i=this._eventTarget;--e>-1;)n=r[e],n&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var S=t.requestAnimationFrame,E=t.cancelAnimationFrame,k=Date.now||function(){return(new Date).getTime()},R=k();for(r=["ms","moz","webkit","o"],o=r.length;--o>-1&&!S;)S=t[r[o]+"RequestAnimationFrame"],E=t[r[o]+"CancelAnimationFrame"]||t[r[o]+"CancelRequestAnimationFrame"];y("Ticker",function(t,e){var i,n,r,o,s,c=this,h=k(),d=e!==!1&&S?"auto":!1,p=500,g=33,m="tick",v=function(t){var e,a,l=k()-R;l>p&&(h+=l-g),R+=l,c.time=(R-h)/1e3,e=c.time-s,(!i||e>0||t===!0)&&(c.frame++,s+=e+(e>=o?.004:o-e),a=!0),t!==!0&&(r=n(v)),a&&c.dispatchEvent(m)};T.call(c),c.time=c.frame=0,c.tick=function(){v(!0)},c.lagSmoothing=function(t,e){p=t||1/u,g=Math.min(e,p,0)},c.sleep=function(){null!=r&&(d&&E?E(r):clearTimeout(r),n=f,r=null,c===a&&(l=!1))},c.wake=function(t){null!==r?c.sleep():t?h+=-R+(R=k()):c.frame>10&&(R=k()-p+5),n=0===i?f:d&&S?S:function(t){return setTimeout(t,1e3*(s-c.time)+1|0)},c===a&&(l=!0),v(2)},c.fps=function(t){return arguments.length?(i=t,o=1/(i||60),s=this.time+o,void c.wake()):i},c.useRAF=function(t){return arguments.length?(c.sleep(),d=t,void c.fps(i)):d},c.fps(t),setTimeout(function(){"auto"===d&&c.frame<5&&"hidden"!==document.visibilityState&&c.useRAF(!1)},1500)}),s=h.Ticker.prototype=new h.events.EventDispatcher,s.constructor=h.Ticker;var P=y("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,G){l||a.wake();var i=this.vars.useFrames?q:G;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});a=P.ticker=new h.Ticker,s=P.prototype,s._dirty=s._gc=s._initted=s._paused=!1,s._totalTime=s._time=0,s._rawPrevTime=-1,s._next=s._last=s._onUpdate=s._timeline=s.timeline=null,s._paused=!1;var A=function(){l&&k()-R>2e3&&a.wake(),setTimeout(A,2e3)};A(),s.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},s.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},s.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},s.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},s.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},s.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},s.render=function(t,e,i){},s.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},s.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&t<i+this.totalDuration()/this._timeScale},s._enabled=function(t,e){return l||a.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},s._kill=function(t,e){return this._enabled(!1,!1)},s.kill=function(t,e){return this._kill(t,e),this},s._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},s._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},s._callback=function(t){var e=this.vars;e[t].apply(e[t+"Scope"]||e.callbackScope||this,e[t+"Params"]||_)},s.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=p(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},s.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},s.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},s.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},s.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},s.totalTime=function(t,e,i){if(l||a.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(I.length&&Q(),this.render(t,e,!1),I.length&&Q())}return this},s.progress=s.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},s.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},s.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},s.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||u,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},s.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},s.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(l||t||a.wake(),e=n.rawTime(),i=e-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var O=y("core.SimpleTimeline",function(t){P.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});s=O.prototype=new P,s.constructor=O,s.kill()._gc=!1,s._first=s._last=s._recent=null,s._sortChildren=!1,s.add=s.insert=function(t,e,i,n){var r,o;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(o=t._startTime;r&&r._startTime>o;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},s._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},s.render=function(t,e,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)n=r._next,(r._active||t>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=n},s.rawTime=function(){return l||a.wake(),this._totalTime};var N=y("TweenLite",function(e,i,n){if(P.call(this,i,n),this.render=N.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:N.selector(e)||e;var r,o,s,a=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?Y[N.defaultOverwrite]:"number"==typeof l?l>>0:Y[l],(a||e instanceof Array||e.push&&p(e))&&"number"!=typeof e[0])for(this._targets=s=d(e),this._propLookup=[],this._siblings=[],r=0;r<s.length;r++)o=s[r],o?"string"!=typeof o?o.length&&o!==t&&o[0]&&(o[0]===t||o[0].nodeType&&o[0].style&&!o.nodeType)?(s.splice(r--,1),this._targets=s=s.concat(d(o))):(this._siblings[r]=K(o,this,!1),1===l&&this._siblings[r].length>1&&J(o,this,null,1,this._siblings[r])):(o=s[r--]=N.selector(o),"string"==typeof o&&s.splice(r+1,1)):s.splice(r--,1);else this._propLookup={},this._siblings=K(e,this,!1),1===l&&this._siblings.length>1&&J(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-u,this.render(Math.min(0,-this._delay)))},!0),D=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},M=function(t,e){var i,n={};for(i in t)U[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!W[i]||W[i]&&W[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n};s=N.prototype=new P,s.constructor=N,s.kill()._gc=!1,s.ratio=0,s._firstPT=s._targets=s._overwrittenProps=s._startAt=null,s._notifyPluginsOfEnabled=s._lazy=!1,N.version="1.18.4",N.defaultEase=s._ease=new b(null,null,1,1),N.defaultOverwrite="auto",N.ticker=a,N.autoSleep=120,N.lagSmoothing=function(t,e){a.lagSmoothing(t,e)},N.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(N.selector=i,i(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var I=[],H={},L=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,F=function(t){for(var e,i=this._firstPT,n=1e-6;i;)e=i.blob?t?this.join(""):this.start:i.c*t+i.s,i.r?e=Math.round(e):n>e&&e>-n&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},z=function(t,e,i,n){var r,o,s,a,l,c,h,u=[t,e],d=0,f="",p=0;for(u.start=t,i&&(i(u),t=u[0],e=u[1]),u.length=0,r=t.match(L)||[],o=e.match(L)||[],n&&(n._next=null,n.blob=1,u._firstPT=n),l=o.length,a=0;l>a;a++)h=o[a],c=e.substr(d,e.indexOf(h,d)-d),f+=c||!a?c:",",d+=c.length,p?p=(p+1)%5:"rgba("===c.substr(-5)&&(p=1),h===r[a]||r.length<=a?f+=h:(f&&(u.push(f),f=""),s=parseFloat(r[a]),u.push(s),u._firstPT={_next:u._firstPT,t:u,p:u.length-1,s:s,c:("="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*parseFloat(h.substr(2)):parseFloat(h)-s)||0,f:0,r:p&&4>p}),d+=h.length;return f+=e.substr(d),f&&u.push(f),u.setRatio=F,u},B=function(t,e,i,n,r,o,s,a){var l,c,h="get"===i?t[e]:i,u=typeof t[e],d="string"==typeof n&&"="===n.charAt(1),f={t:t,p:e,s:h,f:"function"===u,pg:0,n:r||e,r:o,pr:0,c:d?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-h||0};return"number"!==u&&("function"===u&&"get"===i&&(c=e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),f.s=h=s?t[c](s):t[c]()),"string"==typeof h&&(s||isNaN(h))?(f.fp=s,l=z(h,n,a||N.defaultStringFilter,f),f={t:l,p:"setRatio",s:0,c:1,f:2,pg:0,n:r||e,pr:0}):d||(f.s=parseFloat(h),f.c=parseFloat(n)-f.s||0)),f.c?((f._next=this._firstPT)&&(f._next._prev=f),this._firstPT=f,f):void 0},V=N._internals={isArray:p,isSelector:D,lazyTweens:I,blobDif:z},W=N._plugins={},j=V.tweenLookup={},X=0,U=V.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1},Y={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},q=P._rootFramesTimeline=new O,G=P._rootTimeline=new O,$=30,Q=V.lazyRender=function(){var t,e=I.length;for(H={};--e>-1;)t=I[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);I.length=0};G._startTime=a.time,q._startTime=a.frame,G._active=q._active=!0,setTimeout(Q,1),P._updateRoot=N.render=function(){var t,e,i;if(I.length&&Q(),G.render((a.time-G._startTime)*G._timeScale,!1,!1),q.render((a.frame-q._startTime)*q._timeScale,!1,!1),I.length&&Q(),a.frame>=$){$=a.frame+(parseInt(N.autoSleep,10)||120);for(i in j){for(e=j[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete j[i]}if(i=G._first,(!i||i._paused)&&N.autoSleep&&!q._first&&1===a._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||a.sleep()}}},a.addEventListener("tick",P._updateRoot);var K=function(t,e,i){var n,r,o=t._gsTweenID;if(j[o||(t._gsTweenID=o="t"+X++)]||(j[o]={target:t,tweens:[]}),e&&(n=j[o].tweens,n[r=n.length]=e,
i))for(;--r>-1;)n[r]===e&&n.splice(r,1);return j[o].tweens},Z=function(t,e,i,n){var r,o,s=t.vars.onOverwrite;return s&&(r=s(t,e,i,n)),s=N.onOverwrite,s&&(o=s(t,e,i,n)),r!==!1&&o!==!1},J=function(t,e,i,n,r){var o,s,a,l;if(1===n||n>=4){for(l=r.length,o=0;l>o;o++)if((a=r[o])!==e)a._gc||a._kill(null,t,e)&&(s=!0);else if(5===n)break;return s}var c,h=e._startTime+u,d=[],f=0,p=0===e._duration;for(o=r.length;--o>-1;)(a=r[o])===e||a._gc||a._paused||(a._timeline!==e._timeline?(c=c||tt(e,0,p),0===tt(a,c,p)&&(d[f++]=a)):a._startTime<=h&&a._startTime+a.totalDuration()/a._timeScale>h&&((p||!a._initted)&&h-a._startTime<=2e-10||(d[f++]=a)));for(o=f;--o>-1;)if(a=d[o],2===n&&a._kill(i,t,e)&&(s=!0),2!==n||!a._firstPT&&a._initted){if(2!==n&&!Z(a,e))continue;a._enabled(!1,!1)&&(s=!0)}return s},tt=function(t,e,i){for(var n=t._timeline,r=n._timeScale,o=t._startTime;n._timeline;){if(o+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return o/=r,o>e?o-e:i&&o===e||!t._initted&&2*u>o-e?u:(o+=t.totalDuration()/t._timeScale/r)>e+u?0:o-e-u};s._init=function(){var t,e,i,n,r,o=this.vars,s=this._overwrittenProps,a=this._duration,l=!!o.immediateRender,c=o.ease;if(o.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(n in o.startAt)r[n]=o.startAt[n];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=l&&o.lazy!==!1,r.startAt=r.delay=null,this._startAt=N.to(this.target,0,r),l)if(this._time>0)this._startAt=null;else if(0!==a)return}else if(o.runBackwards&&0!==a)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),i={};for(n in o)U[n]&&"autoCSS"!==n||(i[n]=o[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&o.lazy!==!1,i.immediateRender=l,this._startAt=N.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof b?c:"function"==typeof c?new b(c,o.easeParams):x[c]||N.defaultEase:N.defaultEase,o.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],s?s[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,s);if(e&&N._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=o.onUpdate,this._initted=!0},s._initProps=function(e,i,n,r){var o,s,a,l,c,h;if(null==e)return!1;H[e._gsTweenID]&&Q(),this.vars.css||e.style&&e!==t&&e.nodeType&&W.css&&this.vars.autoCSS!==!1&&M(this.vars,e);for(o in this.vars)if(h=this.vars[o],U[o])h&&(h instanceof Array||h.push&&p(h))&&-1!==h.join("").indexOf("{self}")&&(this.vars[o]=h=this._swapSelfInParams(h,this));else if(W[o]&&(l=new W[o])._onInitTween(e,this.vars[o],this)){for(this._firstPT=c={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:o,pg:1,pr:l._priority},s=l._overwriteProps.length;--s>-1;)i[l._overwriteProps[s]]=this._firstPT;(l._priority||l._onInitAllProps)&&(a=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),c._next&&(c._next._prev=c)}else i[o]=B.call(this,e,o,"get",h,o,0,null,this.vars.stringFilter);return r&&this._kill(r,e)?this._initProps(e,i,n,r):this._overwrite>1&&this._firstPT&&n.length>1&&J(e,this,i,this._overwrite,n)?(this._kill(i,e),this._initProps(e,i,n,r)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(H[e._gsTweenID]=!0),a)},s.render=function(t,e,i){var n,r,o,s,a=this._time,l=this._duration,c=this._rawPrevTime;if(t>=l-1e-7)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0>c||0>=t&&t>=-1e-7||c===u&&"isPause"!==this.data)&&c!==t&&(i=!0,c>u&&(r="onReverseComplete")),this._rawPrevTime=s=!e||t||c===t?t:u);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===l&&c>0)&&(r="onReverseComplete",n=this._reversed),0>t&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(c>=0&&(c!==u||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=s=!e||t||c===t?t:u)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var h=t/l,d=this._easeType,f=this._easePower;(1===d||3===d&&h>=.5)&&(h=1-h),3===d&&(h*=2),1===f?h*=h:2===f?h*=h*h:3===f?h*=h*h*h:4===f&&(h*=h*h*h*h),1===d?this.ratio=1-h:2===d?this.ratio=h:.5>t/l?this.ratio=h/2:this.ratio=1-h/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=c,I.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&t>=0&&(this._active=!0),0===a&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==l||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(0>t&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,i),e||(this._time!==a||n||i)&&this._callback("onUpdate")),r&&(this._gc&&!i||(0>t&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===l&&this._rawPrevTime===u&&s!==u&&(this._rawPrevTime=0)))}},s._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:N.selector(e)||e;var n,r,o,s,a,l,c,h,u,d=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((p(e)||D(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n],i)&&(l=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){a=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(c=t||a,h=t!==r&&"all"!==r&&t!==a&&("object"!=typeof t||!t._tempKill),i&&(N.onOverwrite||this.vars.onOverwrite)){for(o in c)a[o]&&(u||(u=[]),u.push(o));if((u||!t)&&!Z(this,i,e,u))return!1}for(o in c)(s=a[o])&&(d&&(s.f?s.t[s.p](s.s):s.t[s.p]=s.s,l=!0),s.pg&&s.t._kill(c)&&(l=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete a[o]),h&&(r[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},s.invalidate=function(){return this._notifyPluginsOfEnabled&&N._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],P.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-u,this.render(Math.min(0,-this._delay))),this},s._enabled=function(t,e){if(l||a.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=K(n[i],this,!0);else this._siblings=K(this.target,this,!0)}return P.prototype._enabled.call(this,t,e),this._notifyPluginsOfEnabled&&this._firstPT?N._onPluginEvent(t?"_onEnable":"_onDisable",this):!1},N.to=function(t,e,i){return new N(t,e,i)},N.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new N(t,e,i)},N.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new N(t,e,n)},N.delayedCall=function(t,e,i,n,r){return new N(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},N.set=function(t,e){return new N(t,0,e)},N.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:N.selector(t)||t;var i,n,r,o;if((p(t)||D(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(N.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(o=n[i],r=i;--r>-1;)o===n[r]&&n.splice(i,1)}else for(n=K(t).concat(),i=n.length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n},N.killTweensOf=N.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=N.getTweensOf(t,e),r=n.length;--r>-1;)n[r]._kill(i,t)};var et=y("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=et.prototype},!0);if(s=et.prototype,et.version="1.18.0",et.API=2,s._firstPT=null,s._addTween=B,s.setRatio=F,s._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},s._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},N._onPluginEvent=function(t,e){var i,n,r,o,s,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(s=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:o)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:o=a,a=s}a=e._firstPT=r}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(i=!0),a=a._next;return i},et.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===et.API&&(W[(new t[e])._propName]=t[e]);return!0},v.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,r=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},s=y("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){et.call(this,i,n),this._overwriteProps=r||[]},t.global===!0),a=s.prototype=new et(i);a.constructor=s,s.API=t.API;for(e in o)"function"==typeof t[e]&&(a[o[e]]=t[e]);return s.version=t.version,et.activate([s]),s},r=t._gsQueue){for(o=0;o<r.length;o++)r[o]();for(s in g)g[s].func||t.console.log("GSAP encountered missing dependency: com.greensock."+s)}l=!1}}("undefined"!=typeof e&&e.exports&&"undefined"!=typeof t?t:this||window,"TweenMax")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],backbone:[function(t,e,i){(function(e){!function(n){var r="object"==typeof self&&self.self==self&&self||"object"==typeof e&&e.global==e&&e;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(t,e,i){r.Backbone=n(r,i,t,e)});else if("undefined"!=typeof i){var o,s=t("underscore");n(r,i,s,o)}else r.Backbone=n(r,{},r._,r.jQuery||r.Zepto||r.ender||r.$)}(function(t,e,i,n){var r=t.Backbone,o=[].slice;e.VERSION="1.2.1",e.$=n,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=function(t,e,n){switch(t){case 1:return function(){return i[e](this[n])};case 2:return function(t){return i[e](this[n],t)};case 3:return function(t,r){return i[e](this[n],l(t,this),r)};case 4:return function(t,r,o){return i[e](this[n],l(t,this),r,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[n]),i[e].apply(i,t)}}},a=function(t,e,n){i.each(e,function(e,r){i[r]&&(t.prototype[r]=s(e,r,n))})},l=function(t,e){return i.isFunction(t)?t:i.isObject(t)&&!e._isModel(t)?c(t):i.isString(t)?function(e){return e.get(t)}:t},c=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}},h=e.Events={},u=/\s+/,d=function(t,e,n,r,o){var s,a=0;if(n&&"object"==typeof n){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(s=i.keys(n);a<s.length;a++)e=d(t,e,s[a],n[s[a]],o)}else if(n&&u.test(n))for(s=n.split(u);a<s.length;a++)e=t(e,s[a],r,o);else e=t(e,n,r,o);return e};h.on=function(t,e,i){return f(this,t,e,i)};var f=function(t,e,i,n,r){if(t._events=d(p,t._events||{},e,i,{context:n,ctx:t,listening:r}),r){var o=t._listeners||(t._listeners={});o[r.id]=r}return t};h.listenTo=function(t,e,n){if(!t)return this;var r=t._listenId||(t._listenId=i.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),s=o[r];if(!s){var a=this._listenId||(this._listenId=i.uniqueId("l"));s=o[r]={obj:t,objId:r,id:a,listeningTo:o,count:0}}return f(t,e,n,this,s),this};var p=function(t,e,i,n){if(i){var r=t[e]||(t[e]=[]),o=n.context,s=n.ctx,a=n.listening;a&&a.count++,r.push({callback:i,context:o,ctx:o||s,listening:a})}return t};h.off=function(t,e,i){return this._events?(this._events=d(g,this._events,t,e,{context:i,listeners:this._listeners}),this):this},h.stopListening=function(t,e,n){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:i.keys(r),s=0;s<o.length;s++){var a=r[o[s]];if(!a)break;a.obj.off(e,n,this)}return i.isEmpty(r)&&(this._listeningTo=void 0),this};var g=function(t,e,n,r){if(t){var o,s=0,a=r.context,l=r.listeners;if(e||n||a){for(var c=e?[e]:i.keys(t);s<c.length;s++){e=c[s];var h=t[e];if(!h)break;for(var u=[],d=0;d<h.length;d++){var f=h[d];n&&n!==f.callback&&n!==f.callback._callback||a&&a!==f.context?u.push(f):(o=f.listening,o&&0===--o.count&&(delete l[o.id],delete o.listeningTo[o.objId]))}u.length?t[e]=u:delete t[e]}return i.size(t)?t:void 0}for(var p=i.keys(l);s<p.length;s++)o=l[p[s]],delete l[o.id],delete o.listeningTo[o.objId]}};h.once=function(t,e,n){var r=d(m,{},t,e,i.bind(this.off,this));return this.on(r,void 0,n)},h.listenToOnce=function(t,e,n){var r=d(m,{},e,n,i.bind(this.stopListening,this,t));return this.listenTo(t,r)};var m=function(t,e,n,r){if(n){var o=t[e]=i.once(function(){r(e,o),n.apply(this,arguments)});o._callback=n}return t};h.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;e>n;n++)i[n]=arguments[n+1];return d(v,this._events,t,void 0,i),this};var v=function(t,e,i,n){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&y(r,n),o&&y(o,[e].concat(n))}return t},y=function(t,e){var i,n=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++n<r;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<r;)(i=t[n]).callback.call(i.ctx,o);return;case 2:for(;++n<r;)(i=t[n]).callback.call(i.ctx,o,s);return;case 3:for(;++n<r;)(i=t[n]).callback.call(i.ctx,o,s,a);return;default:for(;++n<r;)(i=t[n]).callback.apply(i.ctx,e);return}};h.bind=h.on,h.unbind=h.off,i.extend(e,h);var w=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{}),n=i.defaults({},n,i.result(this,"defaults")),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(w.prototype,h,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var r;if("object"==typeof t?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;var o=n.unset,s=n.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=i.clone(this.attributes),this.changed={});var c=this.attributes,h=this.changed,u=this._previousAttributes;for(var d in r)e=r[d],i.isEqual(c[d],e)||a.push(d),i.isEqual(u[d],e)?delete h[d]:h[d]=e,o?delete c[d]:c[d]=e;if(this.id=this.get(this.idAttribute),!s){a.length&&(this._pending=n);for(var f=0;f<a.length;f++)this.trigger("change:"+a[f],this,c[a[f]],n)}if(l)return this;if(!s)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?i.clone(this.changed):!1;var e=this._changing?this._previousAttributes:this.attributes,n={};for(var r in t){var o=t[r];i.isEqual(e[r],o)||(n[r]=o)}return i.size(n)?n:!1},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:!0},t);var e=this,n=t.success;return t.success=function(i){var r=t.parse?e.parse(i,t):i;return e.set(r,t)?(n&&n.call(t.context,e,i,t),void e.trigger("sync",e,i,t)):!1},B(this,t),this.sync("read",this,t)},save:function(t,e,n){var r;null==t||"object"==typeof t?(r=t,n=e):(r={})[t]=e,n=i.extend({validate:!0,parse:!0},n);var o=n.wait;if(r&&!o){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;var s=this,a=n.success,l=this.attributes;n.success=function(t){s.attributes=l;var e=n.parse?s.parse(t,n):t;return o&&(e=i.extend({},r,e)),e&&!s.set(e,n)?!1:(a&&a.call(n.context,s,t,n),void s.trigger("sync",s,t,n))},B(this,n),r&&o&&(this.attributes=i.extend({},l,r));var c=this.isNew()?"create":n.patch?"patch":"update";"patch"!==c||n.attrs||(n.attrs=r);var h=this.sync(c,this,n);return this.attributes=l,h},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){r&&o(),n&&n.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var s=!1;return this.isNew()?i.defer(t.success):(B(this,t),s=this.sync("delete",this,t)),r||o(),s},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||z();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.defaults({validate:!0},t))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return n?(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1):!0}});var _={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};a(w,_,"attributes");var b=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},x={add:!0,remove:!0,merge:!0},C={add:!0,remove:!1};i.extend(b.prototype,h,{model:w,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,C))},remove:function(t,e){e=i.extend({},e);var n=!i.isArray(t);t=n?[t]:i.clone(t);var r=this._removeModels(t,e);return!e.silent&&r&&this.trigger("update",this,e),n?r[0]:r},set:function(t,e){e=i.defaults({},e,x),e.parse&&!this._isModel(t)&&(t=this.parse(t,e));var n=!i.isArray(t);t=n?t?[t]:[]:t.slice();var r,o,s,a,l,c=e.at;null!=c&&(c=+c),0>c&&(c+=this.length+1);for(var h=this.comparator&&null==c&&e.sort!==!1,u=i.isString(this.comparator)?this.comparator:null,d=[],f=[],p={},g=e.add,m=e.merge,v=e.remove,y=!h&&g&&v?[]:!1,w=!1,_=0;_<t.length;_++){if(s=t[_],a=this.get(s))v&&(p[a.cid]=!0),m&&s!==a&&(s=this._isModel(s)?s.attributes:s,e.parse&&(s=a.parse(s,e)),a.set(s,e),h&&!l&&a.hasChanged(u)&&(l=!0)),t[_]=a;else if(g){if(o=t[_]=this._prepareModel(s,e),!o)continue;d.push(o),this._addReference(o,e)}o=a||o,o&&(r=this.modelId(o.attributes),!y||!o.isNew()&&p[r]||(y.push(o),w=w||!this.models[_]||o.cid!==this.models[_].cid),p[r]=!0)}if(v){for(var _=0;_<this.length;_++)p[(o=this.models[_]).cid]||f.push(o);f.length&&this._removeModels(f,e)}if(d.length||w)if(h&&(l=!0),this.length+=d.length,null!=c)for(var _=0;_<d.length;_++)this.models.splice(c+_,0,d[_]);else{y&&(this.models.length=0);for(var b=y||d,_=0;_<b.length;_++)this.models.push(b[_])}if(l&&this.sort({silent:!0}),!e.silent){for(var C=null!=c?i.clone(e):e,_=0;_<d.length;_++)null!=c&&(C.index=c+_),(o=d[_]).trigger("add",o,this,C);(l||w)&&this.trigger("sort",this,e),(d.length||f.length)&&this.trigger("update",this,e)}return n?t[0]:t},reset:function(t,e){e=e?i.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t){var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]}},at:function(t){return 0>t&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),i.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(i.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return i.invoke(this.models,"get",t)},fetch:function(t){t=i.extend({parse:!0},t);var e=t.success,n=this;return t.success=function(i){var r=t.reset?"reset":"set";n[r](i,t),e&&e.call(t.context,n,i,t),n.trigger("sync",n,i,t)},B(this,t),this.sync("read",this,t)},create:function(t,e){e=e?i.clone(e):{};var n=e.wait;if(t=this._prepareModel(t,e),!t)return!1;n||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,i){n&&r.add(t,i),o&&o.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?i.clone(e):{},e.collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var r=this.get(t[n]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,e.silent||(e.index=o,r.trigger("remove",r,this,e)),i.push(r),this._removeReference(r,e)}}return i.length?i:!1},_isModel:function(t){return t instanceof w},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if("add"!==t&&"remove"!==t||i===this){if("destroy"===t&&this.remove(e,n),"change"===t){var r=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e))}this.trigger.apply(this,arguments)}}});var T={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:2,contains:2,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3};a(b,T,"models");var S=e.View=function(t){this.cid=i.uniqueId("view"),i.extend(this,i.pick(t,k)),this._ensureElement(),this.initialize.apply(this,arguments)},E=/^(\S+)\s*(.*)$/,k=["model","collection","el","id","attributes","className","tagName","events"];i.extend(S.prototype,h,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var n=t[e];if(i.isFunction(n)||(n=this[n]),n){var r=e.match(E);this.delegate(r[1],r[2],i.bind(n,this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t["class"]=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,n,r){var o=R[t];i.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:o,dataType:"json"};if(r.url||(s.url=i.result(n,"url")||z()),null!=r.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",r.emulateJSON&&(s.data._method=o);var a=r.beforeSend;r.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",o),a?a.apply(this,arguments):void 0}}"GET"===s.type||r.emulateJSON||(s.processData=!1);var l=r.error;r.error=function(t,e,i){r.textStatus=e,r.errorThrown=i,l&&l.call(r.context,t,e,i)};var c=r.xhr=e.ajax(i.extend(s,r));return n.trigger("request",n,c,r),c};var R={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var P=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,O=/(\(\?)?:\w+/g,N=/\*\w+/g,D=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(P.prototype,h,{initialize:function(){},route:function(t,n,r){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var o=this;return e.history.route(t,function(i){var s=o._extractParameters(t,i);o.execute(r,s,n)!==!1&&(o.trigger.apply(o,["route:"+n].concat(s)),o.trigger("route",n,s),e.history.trigger("route",o,n,s))}),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(D,"\\$&").replace(A,"(?:$1)?").replace(O,function(t,e){return e?t:"([^/?]+)"}).replace(N,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var M=e.History=function(){this.handlers=[],this.checkUrl=i.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,H=/^\/+|\/+$/g,L=/#.*$/;M.started=!1,i.extend(M.prototype,h,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(I,"")},start:function(t){if(M.started)throw new Error("Backbone.history has already been started");if(M.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window,this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(H,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,r=n.insertBefore(this.iframe,n.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};return this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),M.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return this.matchRoot()?(t=this.fragment=this.getFragment(t),i.some(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})):!1},navigate:function(t,e){if(!M.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+t;if(t=this.decodeFragment(t.replace(L,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{
if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new M;var F=function(t,e){var n,r=this;n=t&&i.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},i.extend(n,r,e);var o=function(){this.constructor=n};return o.prototype=r.prototype,n.prototype=new o,t&&i.extend(n.prototype,t),n.__super__=r.prototype,n};w.extend=b.extend=P.extend=S.extend=M.extend=F;var z=function(){throw new Error('A "url" property or function must be specified')},B=function(t,e){var i=e.error;e.error=function(n){i&&i.call(e.context,t,n,e),t.trigger("error",t,n,e)}};return e})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{underscore:2}],"chartist-plugin-tooltip":[function(t,e,i){!function(n,r){"function"==typeof define&&define.amd?define(["chartist"],function(t){return n.returnExportsGlobal=r(t)}):"object"==typeof i?e.exports=r(t("chartist")):n["Chartist.plugins.tooltip"]=r(n.Chartist)}(this,function(t){"use strict";var e={valueTransform:t.noop,seriesName:!0};return t.plugins=t.plugins||{},t.plugins.tooltip=function(i){return i=t.extend({},e,i),function(e){var n=".ct-point";e instanceof t.Bar?n=".ct-bar":e instanceof t.Pie&&(n="[class^=ct-slice]");var r=$(e.container),o=r.append('<div class="ct-tooltip"></div>').find(".ct-tooltip").hide();r.on("mouseenter",n,function(){var t=$(this),e=t.parent().attr("ct:series-name"),n="";i.seriesName&&e&&(n+=e+"<br>"),t.attr("ct:meta")&&(n+=t.attr("ct:meta")+"<br>");var r=t.attr("ct:value")||"0";n+=i.valueTransform(r),o.html(n).show()}),r.on("mouseleave",n,function(){o.hide()}),r.on("mousemove",function(t){var e=$(t.target).parents(".ct-chart").siblings(".chart-title").height()+$(t.target).parents(".ct-chart").siblings(".chart-subtitle").height();navigator.userAgent.toLowerCase().indexOf("firefox")>-1?(e-="ct-slice-pie"===$(t.target).attr("class")||"ct-slice-donut"===$(t.target).attr("class")?22*$(t.target).parents(".ct-chart").height()/250:10*$(t.target).parents(".ct-chart").height()/250,o.css({left:t.originalEvent.layerX-o.width()/2-8,top:t.originalEvent.layerY-o.height()+e-o.height()-10})):o.css({left:(t.offsetX||t.originalEvent.layerX)-o.width()/2-8,top:(t.offsetY||t.originalEvent.layerY)+e-o.height()-10})})}},t.plugins.tooltip})},{chartist:"chartist"}],chartist:[function(t,e,i){!function(t,n){"function"==typeof define&&define.amd?define([],function(){return t.Chartist=n()}):"object"==typeof i?e.exports=n():t.Chartist=n()}(this,function(){var t={version:"0.9.1"};return function(t,e,i){"use strict";i.noop=function(t){return t},i.alphaNumerate=function(t){return String.fromCharCode(97+t%26)},i.extend=function(t){t=t||{};var e=Array.prototype.slice.call(arguments,1);return e.forEach(function(e){for(var n in e)"object"!=typeof e[n]||null===e[n]||e[n]instanceof Array?t[n]=e[n]:t[n]=i.extend({},t[n],e[n])}),t},i.replaceAll=function(t,e,i){return t.replace(new RegExp(e,"g"),i)},i.stripUnit=function(t){return"string"==typeof t&&(t=t.replace(/[^0-9\+-\.]/g,"")),+t},i.ensureUnit=function(t,e){return"number"==typeof t&&(t+=e),t},i.querySelector=function(t){return t instanceof Node?t:e.querySelector(t)},i.times=function(t){return Array.apply(null,new Array(t))},i.sum=function(t,e){return t+(e?e:0)},i.mapMultiply=function(t){return function(e){return e*t}},i.mapAdd=function(t){return function(e){return e+t}},i.serialMap=function(t,e){var n=[],r=Math.max.apply(null,t.map(function(t){return t.length}));return i.times(r).forEach(function(i,r){var o=t.map(function(t){return t[r]});n[r]=e.apply(null,o)}),n},i.roundWithPrecision=function(t,e){var n=Math.pow(10,e||i.precision);return Math.round(t*n)/n},i.precision=8,i.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},i.serialize=function(t){return null===t||void 0===t?t:("number"==typeof t?t=""+t:"object"==typeof t&&(t=JSON.stringify({data:t})),Object.keys(i.escapingMap).reduce(function(t,e){return i.replaceAll(t,e,i.escapingMap[e])},t))},i.deserialize=function(t){if("string"!=typeof t)return t;t=Object.keys(i.escapingMap).reduce(function(t,e){return i.replaceAll(t,i.escapingMap[e],e)},t);try{t=JSON.parse(t),t=void 0!==t.data?t.data:t}catch(e){}return t},i.createSvg=function(t,e,n,r){var o;return e=e||"100%",n=n||"100%",Array.prototype.slice.call(t.querySelectorAll("svg")).filter(function(t){return t.getAttributeNS("http://www.w3.org/2000/xmlns/",i.xmlNs.prefix)}).forEach(function(e){t.removeChild(e)}),o=new i.Svg("svg").attr({width:e,height:n}).addClass(r).attr({style:"width: "+e+"; height: "+n+";"}),t.appendChild(o._node),o},i.reverseData=function(t){t.labels.reverse(),t.series.reverse();for(var e=0;e<t.series.length;e++)"object"==typeof t.series[e]&&void 0!==t.series[e].data?t.series[e].data.reverse():t.series[e]instanceof Array&&t.series[e].reverse()},i.getDataArray=function(t,e,n){function r(t){return i.isFalseyButZero(t)?void 0:(t.data||t)instanceof Array?(t.data||t).map(r):t.hasOwnProperty("value")?r(t.value):n?{x:i.getNumberOrUndefined(t.x),y:t.hasOwnProperty("y")?i.getNumberOrUndefined(t.y):i.getNumberOrUndefined(t)}:i.getNumberOrUndefined(t)}return(e&&!t.reversed||!e&&t.reversed)&&(i.reverseData(t),t.reversed=!t.reversed),t.series.map(r)},i.normalizePadding=function(t,e){return e=e||0,"number"==typeof t?{top:t,right:t,bottom:t,left:t}:{top:"number"==typeof t.top?t.top:e,right:"number"==typeof t.right?t.right:e,bottom:"number"==typeof t.bottom?t.bottom:e,left:"number"==typeof t.left?t.left:e}},i.getMetaData=function(t,e){var n=t.data?t.data[e]:t[e];return n?i.serialize(n.meta):void 0},i.orderOfMagnitude=function(t){return Math.floor(Math.log(Math.abs(t))/Math.LN10)},i.projectLength=function(t,e,i){return e/i.range*t},i.getAvailableHeight=function(t,e){return Math.max((i.stripUnit(e.height)||t.height())-(e.chartPadding.top+e.chartPadding.bottom)-e.axisX.offset,0)},i.getHighLow=function(t,e,n){function r(t){if(void 0!==t)if(t instanceof Array)for(var e=0;e<t.length;e++)r(t[e]);else{var i=n?+t[n]:+t;s&&i>o.high&&(o.high=i),a&&i<o.low&&(o.low=i)}}e=i.extend({},e,n?e["axis"+n.toUpperCase()]:{});var o={high:void 0===e.high?-Number.MAX_VALUE:+e.high,low:void 0===e.low?Number.MAX_VALUE:+e.low},s=void 0===e.high,a=void 0===e.low;return(s||a)&&r(t),o.high<=o.low&&(0===o.low?o.high=1:o.low<0?o.high=0:o.low=0),o},i.isNum=function(t){return!isNaN(t)&&isFinite(t)},i.isFalseyButZero=function(t){return!t&&0!==t},i.getNumberOrUndefined=function(t){return isNaN(+t)?void 0:+t},i.getMultiValue=function(t,e){return i.isNum(t)?+t:t?t[e]||0:0},i.rho=function(t){function e(t,i){return t%i===0?i:e(i,t%i)}function i(t){return t*t+1}if(1===t)return t;var n,r=2,o=2;if(t%2===0)return 2;do r=i(r)%t,o=i(i(o))%t,n=e(Math.abs(r-o),t);while(1===n);return n},i.getBounds=function(t,e,n,r,o){var s,a,l,c=0,h={high:e.high,low:e.low};(r||0===r)&&(h.high=Math.max(r,h.high),h.low=Math.min(r,h.low)),h.valueRange=h.high-h.low,h.oom=i.orderOfMagnitude(h.valueRange),h.step=Math.pow(10,h.oom),h.min=Math.floor(h.low/h.step)*h.step,h.max=Math.ceil(h.high/h.step)*h.step,h.range=h.max-h.min,h.numberOfSteps=Math.round(h.range/h.step);var u=i.projectLength(t,h.step,h),d=n>u,f=o?i.rho(h.range):0;if(o&&i.projectLength(t,1,h)>=n)h.step=1;else if(o&&f<h.step&&i.projectLength(t,f,h)>=n)h.step=f;else for(;;){if(d&&i.projectLength(t,h.step,h)<=n)h.step*=2;else{if(d||!(i.projectLength(t,h.step/2,h)>=n))break;if(h.step/=2,o&&h.step%1!==0){h.step*=2;break}}if(c++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}for(a=h.min,l=h.max;a+h.step<=h.low;)a+=h.step;for(;l-h.step>=h.high;)l-=h.step;for(h.min=a,h.max=l,h.range=h.max-h.min,h.values=[],s=h.min;s<=h.max;s+=h.step)h.values.push(i.roundWithPrecision(s));return h},i.polarToCartesian=function(t,e,i,n){var r=(n-90)*Math.PI/180;return{x:t+i*Math.cos(r),y:e+i*Math.sin(r)}},i.createChartRect=function(t,e,n){var r=!(!e.axisX&&!e.axisY),o=r?e.axisY.offset:0,s=r?e.axisX.offset:0,a=t.width()||i.stripUnit(e.width)||0,l=t.height()||i.stripUnit(e.height)||0,c=i.normalizePadding(e.chartPadding,n);a=Math.max(a,o+c.left+c.right),l=Math.max(l,s+c.top+c.bottom);var h={padding:c,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return r?("start"===e.axisX.position?(h.y2=c.top+s,h.y1=Math.max(l-c.bottom,h.y2+1)):(h.y2=c.top,h.y1=Math.max(l-c.bottom-s,h.y2+1)),"start"===e.axisY.position?(h.x1=c.left+o,h.x2=Math.max(a-c.right,h.x1+1)):(h.x1=c.left,h.x2=Math.max(a-c.right-o,h.x1+1))):(h.x1=c.left,h.x2=Math.max(a-c.right,h.x1+1),h.y2=c.top,h.y1=Math.max(l-c.bottom,h.y2+1)),h},i.createGrid=function(t,e,n,r,o,s,a,l){var c={};c[n.units.pos+"1"]=t,c[n.units.pos+"2"]=t,c[n.counterUnits.pos+"1"]=r,c[n.counterUnits.pos+"2"]=r+o;var h=s.elem("line",c,a.join(" "));l.emit("draw",i.extend({type:"grid",axis:n,index:e,group:s,element:h},c))},i.createLabel=function(t,e,n,r,o,s,a,l,c,h,u){var d,f={};if(f[o.units.pos]=t+a[o.units.pos],f[o.counterUnits.pos]=a[o.counterUnits.pos],f[o.units.len]=e,f[o.counterUnits.len]=s-10,h){var p='<span class="'+c.join(" ")+'" style="'+o.units.len+": "+Math.round(f[o.units.len])+"px; "+o.counterUnits.len+": "+Math.round(f[o.counterUnits.len])+'px">'+r[n]+"</span>";d=l.foreignObject(p,i.extend({style:"overflow: visible;"},f))}else!o.horizontalBars&&void 0!==o.horizontalBars&&c.indexOf("ct-horizontal")>-1?f[o.units.pos]=f[o.units.pos]+(f[o.units.len]-6.5*r[n].length)/2:o.horizontalBars&&c.indexOf("ct-vertical")>-1&&(f[o.units.pos]=f[o.units.pos]-f[o.units.len]/2+4),d=l.elem("text",f,c.join(" ")).text(r[n]);u.emit("draw",i.extend({type:"label",axis:o,index:n,group:l,element:d,text:r[n]},f))},i.getSeriesOption=function(t,e,i){if(t.name&&e.series&&e.series[t.name]){var n=e.series[t.name];return n.hasOwnProperty(i)?n[i]:e[i]}return e[i]},i.optionsProvider=function(e,n,r){function o(e){var o=a;if(a=i.extend({},c),n)for(l=0;l<n.length;l++){var s=t.matchMedia(n[l][0]);s.matches&&(a=i.extend(a,n[l][1]))}r&&!e&&r.emit("optionsChanged",{previousOptions:o,currentOptions:a})}function s(){h.forEach(function(t){t.removeListener(o)})}var a,l,c=i.extend({},e),h=[];if(!t.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(n)for(l=0;l<n.length;l++){var u=t.matchMedia(n[l][0]);u.addListener(o),h.push(u)}return o(!0),{removeMediaQueryListeners:s,getCurrentOptions:function(){return i.extend({},a)}}}}(window,document,t),function(t,e,i){"use strict";i.Interpolation={},i.Interpolation.none=function(){return function(t,e){for(var n=new i.Svg.Path,r=!0,o=1;o<t.length;o+=2){var s=e[(o-1)/2];void 0===s.value?r=!0:r?(n.move(t[o-1],t[o],!1,s),r=!1):n.line(t[o-1],t[o],!1,s)}return n}},i.Interpolation.simple=function(t){var e={divisor:2};t=i.extend({},e,t);var n=1/Math.max(1,t.divisor);return function(t,e){for(var r=new i.Svg.Path,o=!0,s=2;s<t.length;s+=2){var a=t[s-2],l=t[s-1],c=t[s],h=t[s+1],u=(c-a)*n,d=e[s/2-1],f=e[s/2];void 0===d.value?o=!0:(o&&r.move(a,l,!1,d),void 0!==f.value&&(r.curve(a+u,l,c-u,h,c,h,!1,f),o=!1))}return r}},i.Interpolation.cardinal=function(t){function e(t,e){for(var i=[],n=!0,r=0;r<t.length;r+=2)void 0===e[r/2].value?n=!0:(n&&(i.push({pathCoordinates:[],valueData:[]}),n=!1),i[i.length-1].pathCoordinates.push(t[r],t[r+1]),i[i.length-1].valueData.push(e[r/2]));return i}var n={tension:1};t=i.extend({},n,t);var r=Math.min(1,Math.max(0,t.tension)),o=1-r;return function s(t,n){var a=e(t,n);if(a.length>1){var l=[];return a.forEach(function(t){l.push(s(t.pathCoordinates,t.valueData))}),i.Svg.Path.join(l)}if(t=a[0].pathCoordinates,n=a[0].valueData,t.length<=4)return i.Interpolation.none()(t,n);for(var c,h=(new i.Svg.Path).move(t[0],t[1],!1,n[0]),u=0,d=t.length;d-2*!c>u;u+=2){var f=[{x:+t[u-2],y:+t[u-1]},{x:+t[u],y:+t[u+1]},{x:+t[u+2],y:+t[u+3]},{x:+t[u+4],y:+t[u+5]}];c?u?d-4===u?f[3]={x:+t[0],y:+t[1]}:d-2===u&&(f[2]={x:+t[0],y:+t[1]},f[3]={x:+t[2],y:+t[3]}):f[0]={x:+t[d-2],y:+t[d-1]}:d-4===u?f[3]=f[2]:u||(f[0]={x:+t[u],y:+t[u+1]}),h.curve(r*(-f[0].x+6*f[1].x+f[2].x)/6+o*f[2].x,r*(-f[0].y+6*f[1].y+f[2].y)/6+o*f[2].y,r*(f[1].x+6*f[2].x-f[3].x)/6+o*f[2].x,r*(f[1].y+6*f[2].y-f[3].y)/6+o*f[2].y,f[2].x,f[2].y,!1,n[(u+2)/2])}return h}},i.Interpolation.step=function(t){var e={postpone:!0};return t=i.extend({},e,t),function(e,n){for(var r=new i.Svg.Path,o=!0,s=2;s<e.length;s+=2){var a=e[s-2],l=e[s-1],c=e[s],h=e[s+1],u=n[s/2-1],d=n[s/2];void 0===u.value?o=!0:(o&&r.move(a,l,!1,u),void 0!==d.value&&(t.postpone?r.line(c,l,!1,u):r.line(a,h,!1,d),r.line(c,h,!1,d),o=!1))}return r}}}(window,document,t),function(t,e,i){"use strict";i.EventEmitter=function(){function t(t,e){n[t]=n[t]||[],n[t].push(e)}function e(t,e){n[t]&&(e?(n[t].splice(n[t].indexOf(e),1),0===n[t].length&&delete n[t]):delete n[t])}function i(t,e){n[t]&&n[t].forEach(function(t){t(e)}),n["*"]&&n["*"].forEach(function(i){i(t,e)})}var n=[];return{addEventHandler:t,removeEventHandler:e,emit:i}}}(window,document,t),function(t,e,i){"use strict";function n(t){var e=[];if(t.length)for(var i=0;i<t.length;i++)e.push(t[i]);return e}function r(t,e){var n=e||this.prototype||i.Class,r=Object.create(n);i.Class.cloneDefinitions(r,t);var o=function(){var t,e=r.constructor||function(){};return t=this===i?Object.create(r):this,e.apply(t,Array.prototype.slice.call(arguments,0)),t};return o.prototype=r,o["super"]=n,o.extend=this.extend,o}function o(){var t=n(arguments),e=t[0];return t.splice(1,t.length-1).forEach(function(t){Object.getOwnPropertyNames(t).forEach(function(i){delete e[i],Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})}),e}i.Class={extend:r,cloneDefinitions:o}}(window,document,t),function(t,e,i){"use strict";function n(t,e,n){return t&&(this.data=t,this.eventEmitter.emit("data",{type:"update",data:this.data})),e&&(this.options=i.extend({},n?this.options:this.defaultOptions,e),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=i.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this}function r(){return this.initializeTimeoutId?t.clearTimeout(this.initializeTimeoutId):(t.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this}function o(t,e){return this.eventEmitter.addEventHandler(t,e),this}function s(t,e){return this.eventEmitter.removeEventHandler(t,e),this}function a(){t.addEventListener("resize",this.resizeListener),this.optionsProvider=i.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(t){t instanceof Array?t[0](this,t[1]):t(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}function l(t,e,n,r,o){this.container=i.querySelector(t),this.data=e,this.defaultOptions=n,this.options=r,this.responsiveOptions=o,this.eventEmitter=i.EventEmitter(),this.supportsForeignObject=i.Svg.isSupported("Extensibility"),this.supportsAnimations=i.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(a.bind(this),0)}i.Base=i.Class.extend({constructor:l,optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:n,detach:r,on:o,off:s,version:i.version,supportsForeignObject:!1})}(window,document,t),function(t,e,i){"use strict";function n(t,n,r,o,s){t instanceof Element?this._node=t:(this._node=e.createElementNS(S,t),"svg"===t&&this._node.setAttributeNS(E,i.xmlNs.qualifiedName,i.xmlNs.uri),n&&this.attr(n),r&&this.addClass(r),o&&(s&&o._node.firstChild?o._node.insertBefore(this._node,o._node.firstChild):o._node.appendChild(this._node)))}function r(t,e){return"string"==typeof t?e?this._node.getAttributeNS(e,t):this._node.getAttribute(t):(Object.keys(t).forEach(function(n){void 0!==t[n]&&(e?this._node.setAttributeNS(e,[i.xmlNs.prefix,":",n].join(""),t[n]):this._node.setAttribute(n,t[n]))}.bind(this)),this)}function o(t,e,n,r){return new i.Svg(t,e,n,this,r)}function s(){return this._node.parentNode instanceof SVGElement?new i.Svg(this._node.parentNode):null}function a(){for(var t=this._node;"svg"!==t.nodeName;)t=t.parentNode;return new i.Svg(t)}function l(t){var e=this._node.querySelector(t);return e?new i.Svg(e):null}function c(t){var e=this._node.querySelectorAll(t);return e.length?new i.Svg.List(e):null}function h(t,i,n,r){if("string"==typeof t){var o=e.createElement("div");o.innerHTML=t,t=o.firstChild}t.setAttribute("xmlns",k);var s=this.elem("foreignObject",i,n,r);return s._node.appendChild(t),s}function u(t){return this._node.appendChild(e.createTextNode(t)),this}function d(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}function f(){return this._node.parentNode.removeChild(this._node),this.parent()}function p(t){return this._node.parentNode.replaceChild(t._node,this._node),t}function g(t,e){return e&&this._node.firstChild?this._node.insertBefore(t._node,this._node.firstChild):this._node.appendChild(t._node),this}function m(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]}function v(t){return this._node.setAttribute("class",this.classes(this._node).concat(t.trim().split(/\s+/)).filter(function(t,e,i){return i.indexOf(t)===e}).join(" ")),this}function y(t){var e=t.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter(function(t){return-1===e.indexOf(t)}).join(" ")),this}function w(){return this._node.setAttribute("class",""),this}function _(t,e){try{return t.getBBox()[e]}catch(i){}return 0}function b(){return this._node.clientHeight||Math.round(_(this._node,"height"))||this._node.parentNode.clientHeight}function x(){return this._node.clientWidth||Math.round(_(this._node,"width"))||this._node.parentNode.clientWidth}function C(t,e,n){return void 0===e&&(e=!0),Object.keys(t).forEach(function(r){function o(t,e){var o,s,a,l={};t.easing&&(a=t.easing instanceof Array?t.easing:i.Svg.Easing[t.easing],delete t.easing),t.begin=i.ensureUnit(t.begin,"ms"),t.dur=i.ensureUnit(t.dur,"ms"),a&&(t.calcMode="spline",t.keySplines=a.join(" "),t.keyTimes="0;1"),e&&(t.fill="freeze",l[r]=t.from,this.attr(l),s=i.stripUnit(t.begin||0),t.begin="indefinite"),o=this.elem("animate",i.extend({attributeName:r},t)),e&&setTimeout(function(){try{o._node.beginElement()}catch(e){l[r]=t.to,this.attr(l),o.remove()}}.bind(this),s),n&&o._node.addEventListener("beginEvent",function(){n.emit("animationBegin",{element:this,animate:o._node,params:t})}.bind(this)),o._node.addEventListener("endEvent",function(){n&&n.emit("animationEnd",{element:this,animate:o._node,params:t}),e&&(l[r]=t.to,this.attr(l),o.remove())}.bind(this))}t[r]instanceof Array?t[r].forEach(function(t){o.bind(this)(t,!1)}.bind(this)):o.bind(this)(t[r],e)}.bind(this)),this}function T(t){var e=this;this.svgElements=[];for(var n=0;n<t.length;n++)this.svgElements.push(new i.Svg(t[n]));Object.keys(i.Svg.prototype).filter(function(t){return-1===["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(t)}).forEach(function(t){e[t]=function(){var n=Array.prototype.slice.call(arguments,0);return e.svgElements.forEach(function(e){i.Svg.prototype[t].apply(e,n)}),e}})}var S="http://www.w3.org/2000/svg",E="http://www.w3.org/2000/xmlns/",k="http://www.w3.org/1999/xhtml";i.xmlNs={qualifiedName:"xmlns:ct",prefix:"ct",uri:"http://gionkunz.github.com/chartist-js/ct"},i.Svg=i.Class.extend({constructor:n,attr:r,elem:o,parent:s,root:a,querySelector:l,querySelectorAll:c,foreignObject:h,text:u,empty:d,remove:f,replace:p,append:g,classes:m,addClass:v,removeClass:y,removeAllClasses:w,height:b,width:x,animate:C}),i.Svg.isSupported=function(t){return e.implementation.hasFeature("www.http://w3.org/TR/SVG11/feature#"+t,"1.1")};var R={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};i.Svg.Easing=R,i.Svg.List=i.Class.extend({constructor:T})}(window,document,t),function(t,e,i){"use strict";function n(t,e,n,r,o,s){var a=i.extend({command:o?t.toLowerCase():t.toUpperCase()},e,s?{data:s}:{});n.splice(r,0,a)}function r(t,e){t.forEach(function(i,n){_[i.command.toLowerCase()].forEach(function(r,o){e(i,r,n,o,t)})})}function o(t,e){this.pathElements=[],this.pos=0,this.close=t,this.options=i.extend({},b,e)}function s(t){return void 0!==t?(this.pos=Math.max(0,Math.min(this.pathElements.length,t)),this):this.pos}function a(t){return this.pathElements.splice(this.pos,t),this}function l(t,e,i,r){return n("M",{x:+t,y:+e},this.pathElements,this.pos++,i,r),this}function c(t,e,i,r){return n("L",{x:+t,y:+e},this.pathElements,this.pos++,i,r),this}function h(t,e,i,r,o,s,a,l){return n("C",{x1:+t,y1:+e,x2:+i,y2:+r,x:+o,y:+s},this.pathElements,this.pos++,a,l),this}function u(t,e,i,r,o,s,a,l,c){return n("A",{rx:+t,ry:+e,xAr:+i,lAf:+r,sf:+o,x:+s,y:+a},this.pathElements,this.pos++,l,c),this}function d(t){var e=t.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(function(t,e){return e.match(/[A-Za-z]/)&&t.push([]),t[t.length-1].push(e),t},[]);"Z"===e[e.length-1][0].toUpperCase()&&e.pop();var n=e.map(function(t){var e=t.shift(),n=_[e.toLowerCase()];return i.extend({command:e},n.reduce(function(e,i,n){return e[i]=+t[n],e},{}))}),r=[this.pos,0];return Array.prototype.push.apply(r,n),Array.prototype.splice.apply(this.pathElements,r),this.pos+=n.length,this}function f(){var t=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(e,i){var n=_[i.command.toLowerCase()].map(function(e){return this.options.accuracy?Math.round(i[e]*t)/t:i[e]}.bind(this));return e+i.command+n.join(",")}.bind(this),"")+(this.close?"Z":"")}function p(t,e){return r(this.pathElements,function(i,n){i[n]*="x"===n[0]?t:e}),this}function g(t,e){return r(this.pathElements,function(i,n){i[n]+="x"===n[0]?t:e}),this}function m(t){return r(this.pathElements,function(e,i,n,r,o){var s=t(e,i,n,r,o);(s||0===s)&&(e[i]=s)}),this}function v(t){var e=new i.Svg.Path(t||this.close);return e.pos=this.pos,e.pathElements=this.pathElements.slice().map(function(t){return i.extend({},t)}),e.options=i.extend({},this.options),e}function y(t){var e=[new i.Svg.Path];return this.pathElements.forEach(function(n){n.command===t.toUpperCase()&&0!==e[e.length-1].pathElements.length&&e.push(new i.Svg.Path),e[e.length-1].pathElements.push(n)}),e}function w(t,e,n){for(var r=new i.Svg.Path(e,n),o=0;o<t.length;o++)for(var s=t[o],a=0;a<s.pathElements.length;a++)r.pathElements.push(s.pathElements[a]);return r}var _={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},b={accuracy:3};i.Svg.Path=i.Class.extend({constructor:o,position:s,remove:a,move:l,line:c,curve:h,arc:u,scale:p,translate:g,transform:m,parse:d,stringify:f,clone:v,splitByCommand:y}),i.Svg.Path.elementDescriptions=_,i.Svg.Path.join=w}(window,document,t),function(t,e,i){"use strict";function n(t,e,i,n){this.units=t,this.counterUnits=t===o.x?o.y:o.x,this.chartRect=e,this.axisLength=e[t.rectEnd]-e[t.rectStart],this.gridOffset=e[t.rectOffset],this.ticks=i,this.options=n}function r(t,e,n,r,o){var s=r["axis"+this.units.pos.toUpperCase()],a=this.ticks.map(this.projectValue.bind(this)),l=this.ticks.map(s.labelInterpolationFnc);a.forEach(function(c,h){var u,d={x:0,y:0};u=a[h+1]?a[h+1]-c:Math.max(this.axisLength-c,30),(l[h]||0===l[h])&&("x"===this.units.pos?(c=this.chartRect.x1+c,d.x=r.axisX.labelOffset.x,"start"===r.axisX.position?d.y=this.chartRect.padding.top+r.axisX.labelOffset.y+(n?5:20):d.y=this.chartRect.y1+r.axisX.labelOffset.y+(n?5:20)):(c=this.chartRect.y1-c,d.y=r.axisY.labelOffset.y-(n?u:0),"start"===r.axisY.position?d.x=n?this.chartRect.padding.left+r.axisY.labelOffset.x:this.chartRect.x1-10:d.x=this.chartRect.x2+r.axisY.labelOffset.x+10),s.showGrid&&i.createGrid(c,h,this,this.gridOffset,this.chartRect[this.counterUnits.len](),t,[r.classNames.grid,r.classNames[this.units.dir]],o),s.showLabel&&(this.horizontalBars=r.horizontalBars,i.createLabel(c,u,h,l,this,s.offset,d,e,[r.classNames.label,r.classNames[this.units.dir],r.classNames[s.position]],n,o)))}.bind(this))}var o={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};i.Axis=i.Class.extend({constructor:n,createGridAndLabels:r,projectValue:function(t,e,i){throw new Error("Base axis can't be instantiated!")}}),i.Axis.units=o}(window,document,t),function(t,e,i){"use strict";function n(t,e,n,r){var o=r.highLow||i.getHighLow(e.normalized,r,t.pos);this.bounds=i.getBounds(n[t.rectEnd]-n[t.rectStart],o,r.scaleMinSpace||20,r.referenceValue,r.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},i.AutoScaleAxis["super"].constructor.call(this,t,n,this.bounds.values,r)}function r(t){return this.axisLength*(+i.getMultiValue(t,this.units.pos)-this.bounds.min)/this.bounds.range}i.AutoScaleAxis=i.Axis.extend({constructor:n,projectValue:r})}(window,document,t),function(t,e,i){"use strict";function n(t,e,n,r){var o=i.getHighLow(e.normalized,r,t.pos);this.divisor=r.divisor||1,this.ticks=r.ticks||i.times(this.divisor).map(function(t,e){return o.low+(o.high-o.low)/this.divisor*e}.bind(this)),this.range={min:o.low,max:o.high},i.FixedScaleAxis["super"].constructor.call(this,t,n,this.ticks,r),this.stepLength=this.axisLength/this.divisor}function r(t){return this.axisLength*(+i.getMultiValue(t,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}i.FixedScaleAxis=i.Axis.extend({constructor:n,projectValue:r})}(window,document,t),function(t,e,i){"use strict";function n(t,e,n,r){i.StepAxis["super"].constructor.call(this,t,n,r.ticks,r),this.stepLength=this.axisLength/(r.ticks.length-(r.stretch?1:0))}function r(t,e){return this.stepLength*e}i.StepAxis=i.Axis.extend({constructor:n,projectValue:r})}(window,document,t),function(t,e,i){"use strict";function n(t){var e={raw:this.data,normalized:i.getDataArray(this.data,t.reverseData,!0)};this.svg=i.createSvg(this.container,t.width,t.height,t.classNames.chart);var n,r,s=this.svg.elem("g").addClass(t.classNames.gridGroup),a=this.svg.elem("g"),l=this.svg.elem("g").addClass(t.classNames.labelGroup),c=i.createChartRect(this.svg,t,o.padding);n=void 0===t.axisX.type?new i.StepAxis(i.Axis.units.x,e,c,i.extend({},t.axisX,{ticks:e.raw.labels,stretch:t.fullWidth})):t.axisX.type.call(i,i.Axis.units.x,e,c,t.axisX),r=void 0===t.axisY.type?new i.AutoScaleAxis(i.Axis.units.y,e,c,i.extend({},t.axisY,{high:i.isNum(t.high)?t.high:t.axisY.high,low:i.isNum(t.low)?t.low:t.axisY.low})):t.axisY.type.call(i,i.Axis.units.y,e,c,t.axisY),n.createGridAndLabels(s,l,this.supportsForeignObject,t,this.eventEmitter),r.createGridAndLabels(s,l,this.supportsForeignObject,t,this.eventEmitter),e.raw.series.forEach(function(o,s){var l=a.elem("g");l.attr({"series-name":o.name,meta:i.serialize(o.meta)},i.xmlNs.uri),l.addClass([t.classNames.series,o.className||t.classNames.series+"-"+i.alphaNumerate(s)].join(" "));var h=[],u=[];e.normalized[s].forEach(function(t,a){var l={x:c.x1+n.projectValue(t,a,e.normalized[s]),y:c.y1-r.projectValue(t,a,e.normalized[s])};h.push(l.x,l.y),u.push({value:t,valueIndex:a,meta:i.getMetaData(o,a)})}.bind(this));var d={lineSmooth:i.getSeriesOption(o,t,"lineSmooth"),showPoint:i.getSeriesOption(o,t,"showPoint"),showLine:i.getSeriesOption(o,t,"showLine"),showArea:i.getSeriesOption(o,t,"showArea"),areaBase:i.getSeriesOption(o,t,"areaBase")},f="function"==typeof d.lineSmooth?d.lineSmooth:d.lineSmooth?i.Interpolation.cardinal():i.Interpolation.none(),p=f(h,u);if(d.showPoint&&p.pathElements.forEach(function(e){var n=l.elem("line",{x1:e.x,y1:e.y,x2:e.x+.01,y2:e.y},t.classNames.point).attr({value:void 0===e.data.value.x?e.data.value.y:e.data.value.x+","+e.data.value.y,meta:e.data.meta},i.xmlNs.uri);this.eventEmitter.emit("draw",{type:"point",value:e.data.value,index:e.data.valueIndex,meta:e.data.meta,series:o,seriesIndex:s,group:l,element:n,x:e.x,y:e.y})}.bind(this)),d.showLine){var g=l.elem("path",{d:p.stringify()},t.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:e.normalized[s],path:p.clone(),chartRect:c,index:s,series:o,seriesIndex:s,group:l,element:g})}if(d.showArea&&r.range){var m=Math.max(Math.min(d.areaBase,r.range.max),r.range.min),v=c.y1-r.projectValue(m);p.splitByCommand("M").filter(function(t){return t.pathElements.length>1}).map(function(t){var e=t.pathElements[0],i=t.pathElements[t.pathElements.length-1];return t.clone(!0).position(0).remove(1).move(e.x,v).line(e.x,e.y).position(t.pathElements.length+1).line(i.x,v)}).forEach(function(n){var r=l.elem("path",{d:n.stringify()},t.classNames.area,!0).attr({values:e.normalized[s]},i.xmlNs.uri);this.eventEmitter.emit("draw",{type:"area",values:e.normalized[s],path:n.clone(),series:o,seriesIndex:s,chartRect:c,index:s,group:l,element:r})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:r.bounds,chartRect:c,axisX:n,axisY:r,svg:this.svg,options:t})}function r(t,e,n,r){i.Line["super"].constructor.call(this,t,e,o,i.extend({},o,n),r)}var o={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:i.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:i.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};i.Line=i.Base.extend({constructor:r,createChart:n})}(window,document,t),function(t,e,i){"use strict";function n(t){var e,n={raw:this.data,normalized:t.distributeSeries?i.getDataArray(this.data,t.reverseData).map(function(t){return[t]}):i.getDataArray(this.data,t.reverseData)};this.svg=i.createSvg(this.container,t.width,t.height,t.classNames.chart+(t.horizontalBars?" "+t.classNames.horizontalBars:""));var r=this.svg.elem("g").addClass(t.classNames.gridGroup),s=this.svg.elem("g"),a=this.svg.elem("g").addClass(t.classNames.labelGroup);if(t.stackBars){var l=i.serialMap(n.normalized,function(){return Array.prototype.slice.call(arguments).reduce(i.sum,0)});e=i.getHighLow([l],t)}else e=i.getHighLow(n.normalized,t);e.high=+t.high||(0===t.high?0:e.high),e.low=+t.low||(0===t.low?0:e.low);var c,h,u,d,f,p=i.createChartRect(this.svg,t,o.padding);
h=t.distributeSeries&&t.stackBars?n.raw.labels.slice(0,1):n.raw.labels,t.horizontalBars?(u=f=new i.StepAxis(i.Axis.units.y,n,p,{ticks:h}),c=d=new i.AutoScaleAxis(i.Axis.units.x,n,p,i.extend({},t.axisX,{highLow:e,referenceValue:0}))):(u=d=new i.StepAxis(i.Axis.units.x,n,p,{ticks:h}),c=f=new i.AutoScaleAxis(i.Axis.units.y,n,p,i.extend({},t.axisY,{highLow:e,referenceValue:0})));var g=t.horizontalBars?p.x1+c.projectValue(0):p.y1-c.projectValue(0),m=[];u.createGridAndLabels(r,a,this.supportsForeignObject,t,this.eventEmitter),c.createGridAndLabels(r,a,this.supportsForeignObject,t,this.eventEmitter),n.raw.series.forEach(function(e,r){var o,a,l=r-(n.raw.series.length-1)/2;o=t.distributeSeries&&!t.stackBars?u.axisLength/n.normalized.length/2:t.distributeSeries&&t.stackBars?u.axisLength/2:u.axisLength/n.normalized[r].length/2,a=s.elem("g"),a.attr({"series-name":e.name,meta:i.serialize(e.meta)},i.xmlNs.uri),a.addClass([t.classNames.series,e.className||t.classNames.series+"-"+i.alphaNumerate(r)].join(" ")),n.normalized[r].forEach(function(s,h){var d,f,v,y;if(y=t.distributeSeries&&!t.stackBars?r:t.distributeSeries&&t.stackBars?0:h,d=t.horizontalBars?{x:p.x1+c.projectValue(s||0,h,n.normalized[r]),y:p.y1-u.projectValue(s||0,y,n.normalized[r])}:{x:p.x1+u.projectValue(s||0,y,n.normalized[r]),y:p.y1-c.projectValue(s||0,h,n.normalized[r])},d[u.units.pos]+=o*(t.horizontalBars?-1:1),d[u.units.pos]+=t.stackBars||t.distributeSeries?0:l*t.seriesBarDistance*(t.horizontalBars?-1:1),v=m[h]||g,m[h]=v-(g-d[u.counterUnits.pos]),void 0!==s){var w={};w[u.units.pos+"1"]=d[u.units.pos],w[u.units.pos+"2"]=d[u.units.pos],w[u.counterUnits.pos+"1"]=t.stackBars?v:g,w[u.counterUnits.pos+"2"]=t.stackBars?m[h]:d[u.counterUnits.pos],f=a.elem("line",w,t.classNames.bar).attr({value:s,meta:i.getMetaData(e,h)},i.xmlNs.uri),this.eventEmitter.emit("draw",i.extend({type:"bar",value:s,index:h,meta:i.getMetaData(e,h),series:e,seriesIndex:r,chartRect:p,group:a,element:f},w))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:c.bounds,chartRect:p,axisX:d,axisY:f,svg:this.svg,options:t})}function r(t,e,n,r){i.Bar["super"].constructor.call(this,t,e,o,i.extend({},o,n),r)}var o={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:i.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:i.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,onlyInteger:!1,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,horizontalBars:!1,distributeSeries:!1,reverseData:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};i.Bar=i.Base.extend({constructor:r,createChart:n})}(window,document,t),function(t,e,i){"use strict";function n(t,e,i){var n=e.x>t.x;return n&&"explode"===i||!n&&"implode"===i?"start":n&&"implode"===i||!n&&"explode"===i?"end":"middle"}function r(t){var e,r,o,a,l=[],c=t.startAngle,h=i.getDataArray(this.data,t.reverseData);this.svg=i.createSvg(this.container,t.width,t.height,t.donut?t.classNames.chartDonut:t.classNames.chartPie),e=i.createChartRect(this.svg,t,s.padding),r=Math.min(e.width()/2,e.height()/2),a=t.total||h.reduce(function(t,e){return t+e},0),r-=t.donut?t.donutWidth/2:0,o="outside"===t.labelPosition||t.donut?r:"center"===t.labelPosition?0:r/2,o+=t.labelOffset;for(var u={x:e.x1+e.width()/2,y:e.y2+e.height()/2},d=1===this.data.series.filter(function(t){return t.hasOwnProperty("value")?0!==t.value:0!==t}).length,f=0;f<this.data.series.length;f++){var p=this.data.series[f];l[f]=this.svg.elem("g",null,null,!0),l[f].attr({"series-name":p.name},i.xmlNs.uri),l[f].addClass([t.classNames.series,p.className||t.classNames.series+"-"+i.alphaNumerate(f)].join(" "));var g=c+h[f]/a*360;g-c===360&&(g-=.01);var m=i.polarToCartesian(u.x,u.y,r,c-(0===f||d?0:.2)),v=i.polarToCartesian(u.x,u.y,r,g),y=new i.Svg.Path(!t.donut).move(v.x,v.y).arc(r,r,0,g-c>180,0,m.x,m.y);t.donut||y.line(u.x,u.y);var w=l[f].elem("path",{d:y.stringify()},t.donut?t.classNames.sliceDonut:t.classNames.slicePie);if(w.attr({value:h[f],meta:i.serialize(p.meta)},i.xmlNs.uri),t.donut&&w.attr({style:"stroke-width: "+ +t.donutWidth+"px"}),this.eventEmitter.emit("draw",{type:"slice",value:h[f],totalDataSum:a,index:f,meta:p.meta,series:p,group:l[f],element:w,path:y.clone(),center:u,radius:r,startAngle:c,endAngle:g}),t.showLabel){var _=i.polarToCartesian(u.x,u.y,o,c+(g-c)/2),b=t.labelInterpolationFnc(this.data.labels?this.data.labels[f]:h[f],f);if(b||0===b){var x=l[f].elem("text",{dx:_.x,dy:_.y,"text-anchor":n(u,_,t.labelDirection)},t.classNames.label).text(""+b);this.eventEmitter.emit("draw",{type:"label",index:f,group:l[f],element:x,text:""+b,x:_.x,y:_.y})}}c=g}this.eventEmitter.emit("created",{chartRect:e,svg:this.svg,options:t})}function o(t,e,n,r){i.Pie["super"].constructor.call(this,t,e,s,i.extend({},s,n),r)}var s={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:i.noop,labelDirection:"neutral",reverseData:!1};i.Pie=i.Base.extend({constructor:o,createChart:r,determineAnchorPosition:n})}(window,document,t),t})},{}],handsontable:[function(t,e,i){var n={extension:{},helper:{}};!function(t,n,r){"use strict";function o(){this.refCounter=0,this.init()}function s(){function t(){var t=this;t.registerTimeout("enableObserveChanges",function(){t.updateSettings({observeChanges:!0})},0)}function e(t){return function(e,i){return e[1]===i[1]?0:null===e[1]?1:null===i[1]?-1:e[1]<i[1]?t?-1:1:e[1]>i[1]?t?1:-1:0}}function i(t){return function(e,i){if(e[1]===i[1])return 0;if(null===e[1])return 1;if(null===i[1])return-1;var n=new Date(e[1]),r=new Date(i[1]);return r>n?t?-1:1:n>r?t?1:-1:0}}function n(t){return"undefined"!=typeof t.sortColumn}var r=this;this.init=function(e){var i,n,o=this,l=o.getSettings().columnSorting;if(o.sortingEnabled=!!l,o.sortingEnabled){o.sortIndex=[];var c=s.call(o);"undefined"!=typeof c?(i=c.sortColumn,n=c.sortOrder):(i=l.column,n=l.sortOrder),r.sortByColumn.call(o,i,n),o.sort=function(){var t=Array.prototype.slice.call(arguments);return r.sortByColumn.apply(o,t)},"undefined"==typeof o.getSettings().observeChanges&&t.call(o),"afterInit"==e&&(a.call(o),o.addHook("afterCreateRow",r.afterCreateRow),o.addHook("afterRemoveRow",r.afterRemoveRow),o.addHook("afterLoadData",r.init))}else delete o.sort,o.removeHook("afterCreateRow",r.afterCreateRow),o.removeHook("afterRemoveRow",r.afterRemoveRow),o.removeHook("afterLoadData",r.init)},this.setSortingColumn=function(t,e){var i=this;return"undefined"==typeof t?(delete i.sortColumn,void delete i.sortOrder):(i.sortColumn===t&&"undefined"==typeof e?i.sortOrder=!i.sortOrder:i.sortOrder="undefined"!=typeof e?e:!0,void(i.sortColumn=t))},this.sortByColumn=function(t,e){var i=this;r.setSortingColumn.call(i,t,e),"undefined"!=typeof i.sortColumn&&(i.PluginHooks.run("beforeColumnSort",i.sortColumn,i.sortOrder),r.sort.call(i),i.render(),o.call(i),i.PluginHooks.run("afterColumnSort",i.sortColumn,i.sortOrder))};var o=function(){var t=this,e={};"undefined"!=typeof t.sortColumn&&(e.sortColumn=t.sortColumn),"undefined"!=typeof t.sortOrder&&(e.sortOrder=t.sortOrder),(e.hasOwnProperty("sortColumn")||e.hasOwnProperty("sortOrder"))&&t.PluginHooks.run("persistentStateSave","columnSorting",e)},s=function(){var t=this,e={};return t.PluginHooks.run("persistentStateLoad","columnSorting",e),e.value},a=function(){function t(){var t=i.view.TBODY.querySelector("tr").querySelectorAll("th");return t.length}function e(e){var n=i.view.wt.wtDom.closest(e,"TH");return i.view.wt.wtDom.index(n)-t()}var i=this;i.rootElement.on("click.handsontable",".columnSorting",function(t){if(i.view.wt.wtDom.hasClass(t.target,"columnSorting")){var n=e(t.target);r.sortByColumn.call(i,n)}})};this.sort=function(){var t=this;if("undefined"!=typeof t.sortOrder){t.sortingEnabled=!1,t.sortIndex.length=0;for(var n=this.colOffset(),r=0,o=this.countRows()-t.getSettings().minSpareRows;o>r;r++)this.sortIndex.push([r,t.getDataAtCell(r,this.sortColumn+n)]);var s,a=t.getCellMeta(0,t.sortColumn);switch(a.type){case"date":s=i;break;default:s=e}this.sortIndex.sort(s(t.sortOrder));for(var r=this.sortIndex.length;r<t.countRows();r++)this.sortIndex.push([r,t.getDataAtCell(r,this.sortColumn+n)]);t.sortingEnabled=!0}},this.translateRow=function(t){var e=this;return e.sortingEnabled&&e.sortIndex&&e.sortIndex.length&&e.sortIndex[t]?e.sortIndex[t][0]:t},this.onBeforeGetSet=function(t){var e=this;t.row=r.translateRow.call(e,t.row)},this.untranslateRow=function(t){var e=this;if(e.sortingEnabled&&e.sortIndex&&e.sortIndex.length)for(var i=0;i<e.sortIndex.length;i++)if(e.sortIndex[i][0]==t)return i},this.getColHeader=function(t,e){this.getSettings().columnSorting&&this.view.wt.wtDom.addClass(e.querySelector(".colHeader"),"columnSorting")},this.afterCreateRow=function(t,e){var i=this;if(n(i)){for(var r=0;r<i.sortIndex.length;r++)i.sortIndex[r][0]>=t&&(i.sortIndex[r][0]+=e);for(var r=0;e>r;r++)i.sortIndex.splice(t+r,0,[t+r,i.getData()[t+r][i.sortColumn+i.colOffset()]]);o.call(i)}},this.afterRemoveRow=function(t,e){var i=this;if(n(i)){var s=r.translateRow.call(i,t);i.sortIndex.splice(t,e);for(var a=0;a<i.sortIndex.length;a++)i.sortIndex[a][0]>s&&(i.sortIndex[a][0]-=e);o.call(i)}},this.afterChangeSort=function(t){var e=this,i=!1,n={};if(t){for(var o=0;o<t.length;o++)if(t[o][1]==e.sortColumn){i=!0,n.row=r.translateRow.call(e,t[o][0]),n.col=t[o][1];break}i&&setTimeout(function(){r.sort.call(e),e.render(),e.selectCell(r.untranslateRow.call(e,n.row),n.col)},0)}}}function a(){var e,i,n,r,o,s=document.createElement("DIV"),a=s.style;s.className="ghost",a.position="absolute",a.top="25px",a.left=0,a.width="10px",a.height="10px",a.backgroundColor="#CCC",a.opacity=.7;var l=function(){var t=this;t.PluginHooks.run("persistentStateSave","manualColumnPositions",t.manualColumnPositions)},c=function(){var t=this,e={};return t.PluginHooks.run("persistentStateLoad","manualColumnPositions",e),e.value},h=function(){var c=this;c.rootElement.on("mousemove.manualColumnMove",function(t){e&&(a.left=o+t.pageX-r+6+"px","none"===a.display&&(a.display="block"))}),c.rootElement.on("mouseup.manualColumnMove",function(){e&&(n>i&&n--,c.getSettings().rowHeaders&&(i--,n--),c.manualColumnPositions.splice(n,0,c.manualColumnPositions.splice(i,1)[0]),t(".manualColumnMover.active").removeClass("active"),e=!1,c.forceFullRender=!0,c.view.render(),a.display="none",l.call(c),c.PluginHooks.run("afterColumnMove",i,n))}),c.rootElement.on("mousedown.manualColumnMove",".manualColumnMover",function(t){var l=t.currentTarget,h=c.view.wt.wtDom.closest(l,"TH");i=c.view.wt.wtDom.index(h)+c.colOffset(),n=i,e=!0,r=t.pageX;var u=c.$table[0];u.parentNode.appendChild(s),a.width=c.view.wt.wtDom.outerWidth(h)+"px",a.height=c.view.wt.wtDom.outerHeight(u)+"px",o=parseInt(c.view.wt.wtDom.offset(h).left-c.view.wt.wtDom.offset(u).left,10),a.left=o+6+"px"}),c.rootElement.on("mouseenter.manualColumnMove","td, th",function(){if(e){var t=c.view.THEAD.querySelector(".manualColumnMover.active");t&&c.view.wt.wtDom.removeClass(t,"active"),n=c.view.wt.wtDom.index(this)+c.colOffset();var i=c.view.THEAD.querySelectorAll("th"),r=i[n].querySelector(".manualColumnMover");c.view.wt.wtDom.addClass(r,"active")}}),c.addHook("afterDestroy",u)},u=function(){var t=this;t.rootElement.off("mouseup.manualColumnMove"),t.rootElement.off("mousemove.manualColumnMove"),t.rootElement.off("mousedown.manualColumnMove"),t.rootElement.off("mouseenter.manualColumnMove")};this.beforeInit=function(){this.manualColumnPositions=[]},this.init=function(t){var e=this,i=!!this.getSettings().manualColumnMove;if(i){var n=this.getSettings().manualColumnMove,r=c.call(e);"undefined"!=typeof r?this.manualColumnPositions=r:n instanceof Array?this.manualColumnPositions=n:this.manualColumnPositions=[],e.forceFullRender=!0,"afterInit"==t&&(h.call(this),this.manualColumnPositions.length>0&&(this.forceFullRender=!0,this.render()))}else u.call(this),this.manualColumnPositions=[]},this.modifyCol=function(t){return this.getSettings().manualColumnMove?("undefined"==typeof this.manualColumnPositions[t]&&(this.manualColumnPositions[t]=t),this.manualColumnPositions[t]):t},this.getColHeader=function(t,e){if(this.getSettings().manualColumnMove){var i=document.createElement("DIV");i.className="manualColumnMover",e.firstChild.appendChild(i)}}}function l(){function e(t){a=this,r=t;var e=this.view.wt.wtTable.getCoords(t)[1];if(e>=0){o=e;var i=this.view.wt.wtDom.offset(this.rootElement[0]).left,n=this.view.wt.wtDom.offset(t).left;u=n-i-6,d.style.left=u+parseInt(this.view.wt.wtDom.outerWidth(t),10)+"px",this.rootElement[0].appendChild(d)}}function i(){var t=this;h=parseInt(this.view.wt.wtDom.outerWidth(r),10),t.view.wt.wtDom.addClass(d,"active"),g.height=t.view.wt.wtDom.outerHeight(t.$table[0])+"px",n=t}var n,r,o,s,a,l,c,h,u,d=document.createElement("DIV"),f=document.createElement("DIV"),p=document.createElement("DIV"),g=p.style;d.className="manualColumnResizer",f.className="manualColumnResizerHandle",d.appendChild(f),p.className="manualColumnResizerLine",d.appendChild(p);var m=t(document);m.mousemove(function(t){n&&(s=h+(t.pageX-c),l=_(o,s),d.style.left=u+s+"px")}),m.mouseup(function(){n&&(a.view.wt.wtDom.removeClass(d,"active"),n=!1,l!=h&&(a.forceFullRender=!0,a.view.render(),v.call(a),a.PluginHooks.run("afterColumnResize",o,l)),e.call(a,r))});var v=function(){var t=this;t.PluginHooks.run("persistentStateSave","manualColumnWidths",t.manualColumnWidths)},y=function(){var t=this,e={};return t.PluginHooks.run("persistentStateLoad","manualColumnWidths",e),e.value},w=function(){var t=this,r=0,s=null;this.rootElement.on("mouseenter.handsontable","th",function(i){n||e.call(t,i.currentTarget)}),this.rootElement.on("mousedown.handsontable",".manualColumnResizer",function(){null==s&&(s=setTimeout(function(){r>=2&&(l=t.determineColumnWidth.call(t,o),_(o,l),t.forceFullRender=!0,t.view.render(),t.PluginHooks.run("afterColumnResize",o,l)),r=0,s=null},500)),r++}),this.rootElement.on("mousedown.handsontable",".manualColumnResizer",function(e){c=e.pageX,i.call(t),l=h})};this.beforeInit=function(){this.manualColumnWidths=[]},this.init=function(t){var e=this,i=!!this.getSettings().manualColumnResize;if(i){var n=this.getSettings().manualColumnResize,r=y.call(e);"undefined"!=typeof r?this.manualColumnWidths=r:n instanceof Array?this.manualColumnWidths=n:this.manualColumnWidths=[],"afterInit"==t&&(w.call(this),e.forceFullRender=!0,e.render())}};var _=function(t,e){return e=Math.max(e,20),t=a.PluginHooks.execute("modifyCol",t),a.manualColumnWidths[t]=e,e};this.getColWidth=function(t,e){this.getSettings().manualColumnResize&&this.manualColumnWidths[t]&&(e.width=this.manualColumnWidths[t])}}function c(t){var e,i=function(){n.localStorage[t+"__persistentStateKeys"]=JSON.stringify(e)},r=function(){var i=n.localStorage[t+"__persistentStateKeys"],r="string"==typeof i?JSON.parse(i):void 0;e=r?r:[]},o=function(){e=[],i()};r(),this.saveValue=function(r,o){n.localStorage[t+"_"+r]=JSON.stringify(o),-1==e.indexOf(r)&&(e.push(r),i())},this.loadValue=function(e,i){e="undefined"!=typeof e?e:i;var r=n.localStorage[t+"_"+e];return"undefined"==typeof r?void 0:JSON.parse(r)},this.reset=function(e){n.localStorage.removeItem(t+"_"+e)},this.resetAll=function(){for(var i=0;i<e.length;i++)n.localStorage.removeItem(t+"_"+e[i]);o()}}function h(){this.boundaries=null,this.callback=null}function u(){this.maxOuts=10}function d(e,i){var n;this.instance=e,this.settings=i,this.wtDom=this.instance.wtDom,this.main=document.createElement("div"),n=this.main.style,n.position="absolute",n.top=0,n.left=0;for(var r=0;5>r;r++){var o=document.createElement("DIV");o.className="wtBorder "+(i.className||""),n=o.style,n.backgroundColor=i.border.color,n.height=i.border.width+"px",n.width=i.border.width+"px",this.main.appendChild(o)}this.top=this.main.childNodes[0],this.left=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.right=this.main.childNodes[3],this.topStyle=this.top.style,this.leftStyle=this.left.style,this.bottomStyle=this.bottom.style,this.rightStyle=this.right.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width="5px",this.cornerStyle.height="5px",this.cornerStyle.border="2px solid #FFF",this.disappear(),e.wtTable.bordersHolder||(e.wtTable.bordersHolder=document.createElement("div"),e.wtTable.bordersHolder.className="htBorders",e.wtTable.hider.appendChild(e.wtTable.bordersHolder)),e.wtTable.bordersHolder.appendChild(this.main);var s=!1,a=t(document.body);a.on("mousedown.walkontable."+e.guid,function(){s=!0}),a.on("mouseup.walkontable."+e.guid,function(){s=!1}),t(this.main.childNodes).on("mouseenter",function(i){if(s&&e.getSetting("hideBorderOnMouseDownOver")){i.preventDefault(),i.stopImmediatePropagation();var n=this.getBoundingClientRect(),r=t(this);r.hide();var o=function(t){return t.clientY<Math.floor(n.top)?!0:t.clientY>Math.ceil(n.top+n.height)?!0:t.clientX<Math.floor(n.left)?!0:t.clientX>Math.ceil(n.left+n.width)?!0:void 0};a.on("mousemove.border."+e.guid,function(t){o(t)&&(a.off("mousemove.border."+e.guid),r.show())})}})}function f(){this.offset=0,this.total=0,this.fixedCount=0}function p(t){this.instance=t}function g(){this.cache=[]}function m(){this.countTH=0}function v(t,e,i,n){var r,o=0;for(p.apply(this,arguments),this.containerSizeFn=e,this.cellSizesSum=0,this.cellSizes=[],this.cellStretch=[],this.cellCount=0,this.remainingSize=0,this.strategy=n;;){if(r=i(o),void 0===r)break;if(this.cellSizesSum>=this.getContainerSize(this.cellSizesSum+r))break;this.cellSizes.push(r),this.cellSizesSum+=r,this.cellCount++,o++}var s=this.getContainerSize(this.cellSizesSum);this.remainingSize=this.cellSizesSum-s}function y(t){var e=this,i=[];if(this.guid="wt_"+x(),this.wtDom=new _,t.cloneSource?(this.cloneSource=t.cloneSource,this.cloneOverlay=t.cloneOverlay,this.wtSettings=t.cloneSource.wtSettings,this.wtTable=new D(this,t.table),this.wtScroll=new S(this),this.wtViewport=t.cloneSource.wtViewport):(this.wtSettings=new N(this,t),this.wtTable=new D(this,t.table),this.wtScroll=new S(this),this.wtViewport=new M(this),this.wtScrollbars=new A(this),this.wtWheel=new I(this),this.wtEvent=new b(this)),this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var n=0,r=this.wtTable.THEAD.childNodes[0].childNodes.length;r>n;n++)i.push(this.wtTable.THEAD.childNodes[0].childNodes[n].innerHTML);this.getSetting("columnHeaders").length||this.update("columnHeaders",[function(t,n){e.wtDom.fastInnerText(n,i[t])}])}this.selections={};var o=this.getSetting("selections");if(o)for(var s in o)o.hasOwnProperty(s)&&(this.selections[s]=new O(this,o[s]));this.drawn=!1,this.drawInterrupted=!1}function w(e){this.instance=e,this.init(),this.clone=this.makeClone("debug"),this.clone.wtTable.holder.style.opacity=.4,this.clone.wtTable.holder.style.textShadow="0 0 2px #ff0000";var i,n=this,r=0,o=0,s=n.clone.wtTable.holder.parentNode;t(document.body).on("mousemove."+this.instance.guid,function(t){n.instance.wtTable.holder.parentNode&&(t.clientX-r>-5&&t.clientX-r<5&&t.clientY-o>-5&&t.clientY-o<5||(r=t.clientX,o=t.clientY,_.prototype.addClass(s,"wtDebugHidden"),_.prototype.removeClass(s,"wtDebugVisible"),clearTimeout(i),i=setTimeout(function(){_.prototype.removeClass(s,"wtDebugHidden"),_.prototype.addClass(s,"wtDebugVisible")},1e3)))})}function _(){}function b(e){var i=this;this.instance=e,this.wtDom=this.instance.wtDom;var n,r=[null,null],o=[null,null],s=function(t){var e=i.parentCell(t.target);i.wtDom.hasClass(t.target,"corner")?i.instance.getSetting("onCellCornerMouseDown",t,t.target):e.TD&&"TD"===e.TD.nodeName&&i.instance.hasSetting("onCellMouseDown")&&i.instance.getSetting("onCellMouseDown",t,e.coords,e.TD),2!==t.button&&e.TD&&"TD"===e.TD.nodeName&&(r[0]=e.TD,clearTimeout(o[0]),o[0]=setTimeout(function(){r[0]=null},1e3))},a=function(t){if(i.instance.hasSetting("onCellMouseOver")){var e=i.instance.wtTable.TABLE,r=i.wtDom.closest(t.target,["TD","TH"],e);r&&r!==n&&i.wtDom.isChildOf(r,e)&&(n=r,"TD"===r.nodeName&&i.instance.getSetting("onCellMouseOver",t,i.instance.wtTable.getCoords(r),r))}},l=function(t){if(2!==t.button){var e=i.parentCell(t.target);e.TD===r[0]&&e.TD===r[1]?(i.wtDom.hasClass(t.target,"corner")?i.instance.getSetting("onCellCornerDblClick",t,e.coords,e.TD):e.TD&&i.instance.getSetting("onCellDblClick",t,e.coords,e.TD),r[0]=null,r[1]=null):e.TD===r[0]&&(r[1]=e.TD,clearTimeout(o[1]),o[1]=setTimeout(function(){r[1]=null},500))}};t(this.instance.wtTable.holder).on("mousedown",s),t(this.instance.wtTable.TABLE).on("mouseover",a),t(this.instance.wtTable.holder).on("mouseup",l)}function x(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+t()+t()}function C(){}function T(t,e,i){p.apply(this,arguments),this.containerSizeFn=e,this.sizeAtIndex=i,this.cellSizesSum=0,this.cellSizes=[],this.cellCount=0,this.remainingSize=-(1/0)}function S(t){this.instance=t}function E(){}function k(t){this.instance=t,this.init(),this.clone=this.makeClone("corner")}function R(t){this.instance=t,this.type="horizontal",this.cellSize=50,this.init(),this.clone=this.makeClone("left")}function P(t){this.instance=t,this.type="vertical",this.cellSize=23,this.init(),this.clone=this.makeClone("top")}function A(t){this.instance=t,t.getSetting("nativeScrollbars")?(t.update("scrollbarWidth",t.wtDom.getScrollbarWidth()),t.update("scrollbarHeight",t.wtDom.getScrollbarWidth()),this.vertical=new P(t),this.horizontal=new R(t),this.corner=new k(t),t.getSetting("debug")&&(this.debug=new w(t)),this.registerListeners()):(this.vertical=new q(t),this.horizontal=new G(t))}function O(t,e){this.instance=t,this.settings=e,this.selected=[],e.border&&(this.border=new d(t,e))}function N(t,e){var i=this;this.instance=t,this.defaults={table:void 0,debug:!1,scrollH:"auto",scrollV:"auto",nativeScrollbars:!1,stretchH:"hybrid",currentRowClassName:null,currentColumnClassName:null,data:void 0,offsetRow:0,offsetColumn:0,fixedColumnsLeft:0,fixedRowsTop:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,width:null,height:null,cellRenderer:function(t,e,n){var r=i.getSetting("data",t,e);i.instance.wtDom.fastInnerText(n,void 0===r||null===r?"":r)},columnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,onCellMouseDown:null,onCellMouseOver:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onScrollVertically:null,onScrollHorizontally:null,scrollbarWidth:10,scrollbarHeight:10},this.settings={};for(var n in this.defaults)if(this.defaults.hasOwnProperty(n))if(void 0!==e[n])this.settings[n]=e[n];else{if(void 0===this.defaults[n])throw new Error('A required setting "'+n+'" was not provided');this.settings[n]=this.defaults[n]}}function D(t,e){this.instance=t,this.TABLE=e,this.wtDom=this.instance.wtDom,this.wtDom.removeTextNodes(this.TABLE);var i=this.TABLE.parentNode;if(!i||1!==i.nodeType||!this.wtDom.hasClass(i,"wtHolder")){var n=document.createElement("DIV");n.className="wtSpreader",i&&i.insertBefore(n,this.TABLE),n.appendChild(this.TABLE)}if(this.spreader=this.TABLE.parentNode,i=this.spreader.parentNode,!i||1!==i.nodeType||!this.wtDom.hasClass(i,"wtHolder")){var r=document.createElement("DIV");r.className="wtHider",i&&i.insertBefore(r,this.spreader),r.appendChild(this.spreader)}if(this.hider=this.spreader.parentNode,this.hiderStyle=this.hider.style,this.hiderStyle.position="relative",i=this.hider.parentNode,!i||1!==i.nodeType||!this.wtDom.hasClass(i,"wtHolder")){var o=document.createElement("DIV");o.style.position="relative",o.className="wtHolder",i&&i.insertBefore(o,this.hider),o.appendChild(this.hider)}if(this.holder=this.hider.parentNode,this.TBODY=this.TABLE.getElementsByTagName("TBODY")[0],this.TBODY||(this.TBODY=document.createElement("TBODY"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.getElementsByTagName("THEAD")[0],this.THEAD||(this.THEAD=document.createElement("THEAD"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.getElementsByTagName("COLGROUP")[0],this.COLGROUP||(this.COLGROUP=document.createElement("COLGROUP"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD)),this.instance.getSetting("columnHeaders").length&&!this.THEAD.childNodes.length){var s=document.createElement("TR");this.THEAD.appendChild(s)}this.colgroupChildrenLength=this.COLGROUP.childNodes.length,this.theadChildrenLength=this.THEAD.firstChild?this.THEAD.firstChild.childNodes.length:0,this.tbodyChildrenLength=this.TBODY.childNodes.length,this.oldCellCache=new g,this.currentCellCache=new g,this.rowFilter=new C,this.columnFilter=new m,this.verticalRenderReverse=!1}function M(e){if(this.instance=e,this.resetSettings(),this.instance.getSetting("nativeScrollbars")){var i=this;t(n).on("resize",function(){i.clientHeight=i.getWorkspaceHeight()})}}function I(e){e.getSetting("nativeScrollbars")||t(e.wtTable.spreader).on("mousewheel",function(t){var i=t.originalEvent.deltaX,n=t.originalEvent.deltaY,r=t.originalEvent.delta;i||n||!r||(n=r),(i||n)&&(n>0&&0===e.getSetting("offsetRow")||0>n&&e.wtTable.isLastRowFullyVisible()||0>i&&0===e.getSetting("offsetColumn")||i>0&&e.wtTable.isLastColumnFullyVisible()||(clearTimeout(e.wheelTimeout),e.wheelTimeout=setTimeout(function(){n?e.wtScrollbars.vertical.visible&&e.scrollVertical(-Math.ceil(n)).draw():i&&e.wtScrollbars.horizontal.visible&&e.scrollHorizontal(Math.ceil(i)).draw()},0),t.preventDefault()))})}Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,i=Number(arguments[1])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=e);e>i;i++)if(i in this&&this[i]===t)return i;return-1}),Array.prototype.filter||(Array.prototype.filter=function(t,e){function i(t){return/NodeList/i.test(t.item)}function n(t){for(var e=[],i=0,n=t.length;n>i;i++)e[i]=t[i];return e}if("undefined"==typeof this||null===this)throw new TypeError;if("function"!=typeof t)throw new TypeError;e=e||this,i(e)&&(e=n(e));var r,o,s=e.length,a=[];for(r=0;s>r;r+=1)e.hasOwnProperty(r)&&(o=e[r],t.call(e,o,r,e)&&a.push(o));return a}),"undefined"==typeof WeakMap&&!function(){var t=Object.defineProperty;try{var e=!0;t(function(){},"foo",{})}catch(i){e=!1}var r=+new Date%1e9,o=function(){this.name="__st"+(1e9*Math.random()>>>0)+(r++ +"__"),e||(this._wmCache=[])};e?o.prototype={set:function(e,i){var n=e[this.name];n&&n[0]===e?n[1]=i:t(e,this.name,{value:[e,i],writable:!0})},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},"delete":function(t){this.set(t,void 0)}}:o.prototype={set:function(t,e){if("undefined"!=typeof t&&"undefined"!=typeof e){for(var i=0,n=this._wmCache.length;n>i;i++)if(this._wmCache[i].key==t)return void(this._wmCache[i].value=e);this._wmCache.push({key:t,value:e})}},get:function(t){if("undefined"!=typeof t)for(var e=0,i=this._wmCache.length;i>e;e++)if(this._wmCache[e].key==t)return this._wmCache[e].value},"delete":function(t){if("undefined"!=typeof t)for(var e=0,i=this._wmCache.length;i>e;e++)this._wmCache[e].key==t&&Array.prototype.slice.call(this._wmCache,e,1)}},n.WeakMap=o}(),r.activeGuid=null,r.Core=function(e,i){function o(){var t=!1;return{validatorsInQueue:0,addValidatorToQueue:function(){this.validatorsInQueue++,t=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(){},checkIfQueueIsEmpty:function(){0==this.validatorsInQueue&&0==t&&(t=!0,this.onQueueEmpty())}}}function s(e,i,n){function r(){var r;e.length&&(r=m.PluginHooks.execute("beforeChange",e,i),"function"==typeof r?t.when(result).then(function(){n()}):r===!1&&e.splice(0,e.length)),"function"!=typeof r&&n()}var s=new o;s.onQueueEmpty=r;for(var a=e.length-1;a>=0;a--)if(null===e[a])e.splice(a,1);else{var l=e[a][0],c=u.propToCol(e[a][1]),h=m.runHooksAndReturn("modifyCol",c),d=m.getCellMeta(l,h);"numeric"===d.type&&"string"==typeof e[a][3]&&e[a][3].length>0&&/^-?[\d\s]*\.?\d*$/.test(e[a][3])&&(e[a][3]=numeral().unformat(e[a][3]||"0")),m.getCellValidator(d)&&(s.addValidatorToQueue(),m.validateCell(e[a][3],d,function(t,i){return function(n){if("boolean"!=typeof n)throw new Error("Validation error: result is not boolean");n===!1&&i.allowInvalid===!1&&(e.splice(t,1),i.valid=!0,--t),s.removeValidatorFormQueue()}}(a,d),i))}s.checkIfQueueIsEmpty()}function a(t,e){var i=t.length-1;if(!(0>i)){for(;i>=0;i--)if(null!==t[i]){if(h.settings.minSpareRows)for(;t[i][0]>m.countRows()-1;)u.createRow();if("array"===m.dataType&&h.settings.minSpareCols)for(;u.propToCol(t[i][1])>m.countCols()-1;)u.createCol();u.set(t[i][0],t[i][1],t[i][3])}else t.splice(i,1);m.forceFullRender=!0,d.adjustRowsAndCols(),f.refreshBorders(null,!0),m.PluginHooks.run("afterChange",t,e||"edit")}}function l(e,i,n){return"object"==typeof e?e:t.isPlainObject(n)?n:[[e,i,n]]}function c(t){if(t.hasOwnProperty("type")){var e,i={};if("object"==typeof t.type)e=t.type;else if("string"==typeof t.type&&(e=r.cellTypes[t.type],void 0===e))throw new Error('You declared cell type "'+t.type+'" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(i[n]=e[n]);return i}}var h,u,d,f,p,g,m=this,v=function(){};r.helper.extend(v.prototype,H.prototype),r.helper.extend(v.prototype,i),r.helper.extend(v.prototype,c(i)),this.rootElement=e;var y=t(document.documentElement),w=t(document.body);this.guid="ht_"+r.helper.randomString(),this.rootElement[0].id||(this.rootElement[0].id=this.guid),h={cellSettings:[],columnSettings:[],columnsSettingConflicts:["data","width"],settings:new v,settingsFromDOM:{},selStart:new r.SelectionPoint,selEnd:new r.SelectionPoint,isPopulated:null,scrollable:null,extensions:{},firstRun:!0},d={alter:function(t,e,i,n,o){var s;switch(i=i||1,t){case"insert_row":s=u.createRow(e,i),s&&(h.selStart.exists()&&h.selStart.row()>=e?(h.selStart.row(h.selStart.row()+s),f.transformEnd(s,0)):f.refreshBorders());break;case"insert_col":if(s=u.createCol(e,i)){if(r.helper.isArray(m.getSettings().colHeaders)){var a=[e,0];a.length+=s,Array.prototype.splice.apply(m.getSettings().colHeaders,a)}h.selStart.exists()&&h.selStart.col()>=e?(h.selStart.col(h.selStart.col()+s),f.transformEnd(0,s)):f.refreshBorders()}break;case"remove_row":u.removeRow(e,i),h.cellSettings.splice(e,i),d.adjustRowsAndCols(),f.refreshBorders();break;case"remove_col":u.removeCol(e,i);for(var l=0,c=u.getAll().length;c>l;l++)l in h.cellSettings&&h.cellSettings[l].splice(e,i);r.helper.isArray(m.getSettings().colHeaders)&&("undefined"==typeof e&&(e=-1),m.getSettings().colHeaders.splice(e,i)),h.columnSettings.splice(e,i),d.adjustRowsAndCols(),f.refreshBorders();break;default:throw new Error('There is no such action "'+t+'"')}o||d.adjustRowsAndCols()},adjustRowsAndCols:function(){var t,e,i,n=m.countEmptyRows(!0);if(e=m.countRows(),e<h.settings.minRows)for(t=0;t<h.settings.minRows-e;t++)u.createRow(m.countRows(),1,!0);if(n<h.settings.minSpareRows)for(;n<h.settings.minSpareRows&&m.countRows()<h.settings.maxRows;n++)u.createRow(m.countRows(),1,!0);if(i=m.countEmptyCols(!0),!h.settings.columns&&m.countCols()<h.settings.minCols)for(;m.countCols()<h.settings.minCols;i++)u.createCol(m.countCols(),1,!0);if(!h.settings.columns&&"array"===m.dataType&&i<h.settings.minSpareCols)for(;i<h.settings.minSpareCols&&m.countCols()<h.settings.maxCols;i++)u.createCol(m.countCols(),1,!0);if(h.settings.enterBeginsEditing)for(;(h.settings.minRows||h.settings.minSpareRows)&&m.countRows()>h.settings.minRows&&h.settings.minSpareRows&&n>h.settings.minSpareRows;n--)u.removeRow();
if(h.settings.enterBeginsEditing&&!h.settings.columns)for(;(h.settings.minCols||h.settings.minSpareCols)&&m.countCols()>h.settings.minCols&&h.settings.minSpareCols&&i>h.settings.minSpareCols;i--)u.removeCol();var r=m.countRows(),o=m.countCols();if(0!==r&&0!==o||f.deselect(),h.selStart.exists()){var s,a=h.selStart.row(),l=h.selStart.col(),c=h.selEnd.row(),d=h.selEnd.col();a>r-1?(a=r-1,s=!0,c>a&&(c=a)):c>r-1&&(c=r-1,s=!0,a>c&&(a=c)),l>o-1?(l=o-1,s=!0,d>l&&(d=l)):d>o-1&&(d=o-1,s=!0,l>d&&(l=d)),s&&m.selectCell(a,l,c,d)}},populateFromArray:function(t,e,i,n,o){var s,a,l,c,u=[],d={};if(a=e.length,0===a)return!1;var f,p,g,v;switch(o){case"shift_down":for(f=i?i.col-t.col+1:0,p=i?i.row-t.row+1:0,e=r.helper.translateRowsToColumns(e),l=0,c=e.length,g=Math.max(c,f);g>l;l++)if(c>l){for(s=0,a=e[l].length;p-a>s;s++)e[l].push(e[l][s%a]);e[l].unshift(t.col+l,t.row,0),m.spliceCol.apply(m,e[l])}else e[l%c][0]=t.col+l,m.spliceCol.apply(m,e[l%c]);break;case"shift_right":for(f=i?i.col-t.col+1:0,p=i?i.row-t.row+1:0,s=0,a=e.length,v=Math.max(a,p);v>s;s++)if(a>s){for(l=0,c=e[s].length;f-c>l;l++)e[s].push(e[s][l%c]);e[s].unshift(t.row+s,t.col,0),m.spliceRow.apply(m,e[s])}else e[s%a][0]=t.row+s,m.spliceRow.apply(m,e[s%a]);break;case"overwrite":default:for(d.row=t.row,d.col=t.col,s=0;a>s&&!(i&&d.row>i.row||!h.settings.minSpareRows&&d.row>m.countRows()-1||d.row>=h.settings.maxRows);s++){for(d.col=t.col,c=e[s]?e[s].length:0,l=0;c>l&&!(i&&d.col>i.col||!h.settings.minSpareCols&&d.col>m.countCols()-1||d.col>=h.settings.maxCols);l++)m.getCellMeta(d.row,d.col).readOnly||u.push([d.row,d.col,e[s][l]]),d.col++,i&&l===c-1&&(l=-1);d.row++,i&&s===a-1&&(s=-1)}m.setDataAtCell(u,null,null,n||"populateFromArray")}},getCornerCoords:function(e){function i(e,i,n){function r(t){return t[n]}return Array.prototype.map?e.apply(Math,i.map(r)):e.apply(Math,t.map(i,r))}return{TL:{row:i(Math.min,e,"row"),col:i(Math.min,e,"col")},BR:{row:i(Math.max,e,"row"),col:i(Math.max,e,"col")}}},getCellsAtCoords:function(t,e){var i,n,r=d.getCornerCoords([t,e]),o=[];for(i=r.TL.row;i<=r.BR.row;i++)for(n=r.TL.col;n<=r.BR.col;n++)o.push(m.view.getCellAtCoords({row:i,col:n}));return o}},this.selection=f={inProgress:!1,begin:function(){m.selection.inProgress=!0},finish:function(){var t=m.getSelected();m.PluginHooks.run("afterSelectionEnd",t[0],t[1],t[2],t[3]),m.PluginHooks.run("afterSelectionEndByProp",t[0],m.colToProp(t[1]),t[2],m.colToProp(t[3])),m.selection.inProgress=!1},isInProgress:function(){return m.selection.inProgress},setRangeStart:function(t){h.selStart.coords(t),f.setRangeEnd(t)},setRangeEnd:function(t,e){m.selection.begin(),h.selEnd.coords(t),h.settings.multiSelect||h.selStart.coords(t),m.view.wt.selections.current.clear(),m.view.wt.selections.current.add(h.selStart.arr()),m.view.wt.selections.area.clear(),f.isMultiple()&&(m.view.wt.selections.area.add(h.selStart.arr()),m.view.wt.selections.area.add(h.selEnd.arr())),(h.settings.currentRowClassName||h.settings.currentColClassName)&&(m.view.wt.selections.highlight.clear(),m.view.wt.selections.highlight.add(h.selStart.arr()),m.view.wt.selections.highlight.add(h.selEnd.arr())),m.PluginHooks.run("afterSelection",h.selStart.row(),h.selStart.col(),h.selEnd.row(),h.selEnd.col()),m.PluginHooks.run("afterSelectionByProp",h.selStart.row(),u.colToProp(h.selStart.col()),h.selEnd.row(),u.colToProp(h.selEnd.col())),e!==!1&&m.view.scrollViewport(t),f.refreshBorders()},refreshBorders:function(t,e){e||p.destroyEditor(t),m.view.render(),f.isSelected()&&!e&&p.prepareEditor()},isMultiple:function(){return!(h.selEnd.col()===h.selStart.col()&&h.selEnd.row()===h.selStart.row())},transformStart:function(t,e,i){h.selStart.row()+t>m.countRows()-1?i&&h.settings.minSpareRows>0?m.alter("insert_row",m.countRows()):h.settings.autoWrapCol&&(t=1-m.countRows(),e=h.selStart.col()+e==m.countCols()-1?1-m.countCols():1):h.settings.autoWrapCol&&h.selStart.row()+t<0&&h.selStart.col()+e>=0&&(t=m.countRows()-1,e=h.selStart.col()+e==0?m.countCols()-1:-1),h.selStart.col()+e>m.countCols()-1?i&&h.settings.minSpareCols>0?m.alter("insert_col",m.countCols()):h.settings.autoWrapRow&&(t=h.selStart.row()+t==m.countRows()-1?1-m.countRows():1,e=1-m.countCols()):h.settings.autoWrapRow&&h.selStart.col()+e<0&&h.selStart.row()+t>=0&&(t=h.selStart.row()+t==0?m.countRows()-1:-1,e=m.countCols()-1);var n=m.countRows(),r=m.countCols(),o={row:h.selStart.row()+t,col:h.selStart.col()+e};o.row<0?o.row=0:o.row>0&&o.row>=n&&(o.row=n-1),o.col<0?o.col=0:o.col>0&&o.col>=r&&(o.col=r-1),f.setRangeStart(o)},transformEnd:function(t,e){if(h.selEnd.exists()){var i=m.countRows(),n=m.countCols(),r={row:h.selEnd.row()+t,col:h.selEnd.col()+e};r.row<0?r.row=0:r.row>0&&r.row>=i&&(r.row=i-1),r.col<0?r.col=0:r.col>0&&r.col>=n&&(r.col=n-1),f.setRangeEnd(r)}},isSelected:function(){return h.selEnd.exists()},inInSelection:function(t){if(!f.isSelected())return!1;var e=d.getCornerCoords([h.selStart.coords(),h.selEnd.coords()]);return e.TL.row<=t.row&&e.BR.row>=t.row&&e.TL.col<=t.col&&e.BR.col>=t.col},deselect:function(){f.isSelected()&&(m.selection.inProgress=!1,h.selEnd=new r.SelectionPoint,m.view.wt.selections.current.clear(),m.view.wt.selections.area.clear(),p.destroyEditor(),f.refreshBorders(),m.PluginHooks.run("afterDeselect"))},selectAll:function(){h.settings.multiSelect&&(f.setRangeStart({row:0,col:0}),f.setRangeEnd({row:m.countRows()-1,col:m.countCols()-1},!1))},empty:function(){if(f.isSelected()){var t,e,i=d.getCornerCoords([h.selStart.coords(),h.selEnd.coords()]),n=[];for(t=i.TL.row;t<=i.BR.row;t++)for(e=i.TL.col;e<=i.BR.col;e++)m.getCellMeta(t,e).readOnly||n.push([t,e,""]);m.setDataAtCell(n)}}},this.autofill=g={handle:null,init:function(){g.handle?g.handle.disabled=!1:g.handle={}},disable:function(){g.handle.disabled=!0},selectAdjacent:function(){var t,e,i,n,r;t=f.isMultiple()?m.view.wt.selections.area.getCorners():m.view.wt.selections.current.getCorners(),e=u.getAll();t:for(i=t[2]+1;i<m.countRows();i++){for(r=t[1];r<=t[3];r++)if(e[i][r])break t;(e[i][t[1]-1]||e[i][t[3]+1])&&(n=i)}n&&(m.view.wt.selections.fill.clear(),m.view.wt.selections.fill.add([t[0],t[1]]),m.view.wt.selections.fill.add([n,t[3]]),g.apply())},apply:function(){var t,e,i,n,r;g.handle.isDragged=0,t=m.view.wt.selections.fill.getCorners(),t&&(m.view.wt.selections.fill.clear(),e=f.isMultiple()?m.view.wt.selections.area.getCorners():m.view.wt.selections.current.getCorners(),t[0]===e[0]&&t[1]<e[1]?(i={row:t[0],col:t[1]},n={row:t[2],col:e[1]-1}):t[0]===e[0]&&t[3]>e[3]?(i={row:t[0],col:e[3]+1},n={row:t[2],col:t[3]}):t[0]<e[0]&&t[1]===e[1]?(i={row:t[0],col:t[1]},n={row:e[0]-1,col:t[3]}):t[2]>e[2]&&t[1]===e[1]&&(i={row:e[2]+1,col:t[1]},n={row:t[2],col:t[3]}),i&&(r=SheetClip.parse(u.getText(h.selStart.coords(),h.selEnd.coords())),m.PluginHooks.run("beforeAutofill",i,n,r),d.populateFromArray(i,r,n,"autofill"),f.setRangeStart({row:t[0],col:t[1]}),f.setRangeEnd({row:t[2],col:t[3]})))},showBorder:function(t){t.row=t[0],t.col=t[1];var e=d.getCornerCoords([h.selStart.coords(),h.selEnd.coords()]);if("horizontal"!==h.settings.fillHandle&&(e.BR.row<t.row||e.TL.row>t.row))t=[t.row,e.BR.col];else{if("vertical"===h.settings.fillHandle)return;t=[e.BR.row,t.col]}m.view.wt.selections.fill.clear(),m.view.wt.selections.fill.add([h.selStart.coords().row,h.selStart.coords().col]),m.view.wt.selections.fill.add([h.selEnd.coords().row,h.selEnd.coords().col]),m.view.wt.selections.fill.add(t),m.view.render()}},this.init=function(){m.PluginHooks.run("beforeInit"),this.view=new r.TableView(this),p=new r.EditorManager(m,h,f,u),this.updateSettings(h.settings,!0),this.parseSettingsFromDOM(),this.forceFullRender=!0,this.view.render(),"object"==typeof h.firstRun&&(m.PluginHooks.run("afterChange",h.firstRun[0],h.firstRun[1]),h.firstRun=!1),m.PluginHooks.run("afterInit")},this.validateCell=function(t,e,i,n){var r=m.getCellValidator(e);"[object RegExp]"===Object.prototype.toString.call(r)&&(r=function(t){return function(e,i){i(t.test(e))}}(r)),"function"==typeof r?(t=m.PluginHooks.execute("beforeValidate",t,e.row,e.prop,n),setTimeout(function(){r.call(e,t,function(r){e.valid=r,r=m.PluginHooks.execute("afterValidate",r,t,e.row,e.prop,n),i(r)})})):(e.valid=!0,i(!0))},this.setDataAtCell=function(t,e,i,n){var r,o,c,h=l(t,e,i),d=[];for(r=0,o=h.length;o>r;r++){if("object"!=typeof h[r])throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if("number"!=typeof h[r][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");c=u.colToProp(h[r][1]),d.push([h[r][0],c,u.get(h[r][0],c),h[r][2]])}n||"object"!=typeof t||(n=e),s(d,n,function(){a(d,n)})},this.setDataAtRowProp=function(t,e,i,n){var r,o,c=l(t,e,i),h=[];for(r=0,o=c.length;o>r;r++)h.push([c[r][0],c[r][1],u.get(c[r][0],c[r][1]),c[r][2]]);n||"object"!=typeof t||(n=e),s(h,n,function(){a(h,n)})},this.listen=function(){r.activeGuid=m.guid,document.activeElement&&document.activeElement!==document.body?document.activeElement.blur():document.activeElement||document.body.focus()},this.unlisten=function(){r.activeGuid=null},this.isListening=function(){return r.activeGuid===m.guid},this.destroyEditor=function(t){f.refreshBorders(t)},this.populateFromArray=function(t,e,i,n,r,o,s){if("object"!=typeof i||"object"!=typeof i[0])throw new Error("populateFromArray parameter `input` must be an array of arrays");return d.populateFromArray({row:t,col:e},i,"number"==typeof n?{row:n,col:r}:null,o,s)},this.spliceCol=function(t,e,i){return u.spliceCol.apply(u,arguments)},this.spliceRow=function(t,e,i){return u.spliceRow.apply(u,arguments)},this.getCornerCoords=function(t){return d.getCornerCoords(t)},this.getSelected=function(){return f.isSelected()?[h.selStart.row(),h.selStart.col(),h.selEnd.row(),h.selEnd.col()]:void 0},this.parseSettingsFromDOM=function(){var t=this.rootElement.css("overflow");if("scroll"===t||"auto"===t?(this.rootElement[0].style.overflow="visible",h.settingsFromDOM.overflow=t):void 0!==h.settings.width&&void 0!==h.settings.height||(h.settingsFromDOM.overflow="auto"),void 0===h.settings.width?h.settingsFromDOM.width=this.rootElement.width():h.settingsFromDOM.width=void 0,h.settingsFromDOM.height=void 0,void 0===h.settings.height&&("scroll"===h.settingsFromDOM.overflow||"auto"===h.settingsFromDOM.overflow)){var e=this.rootElement[0].cloneNode(!1),i=this.rootElement[0].parentNode;if(i){e.removeAttribute("id"),i.appendChild(e);var r=parseInt(n.getComputedStyle(e,null).getPropertyValue("height"),10);isNaN(r)&&e.currentStyle&&(r=parseInt(e.currentStyle.height,10)),r>0&&(h.settingsFromDOM.height=r),i.removeChild(e)}}},this.render=function(){m.view&&(m.forceFullRender=!0,m.parseSettingsFromDOM(),f.refreshBorders(null,!0))},this.loadData=function(t){function e(){h.cellSettings.length=0}if("object"==typeof t&&null!==t)t.push&&t.splice||(t=[t]);else{if(null!==t)throw new Error("loadData only accepts array of objects or array of arrays ("+typeof t+" given)");t=[];for(var i,n=0,o=h.settings.startRows;o>n;n++){i=[];for(var s=0,a=h.settings.startCols;a>s;s++)i.push(null);t.push(i)}}h.isPopulated=!1,v.prototype.data=t,h.settings.dataSchema instanceof Array||t[0]instanceof Array?m.dataType="array":"function"==typeof h.settings.dataSchema?m.dataType="function":m.dataType="object",u=new r.DataMap(m,h,v),e(),d.adjustRowsAndCols(),m.PluginHooks.run("afterLoadData"),h.firstRun?h.firstRun=[null,"loadData"]:(m.PluginHooks.run("afterChange",null,"loadData"),m.render()),h.isPopulated=!0},this.getData=function(t,e,i,n){return"undefined"==typeof t?u.getAll():u.getRange({row:t,col:e},{row:i,col:n},u.DESTINATION_RENDERER)},this.getCopyableData=function(t,e,i,n){return u.getCopyableText({row:t,col:e},{row:i,col:n})},this.updateSettings=function(t,e){var i,n;if("undefined"!=typeof t.rows)throw new Error("'rows' setting is no longer supported. do you mean startRows, minRows or maxRows?");if("undefined"!=typeof t.cols)throw new Error("'cols' setting is no longer supported. do you mean startCols, minCols or maxCols?");for(i in t)"data"!==i&&(void 0!==m.PluginHooks.hooks[i]||void 0!==m.PluginHooks.legacy[i]?("function"==typeof t[i]||r.helper.isArray(t[i]))&&m.PluginHooks.add(i,t[i]):(!e&&t.hasOwnProperty(i)&&(v.prototype[i]=t[i]),r.extension[i]&&(h.extensions[i]=new r.extension[i](m,t[i]))));if(void 0===t.data&&void 0===h.settings.data?m.loadData(null):void 0!==t.data?m.loadData(t.data):void 0!==t.columns&&u.createMap(),n=m.countCols(),h.cellSettings.length=0,n>0){var o,s;for(i=0;n>i;i++)h.columnSettings[i]=r.helper.columnFactory(v,h.columnsSettingConflicts),o=h.columnSettings[i].prototype,v.prototype.columns&&(s=v.prototype.columns[i],r.helper.extend(o,s),r.helper.extend(o,c(s)))}"undefined"!=typeof t.fillHandle&&(g.handle&&t.fillHandle===!1?g.disable():g.handle||t.fillHandle===!1||g.init()),"undefined"!=typeof t.className&&(v.prototype.className&&m.rootElement.removeClass(v.prototype.className),t.className&&m.rootElement.addClass(t.className)),e||m.PluginHooks.run("afterUpdateSettings"),d.adjustRowsAndCols(),m.view&&!h.firstRun&&(m.forceFullRender=!0,f.refreshBorders(null,!0))},this.getValue=function(){var t=m.getSelected();if(v.prototype.getValue){if("function"==typeof v.prototype.getValue)return v.prototype.getValue.call(m);if(t)return m.getData()[t[0]][v.prototype.getValue]}else if(t)return m.getDataAtCell(t[0],t[1])},this.getSettings=function(){return h.settings},this.getSettingsFromDOM=function(){return h.settingsFromDOM},this.clear=function(){f.selectAll(),f.empty()},this.alter=function(t,e,i,n,r){d.alter(t,e,i,n,r)},this.getCell=function(t,e){return m.view.getCellAtCoords({row:t,col:e})},this.colToProp=function(t){return u.colToProp(t)},this.propToCol=function(t){return u.propToCol(t)},this.getDataAtCell=function(t,e){return u.get(t,u.colToProp(e))},this.getDataAtRowProp=function(t,e){return u.get(t,e)},this.getDataAtCol=function(t){return[].concat.apply([],u.getRange({row:0,col:t},{row:h.settings.data.length-1,col:t},u.DESTINATION_RENDERER))},this.getDataAtProp=function(t){return[].concat.apply([],u.getRange({row:0,col:u.propToCol(t)},{row:h.settings.data.length-1,col:u.propToCol(t)},u.DESTINATION_RENDERER))},this.getDataAtRow=function(t){return h.settings.data[t]},this.getCellMeta=function(t,e){function i(t){var e={row:t};return m.PluginHooks.execute("beforeGet",e),e.row}function n(t){return r.PluginHooks.execute(m,"modifyCol",t)}var o,s=u.colToProp(e);if(t=i(t),e=n(e),"undefined"==typeof h.columnSettings[e]&&(h.columnSettings[e]=r.helper.columnFactory(v,h.columnsSettingConflicts)),h.cellSettings[t]||(h.cellSettings[t]=[]),h.cellSettings[t][e]||(h.cellSettings[t][e]=new h.columnSettings[e]),o=h.cellSettings[t][e],o.row=t,o.col=e,o.prop=s,o.instance=m,m.PluginHooks.run("beforeGetCellMeta",t,e,o),r.helper.extend(o,c(o)),o.cells){var a=o.cells.call(o,t,e,s);a&&(r.helper.extend(o,a),r.helper.extend(o,c(a)))}return m.PluginHooks.run("afterGetCellMeta",t,e,o),o};var _=r.helper.cellMethodLookupFactory("renderer");this.getCellRenderer=function(t,e){var i=_.call(this,t,e);return r.renderers.getRenderer(i)},this.getCellEditor=r.helper.cellMethodLookupFactory("editor"),this.getCellValidator=r.helper.cellMethodLookupFactory("validator"),this.validateCells=function(t){var e=new o;e.onQueueEmpty=t;for(var i=m.countRows()-1;i>=0;){for(var n=m.countCols()-1;n>=0;)e.addValidatorToQueue(),m.validateCell(m.getDataAtCell(i,n),m.getCellMeta(i,n),function(){e.removeValidatorFormQueue()},"validateCells"),n--;i--}e.checkIfQueueIsEmpty()},this.getRowHeader=function(t){if(void 0===t){for(var e=[],i=0,n=m.countRows();n>i;i++)e.push(m.getRowHeader(i));return e}return"[object Array]"===Object.prototype.toString.call(h.settings.rowHeaders)&&void 0!==h.settings.rowHeaders[t]?h.settings.rowHeaders[t]:"function"==typeof h.settings.rowHeaders?h.settings.rowHeaders(t):h.settings.rowHeaders&&"string"!=typeof h.settings.rowHeaders&&"number"!=typeof h.settings.rowHeaders?t+1:h.settings.rowHeaders},this.hasRowHeaders=function(){return!!h.settings.rowHeaders},this.hasColHeaders=function(){if(void 0!==h.settings.colHeaders&&null!==h.settings.colHeaders)return!!h.settings.colHeaders;for(var t=0,e=m.countCols();e>t;t++)if(m.getColHeader(t))return!0;return!1},this.getColHeader=function(t){if(void 0===t){for(var e=[],i=0,n=m.countCols();n>i;i++)e.push(m.getColHeader(i));return e}return t=r.PluginHooks.execute(m,"modifyCol",t),h.settings.columns&&h.settings.columns[t]&&h.settings.columns[t].title?h.settings.columns[t].title:"[object Array]"===Object.prototype.toString.call(h.settings.colHeaders)&&void 0!==h.settings.colHeaders[t]?h.settings.colHeaders[t]:"function"==typeof h.settings.colHeaders?h.settings.colHeaders(t):h.settings.colHeaders&&"string"!=typeof h.settings.colHeaders&&"number"!=typeof h.settings.colHeaders?r.helper.spreadsheetColumnLabel(t):h.settings.colHeaders},this._getColWidthFromSettings=function(t){var e=m.getCellMeta(0,t),i=e.width;if(void 0!==i&&i!==h.settings.width||(i=e.colWidths),void 0!==i&&null!==i){switch(typeof i){case"object":i=i[t];break;case"function":i=i(t)}"string"==typeof i&&(i=parseInt(i,10))}return i},this.getColWidth=function(t){t=r.PluginHooks.execute(m,"modifyCol",t);var e={width:m._getColWidthFromSettings(t)};return e.width||(e.width=50),m.PluginHooks.run("afterGetColWidth",t,e),e.width},this.countRows=function(){return h.settings.data.length},this.countCols=function(){return"object"===m.dataType||"function"===m.dataType?h.settings.columns&&h.settings.columns.length?h.settings.columns.length:u.colToPropCache.length:"array"===m.dataType?h.settings.columns&&h.settings.columns.length?h.settings.columns.length:h.settings.data&&h.settings.data[0]&&h.settings.data[0].length?h.settings.data[0].length:0:void 0},this.rowOffset=function(){return m.view.wt.getSetting("offsetRow")},this.colOffset=function(){return m.view.wt.getSetting("offsetColumn")},this.countVisibleRows=function(){return m.view.wt.drawn?m.view.wt.wtTable.rowStrategy.countVisible():-1},this.countVisibleCols=function(){return m.view.wt.drawn?m.view.wt.wtTable.columnStrategy.countVisible():-1},this.countEmptyRows=function(t){for(var e=m.countRows()-1,i=0;e>=0;){if(u.get(e,0),m.isEmptyRow(u.getVars.row))i++;else if(t)break;e--}return i},this.countEmptyCols=function(t){if(m.countRows()<1)return 0;for(var e=m.countCols()-1,i=0;e>=0;){if(m.isEmptyCol(e))i++;else if(t)break;e--}return i},this.isEmptyRow=function(t){return h.settings.isEmptyRow.call(m,t)},this.isEmptyCol=function(t){return h.settings.isEmptyCol.call(m,t)},this.selectCell=function(t,e,i,n,r){if("number"!=typeof t||0>t||t>=m.countRows())return!1;if("number"!=typeof e||0>e||e>=m.countCols())return!1;if("undefined"!=typeof i){if("number"!=typeof i||0>i||i>=m.countRows())return!1;if("number"!=typeof n||0>n||n>=m.countCols())return!1}return h.selStart.coords({row:t,col:e}),document.activeElement&&document.activeElement!==document.documentElement&&document.activeElement!==document.body&&document.activeElement.blur(),m.listen(),"undefined"==typeof i?f.setRangeEnd({row:t,col:e},r):f.setRangeEnd({row:i,col:n},r),m.selection.finish(),!0},this.selectCellByProp=function(t,e,i,n,r){return arguments[1]=u.propToCol(arguments[1]),"undefined"!=typeof arguments[3]&&(arguments[3]=u.propToCol(arguments[3])),m.selectCell.apply(m,arguments)},this.deselectCell=function(){f.deselect()},this.destroy=function(){m.clearTimeouts(),m.view&&m.view.wt.destroy(),m.rootElement.empty(),m.rootElement.removeData("handsontable"),m.rootElement.off(".handsontable"),t(n).off("."+m.guid),y.off("."+m.guid),w.off("."+m.guid),m.PluginHooks.run("afterDestroy")},this.getActiveEditor=function(){return p.getActiveEditor()},this.getInstance=function(){return m.rootElement.data("handsontable")},function(){m.PluginHooks=new r.PluginHookClass;var t=m.PluginHooks.run,e=m.PluginHooks.execute;m.PluginHooks.run=function(e,i,n,o,s,a){t.call(this,m,e,i,n,o,s,a),r.PluginHooks.run(m,e,i,n,o,s,a)},m.PluginHooks.execute=function(t,i,n,o,s,a){var l=r.PluginHooks.execute(m,t,i,n,o,s,a),c=e.call(this,m,t,l,n,o,s,a);return"undefined"==typeof c?l:c},m.addHook=function(){m.PluginHooks.add.apply(m.PluginHooks,arguments)},m.addHookOnce=function(){m.PluginHooks.once.apply(m.PluginHooks,arguments)},m.removeHook=function(){m.PluginHooks.remove.apply(m.PluginHooks,arguments)},m.runHooks=function(){m.PluginHooks.run.apply(m.PluginHooks,arguments)},m.runHooksAndReturn=function(){return m.PluginHooks.execute.apply(m.PluginHooks,arguments)}}(),this.timeouts={},this.registerTimeout=function(t,e,i){clearTimeout(this.timeouts[t]),this.timeouts[t]=setTimeout(e,i||0)},this.clearTimeouts=function(){for(var t in this.timeouts)this.timeouts.hasOwnProperty(t)&&clearTimeout(this.timeouts[t])},this.version="0.10.3"};var H=function(){};H.prototype={data:void 0,width:void 0,height:void 0,startRows:5,startCols:5,rowHeaders:null,colHeaders:null,minRows:0,minCols:0,maxRows:1/0,maxCols:1/0,minSpareRows:0,minSpareCols:0,multiSelect:!0,fillHandle:!0,fixedRowsTop:0,fixedColumnsLeft:0,outsideClickDeselects:!0,enterBeginsEditing:!0,enterMoves:{row:1,col:0},tabMoves:{row:0,col:1},autoWrapRow:!1,autoWrapCol:!1,copyRowsLimit:1e3,copyColsLimit:1e3,pasteMode:"overwrite",currentRowClassName:void 0,currentColClassName:void 0,stretchH:"hybrid",isEmptyRow:function(t){for(var e,i=0,n=this.countCols();n>i;i++)if(e=this.getDataAtCell(t,i),""!==e&&null!==e&&"undefined"!=typeof e)return!1;return!0},isEmptyCol:function(t){for(var e,i=0,n=this.countRows();n>i;i++)if(e=this.getDataAtCell(i,t),""!==e&&null!==e&&"undefined"!=typeof e)return!1;return!0},observeDOMVisibility:!0,allowInvalid:!0,invalidCellClassName:"htInvalid",placeholderCellClassName:"htPlaceholder",readOnlyCellClassName:"htDimmed",fragmentSelection:!1,readOnly:!1,nativeScrollbars:!1,type:"text",copyable:!0,debug:!1},r.DefaultSettings=H,t.fn.handsontable=function(t){var e,i,n,o,s,a=this.first(),l=a.data("handsontable");if("string"!=typeof t)return s=t||{},l?l.updateSettings(s):(l=new r.Core(a,s),a.data("handsontable",l),l.init()),a;if(n=[],arguments.length>1)for(e=1,i=arguments.length;i>e;e++)n.push(arguments[e]);if(l){if("undefined"==typeof l[t])throw new Error("Handsontable do not provide action: "+t);o=l[t].apply(l,n)}return o},r.TableView=function(e){var i=this,o=t(n),s=t(document.documentElement);this.instance=e,this.settings=e.getSettings(),this.settingsFromDOM=e.getSettingsFromDOM(),e.rootElement.data("originalStyle",e.rootElement[0].getAttribute("style")),e.rootElement.addClass("handsontable");var a=document.createElement("TABLE");a.className="htCore",this.THEAD=document.createElement("THEAD"),a.appendChild(this.THEAD),this.TBODY=document.createElement("TBODY"),a.appendChild(this.TBODY),e.$table=t(a),e.rootElement.prepend(e.$table),e.rootElement.on("mousedown.handsontable",function(t){i.isTextSelectionAllowed(t.target)||(c(),t.preventDefault(),n.focus())}),s.on("keyup."+e.guid,function(t){e.selection.isInProgress()&&!t.shiftKey&&e.selection.finish()});var l;s.on("mouseup."+e.guid,function(t){e.selection.isInProgress()&&1===t.which&&e.selection.finish(),l=!1,e.autofill.handle&&e.autofill.handle.isDragged&&(e.autofill.handle.isDragged>1&&e.autofill.apply(),e.autofill.handle.isDragged=0),r.helper.isOutsideInput(document.activeElement)&&e.unlisten()}),s.on("mousedown."+e.guid,function(t){var n=t.target;if(n!==i.wt.wtTable.spreader)for(;n!==document.documentElement;){if(null===n)return;if(n===e.rootElement[0]||"HANDSONTABLE-TABLE"===n.nodeName)return;n=n.parentNode}i.settings.outsideClickDeselects?e.deselectCell():e.destroyEditor()}),e.rootElement.on("mousedown.handsontable",".dragdealer",function(){e.destroyEditor()}),e.$table.on("selectstart",function(t){i.settings.fragmentSelection||t.preventDefault()});var c=function(){n.getSelection?n.getSelection().empty?n.getSelection().empty():n.getSelection().removeAllRanges&&n.getSelection().removeAllRanges():document.selection&&document.selection.empty()},h={debug:function(){return i.settings.debug},table:a,stretchH:this.settings.stretchH,data:e.getDataAtCell,totalRows:e.countRows,totalColumns:e.countCols,nativeScrollbars:this.settings.nativeScrollbars,offsetRow:0,offsetColumn:0,width:this.getWidth(),height:this.getHeight(),fixedColumnsLeft:function(){return i.settings.fixedColumnsLeft},fixedRowsTop:function(){return i.settings.fixedRowsTop},rowHeaders:function(){return e.hasRowHeaders()?[function(t,e){i.appendRowHeader(t,e)}]:[]},columnHeaders:function(){return e.hasColHeaders()?[function(t,e){i.appendColHeader(t,e)}]:[]},columnWidth:e.getColWidth,cellRenderer:function(t,e,n){var r=i.instance.colToProp(e),o=i.instance.getCellMeta(t,e),s=i.instance.getCellRenderer(o),a=i.instance.getDataAtRowProp(t,r);s(i.instance,n,t,e,r,a,o),i.instance.PluginHooks.run("afterRenderer",n,t,e,r,a,o)},selections:{current:{className:"current",border:{width:2,color:"#5292F7",style:"solid",cornerVisible:function(){return i.settings.fillHandle&&!i.isCellEdited()&&!e.selection.isMultiple()}}},area:{className:"area",border:{width:1,color:"#89AFF9",style:"solid",cornerVisible:function(){return i.settings.fillHandle&&!i.isCellEdited()&&e.selection.isMultiple()}}},highlight:{highlightRowClassName:i.settings.currentRowClassName,highlightColumnClassName:i.settings.currentColClassName},fill:{className:"fill",border:{width:1,color:"red",style:"solid"}}},hideBorderOnMouseDownOver:function(){return i.settings.fragmentSelection},onCellMouseDown:function(t,i,n){e.listen(),l=!0;var r={row:i[0],col:i[1]};2===t.button&&e.selection.inInSelection(r)||(t.shiftKey?e.selection.setRangeEnd(r):e.selection.setRangeStart(r)),e.PluginHooks.run("afterOnCellMouseDown",t,i,n)},onCellMouseOver:function(t,i,n){var r={row:i[0],col:i[1]};l?e.selection.setRangeEnd(r):e.autofill.handle&&e.autofill.handle.isDragged&&(e.autofill.handle.isDragged++,e.autofill.showBorder(i)),e.PluginHooks.run("afterOnCellMouseOver",t,i,n)},onCellCornerMouseDown:function(t){e.autofill.handle.isDragged=1,t.preventDefault(),e.PluginHooks.run("afterOnCellCornerMouseDown",t)},onCellCornerDblClick:function(){e.autofill.selectAdjacent()},beforeDraw:function(t){i.beforeRender(t)},onDraw:function(t){i.onDraw(t)},onScrollVertically:function(){e.runHooks("afterScrollVertically")},onScrollHorizontally:function(){e.runHooks("afterScrollHorizontally")}};e.PluginHooks.run("beforeInitWalkontable",h),this.wt=new y(h),o.on("resize."+e.guid,function(){e.registerTimeout("resizeTimeout",function(){e.parseSettingsFromDOM();var t=i.getWidth(),n=i.getHeight();h.width===t&&h.height===n||(e.forceFullRender=!0,i.render(),h.width=t,h.height=n)},60)}),t(i.wt.wtTable.spreader).on("mousedown.handsontable, contextmenu.handsontable",function(t){t.target===i.wt.wtTable.spreader&&3===t.which&&t.stopPropagation()}),s.on("click."+e.guid,function(){i.settings.observeDOMVisibility&&i.wt.drawInterrupted&&(i.instance.forceFullRender=!0,i.render())})},r.TableView.prototype.isTextSelectionAllowed=function(t){return r.helper.isInput(t)?!0:!(!this.settings.fragmentSelection||!this.wt.wtDom.isChildOf(t,this.TBODY))},r.TableView.prototype.isCellEdited=function(){var t=this.instance.getActiveEditor();return t&&t.isOpened()},r.TableView.prototype.getWidth=function(){var t=void 0!==this.settings.width?this.settings.width:this.settingsFromDOM.width;return"function"==typeof t?t():t},r.TableView.prototype.getHeight=function(){var t=void 0!==this.settings.height?this.settings.height:this.settingsFromDOM.height;return"function"==typeof t?t():t},r.TableView.prototype.beforeRender=function(t){t&&(this.instance.PluginHooks.run("beforeRender",this.instance.forceFullRender),this.wt.update("width",this.getWidth()),this.wt.update("height",this.getHeight()))},r.TableView.prototype.onDraw=function(t){t&&this.instance.PluginHooks.run("afterRender",this.instance.forceFullRender)},r.TableView.prototype.render=function(){this.wt.draw(!this.instance.forceFullRender),this.instance.forceFullRender=!1,this.instance.rootElement.triggerHandler("render.handsontable")},r.TableView.prototype.getCellAtCoords=function(t){var e=this.wt.wtTable.getCell([t.row,t.col]);return 0>e?null:e},r.TableView.prototype.scrollViewport=function(t){this.wt.scrollViewport([t.row,t.col])},r.TableView.prototype.appendRowHeader=function(t,e){if(t>-1)this.wt.wtDom.fastInnerHTML(e,this.instance.getRowHeader(t));else{var i=document.createElement("DIV");i.className="relative",this.wt.wtDom.fastInnerText(i,""),this.wt.wtDom.empty(e),e.appendChild(i)}},r.TableView.prototype.appendColHeader=function(t,e){var i=document.createElement("DIV"),n=document.createElement("SPAN");i.className="relative",n.className="colHeader",this.wt.wtDom.fastInnerHTML(n,this.instance.getColHeader(t)),i.appendChild(n),this.wt.wtDom.empty(e),e.appendChild(i),this.instance.PluginHooks.run("afterGetColHeader",t,e)},r.TableView.prototype.maximumVisibleElementWidth=function(t){var e=this.wt.wtViewport.getWorkspaceWidth();return this.settings.nativeScrollbars?e:e-t},r.TableView.prototype.maximumVisibleElementHeight=function(t){var e=this.wt.wtViewport.getWorkspaceHeight();return this.settings.nativeScrollbars?e:e-t},function(t){function e(t){var e,i;i={},e=t,this.getInstance=function(t){return t.guid in i||(i[t.guid]=new e(t)),i[t.guid]}}var i={},n=new WeakMap;t.editors={registerEditor:function(t,r){var o=new e(r);"string"==typeof t&&(i[t]=o),n.set(r,o)},getEditor:function(t,e){var r;if("function"==typeof t)n.get(t)||this.registerEditor(null,t),r=n.get(t);else{if("string"!=typeof t)throw Error('Only strings and functions can be passed as "editor" parameter ');r=i[t]}if(!r)throw Error('No editor registered under name "'+t+'"');return r.getInstance(e)}}}(r),function(e){e.EditorManager=function(i,n,r){var o,s=this,a=t(document),l=e.helper.keyCode,c=function(){function t(t){if(i.isListening()&&(n.settings.beforeOnKeyDown&&n.settings.beforeOnKeyDown.call(i,t),i.PluginHooks.run("beforeKeyDown",t),!t.isImmediatePropagationStopped()&&(n.lastKeyCode=t.keyCode,r.isSelected()))){var a=(t.ctrlKey||t.metaKey)&&!t.altKey;if(!o.isWaiting()&&!e.helper.isMetaKey(t.keyCode)&&!a)return s.openEditor(""),void t.stopPropagation();var c=t.shiftKey?r.setRangeEnd:r.setRangeStart;switch(t.keyCode){case l.A:if(a){r.selectAll(),t.preventDefault(),t.stopPropagation();break}case l.ARROW_UP:s.isEditorOpened()&&!o.isWaiting()&&s.closeEditorAndSaveChanges(a),u(t.shiftKey),t.preventDefault(),t.stopPropagation();break;case l.ARROW_DOWN:s.isEditorOpened()&&!o.isWaiting()&&s.closeEditorAndSaveChanges(a),d(t.shiftKey),t.preventDefault(),t.stopPropagation();break;case l.ARROW_RIGHT:s.isEditorOpened()&&!o.isWaiting()&&s.closeEditorAndSaveChanges(a),f(t.shiftKey),t.preventDefault(),t.stopPropagation();break;case l.ARROW_LEFT:s.isEditorOpened()&&!o.isWaiting()&&s.closeEditorAndSaveChanges(a),p(t.shiftKey),t.preventDefault(),t.stopPropagation();break;case l.TAB:var g="function"==typeof n.settings.tabMoves?n.settings.tabMoves(t):n.settings.tabMoves;t.shiftKey?r.transformStart(-g.row,-g.col):r.transformStart(g.row,g.col,!0),t.preventDefault(),t.stopPropagation();break;case l.BACKSPACE:case l.DELETE:r.empty(t),s.prepareEditor(),t.preventDefault();break;case l.F2:s.openEditor(),t.preventDefault();break;case l.ENTER:s.isEditorOpened()?(o.state!==e.EditorState.WAITING&&s.closeEditorAndSaveChanges(a),h(t.shiftKey)):i.getSettings().enterBeginsEditing?s.openEditor():h(t.shiftKey),t.preventDefault(),t.stopImmediatePropagation();break;case l.ESCAPE:s.isEditorOpened()&&s.closeEditorAndRestoreOriginalValue(a),t.preventDefault();break;case l.HOME:c(t.ctrlKey||t.metaKey?{row:0,col:n.selStart.col()}:{row:n.selStart.row(),col:0}),t.preventDefault(),t.stopPropagation();break;case l.END:c(t.ctrlKey||t.metaKey?{row:i.countRows()-1,col:n.selStart.col()}:{row:n.selStart.row(),col:i.countCols()-1}),t.preventDefault(),t.stopPropagation();break;case l.PAGE_UP:r.transformStart(-i.countVisibleRows(),0),i.view.wt.scrollVertical(-i.countVisibleRows()),i.view.render(),t.preventDefault(),t.stopPropagation();break;case l.PAGE_DOWN:r.transformStart(i.countVisibleRows(),0),
i.view.wt.scrollVertical(i.countVisibleRows()),i.view.render(),t.preventDefault(),t.stopPropagation()}}}function c(){s.openEditor()}function h(t){var e="function"==typeof n.settings.enterMoves?n.settings.enterMoves(event):n.settings.enterMoves;t?r.transformStart(-e.row,-e.col):r.transformStart(e.row,e.col,!0)}function u(t){t?r.transformEnd(-1,0):r.transformStart(-1,0)}function d(t){t?r.transformEnd(1,0):r.transformStart(1,0)}function f(t){t?r.transformEnd(0,1):r.transformStart(0,1)}function p(t){t?r.transformEnd(0,-1):r.transformStart(0,-1)}a.on("keydown.handsontable."+i.guid,t),i.view.wt.update("onCellDblClick",c),i.addHook("afterDestroy",function(){a.off("keydown.handsontable."+i.guid)})};this.destroyEditor=function(t){this.closeEditor(t)},this.getActiveEditor=function(){return o},this.prepareEditor=function(){if(o&&o.isWaiting())return void this.closeEditor(!1,!1,function(t){t&&s.prepareEditor()});var t=n.selStart.row(),r=n.selStart.col(),a=i.colToProp(r),l=i.getCell(t,r),c=i.getDataAtCell(t,r),h=i.getCellMeta(t,r),u=i.getCellEditor(h);o=e.editors.getEditor(u,i),o.prepare(t,r,a,l,c,h)},this.isEditorOpened=function(){return o.isOpened()},this.openEditor=function(t){o.beginEditing(t)},this.closeEditor=function(t,e,i){o?o.finishEditing(t,e,i):i&&i(!1)},this.closeEditorAndSaveChanges=function(t){return this.closeEditor(!1,t)},this.closeEditorAndRestoreOriginalValue=function(t){return this.closeEditor(!0,t)},c()}}(r),function(t){var e={};t.renderers={registerRenderer:function(t,i){e[t]=i},getRenderer:function(t){if("function"==typeof t)return t;if("string"!=typeof t)throw Error('Only strings and functions can be passed as "renderer" parameter ');if(!(t in e))throw Error('No editor registered under name "'+t+'"');return e[t]}}}(r),r.Dom=new _,r.helper.isPrintableChar=function(t){return 32==t||t>=48&&57>=t||t>=96&&111>=t||t>=186&&192>=t||t>=219&&222>=t||t>=226||t>=65&&90>=t},r.helper.isMetaKey=function(t){var e=r.helper.keyCode,i=[e.ARROW_DOWN,e.ARROW_UP,e.ARROW_LEFT,e.ARROW_RIGHT,e.HOME,e.END,e.DELETE,e.BACKSPACE,e.F1,e.F2,e.F3,e.F4,e.F5,e.F6,e.F7,e.F8,e.F9,e.F10,e.F11,e.F12,e.TAB,e.PAGE_DOWN,e.PAGE_UP,e.ENTER,e.ESCAPE,e.SHIFT,e.CAPS_LOCK,e.ALT];return-1!=i.indexOf(t)},r.helper.isCtrlKey=function(t){var e=r.helper.keyCode;return-1!=[e.CONTROL_LEFT,224,e.COMMAND_LEFT,e.COMMAND_RIGHT].indexOf(t)},r.helper.stringify=function(t){switch(typeof t){case"string":case"number":return t+"";case"object":return null===t?"":t.toString();case"undefined":return"";default:return t.toString()}},r.helper.spreadsheetColumnLabel=function(t){for(var e,i=t+1,n="";i>0;)e=(i-1)%26,n=String.fromCharCode(65+e)+n,i=parseInt((i-e)/26,10);return n},r.helper.isNumeric=function(t){var e=typeof t;return"number"==e?!isNaN(t)&&isFinite(t):"string"==e?t.length?1==t.length?/\d/.test(t):/^\s*[+-]?\s*(?:(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?)|(?:0x[a-f\d]+))\s*$/i.test(t):!1:"object"==e?!(!t||"number"!=typeof t.valueOf()||t instanceof Date):!1},r.helper.isArray=function(t){return null!==Object.prototype.toString.call(t).match(/array/i)},r.helper.isDescendant=function(t,e){for(var i=e.parentNode;null!=i;){if(i==t)return!0;i=i.parentNode}return!1},r.helper.randomString=function(){return x()},r.helper.inherit=function(t,e){return e.prototype.constructor=e,t.prototype=new e,t.prototype.constructor=t,t},r.helper.extend=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},r.helper.getPrototypeOf=function(t){var e;if("object"==typeof t.__proto__)e=t.__proto__;else{var i,n=t.constructor;"function"==typeof t.constructor&&(i=n,delete t.constructor&&(n=t.constructor,t.constructor=i)),e=n?n.prototype:null}return e},r.helper.columnFactory=function(t,e){function i(){}r.helper.inherit(i,t);for(var n=0,o=e.length;o>n;n++)i.prototype[e[n]]=void 0;return i},r.helper.translateRowsToColumns=function(t){var e,i,n,r,o=[],s=0;for(e=0,i=t.length;i>e;e++)for(n=0,r=t[e].length;r>n;n++)n==s&&(o.push([]),s++),o[n].push(t[e][n]);return o},r.helper.to2dArray=function(t){for(var e=0,i=t.length;i>e;)t[e]=[t[e]],e++},r.helper.extendArray=function(t,e){for(var i=0,n=e.length;n>i;)t.push(e[i]),i++},r.helper.isInput=function(t){var e=["INPUT","SELECT","TEXTAREA"];return e.indexOf(t.nodeName)>-1},r.helper.isOutsideInput=function(t){return r.helper.isInput(t)&&-1==t.className.indexOf("handsontableInput")},r.helper.keyCode={MOUSE_LEFT:1,MOUSE_RIGHT:3,MOUSE_MIDDLE:2,BACKSPACE:8,COMMA:188,DELETE:46,END:35,ENTER:13,ESCAPE:27,CONTROL_LEFT:91,COMMAND_LEFT:17,COMMAND_RIGHT:93,ALT:18,HOME:36,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,SPACE:32,SHIFT:16,CAPS_LOCK:20,TAB:9,ARROW_RIGHT:39,ARROW_LEFT:37,ARROW_UP:38,ARROW_DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,A:65,X:88,C:67,V:86},r.helper.isObject=function(t){return"[object Object]"==Object.prototype.toString.call(t)},r.helper.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"==Object.prototype.toString.call(t)},r.helper.pivot=function(t){var e=[];if(!t||0==t.length||!t[0]||0==t[0].length)return e;for(var i=t.length,n=t[0].length,r=0;i>r;r++)for(var o=0;n>o;o++)e[o]||(e[o]=[]),e[o][r]=t[r][o];return e},r.helper.proxy=function(t,e){return function(){return t.apply(e,arguments)}},r.helper.cellMethodLookupFactory=function(t,e){function i(t){var e=r.cellTypes[t];if("undefined"==typeof e)throw new Error('You declared cell type "'+t+'" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');return e}return e="undefined"==typeof e?!0:e,function(n,o){return function s(n){if(n){if(n.hasOwnProperty(t)&&n[t])return n[t];if(n.hasOwnProperty("type")&&n.type){var o;if("string"!=typeof n.type)throw new Error("Cell type must be a string ");if(o=i(n.type),o.hasOwnProperty(t))return o[t];if(e)return}return s(r.helper.getPrototypeOf(n))}}("number"==typeof n?this.getCellMeta(n,o):n)}},r.SelectionPoint=function(){this._row=null,this._col=null},r.SelectionPoint.prototype.exists=function(){return null!==this._row},r.SelectionPoint.prototype.row=function(t){return void 0!==t&&(this._row=t),this._row},r.SelectionPoint.prototype.col=function(t){return void 0!==t&&(this._col=t),this._col},r.SelectionPoint.prototype.coords=function(t){return void 0!==t&&(this._row=t.row,this._col=t.col),{row:this._row,col:this._col}},r.SelectionPoint.prototype.arr=function(t){return void 0!==t&&(this._row=t[0],this._col=t[1]),[this._row,this._col]},function(e){e.DataMap=function(t,e,i){this.instance=t,this.priv=e,this.GridSettings=i,this.dataSource=this.instance.getSettings().data,this.dataSource[0]?this.duckSchema=this.recursiveDuckSchema(this.dataSource[0]):this.duckSchema={},this.createMap(),this.getVars={},this.setVars={}},e.DataMap.prototype.DESTINATION_RENDERER=1,e.DataMap.prototype.DESTINATION_CLIPBOARD_GENERATOR=2,e.DataMap.prototype.recursiveDuckSchema=function(e){var i;if(t.isPlainObject(e)){i={};for(var n in e)e.hasOwnProperty(n)&&(t.isPlainObject(e[n])?i[n]=this.recursiveDuckSchema(e[n]):i[n]=null)}else i=[];return i},e.DataMap.prototype.recursiveDuckColumns=function(e,i,n){var r,o;if("undefined"==typeof i&&(i=0,n=""),t.isPlainObject(e))for(o in e)e.hasOwnProperty(o)&&(null===e[o]?(r=n+o,this.colToPropCache.push(r),this.propToColCache[r]=i,i++):i=this.recursiveDuckColumns(e[o],i,o+"."));return i},e.DataMap.prototype.createMap=function(){if("undefined"==typeof this.getSchema())throw new Error("trying to create `columns` definition but you didnt' provide `schema` nor `data`");var t,e,i=this.getSchema();this.colToPropCache=[],this.propToColCache={};var n=this.instance.getSettings().columns;if(n)for(t=0,e=n.length;e>t;t++)this.colToPropCache[t]=n[t].data,this.propToColCache[n[t].data]=t;else this.recursiveDuckColumns(i)},e.DataMap.prototype.colToProp=function(t){return t=e.PluginHooks.execute(this.instance,"modifyCol",t),this.colToPropCache&&"undefined"!=typeof this.colToPropCache[t]?this.colToPropCache[t]:t},e.DataMap.prototype.propToCol=function(t){var i;return i="undefined"!=typeof this.propToColCache[t]?this.propToColCache[t]:t,i=e.PluginHooks.execute(this.instance,"modifyCol",i)},e.DataMap.prototype.getSchema=function(){var t=this.instance.getSettings().dataSchema;return t?"function"==typeof t?t():t:this.duckSchema},e.DataMap.prototype.createRow=function(e,i,n){var r,o,s=this.instance.countCols(),a=0;i||(i=1),("number"!=typeof e||e>=this.instance.countRows())&&(e=this.instance.countRows()),o=e;for(var l=this.instance.getSettings().maxRows;i>a&&this.instance.countRows()<l;){if("array"===this.instance.dataType){r=[];for(var c=0;s>c;c++)r.push(null)}else r="function"===this.instance.dataType?this.instance.getSettings().dataSchema(e):t.extend(!0,{},this.getSchema());e===this.instance.countRows()?this.dataSource.push(r):this.dataSource.splice(e,0,r),a++,o++}return this.instance.PluginHooks.run("afterCreateRow",e,a,n),this.instance.forceFullRender=!0,a},e.DataMap.prototype.createCol=function(t,i,n){if("object"===this.instance.dataType||this.instance.getSettings().columns)throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");var r,o,s=this.instance.countRows(),a=this.dataSource,l=0;i||(i=1),o=t;for(var c=this.instance.getSettings().maxCols;i>l&&this.instance.countCols()<c;){if(r=e.helper.columnFactory(this.GridSettings,this.priv.columnsSettingConflicts),"number"!=typeof t||t>=this.instance.countCols()){for(var h=0;s>h;h++)"undefined"==typeof a[h]&&(a[h]=[]),a[h].push(null);this.priv.columnSettings.push(r)}else{for(var h=0;s>h;h++)a[h].splice(o,0,null);this.priv.columnSettings.splice(o,0,r)}l++,o++}return this.instance.PluginHooks.run("afterCreateCol",t,l,n),this.instance.forceFullRender=!0,l},e.DataMap.prototype.removeRow=function(t,e){e||(e=1),"number"!=typeof t&&(t=-e),t=(this.instance.countRows()+t)%this.instance.countRows();var i=this.physicalRowsToLogical(t,e),n=this.instance.PluginHooks.execute("beforeRemoveRow",t,e);if(n!==!1){var r=this.dataSource,o=r.filter(function(t,e){return-1==i.indexOf(e)});r.length=0,Array.prototype.push.apply(r,o),this.instance.PluginHooks.run("afterRemoveRow",t,e),this.instance.forceFullRender=!0}},e.DataMap.prototype.removeCol=function(t,e){if("object"===this.instance.dataType||this.instance.getSettings().columns)throw new Error("cannot remove column with object data source or columns option specified");e||(e=1),"number"!=typeof t&&(t=-e),t=(this.instance.countCols()+t)%this.instance.countCols();var i=this.instance.PluginHooks.execute("beforeRemoveCol",t,e);if(i!==!1){for(var n=this.dataSource,r=0,o=this.instance.countRows();o>r;r++)n[r].splice(t,e);this.priv.columnSettings.splice(t,e),this.instance.PluginHooks.run("afterRemoveCol",t,e),this.instance.forceFullRender=!0}},e.DataMap.prototype.spliceCol=function(t,i,n){var r=4<=arguments.length?[].slice.call(arguments,3):[],o=this.instance.getDataAtCol(t),s=o.slice(i,i+n),a=o.slice(i+n);e.helper.extendArray(r,a);for(var l=0;n>l;)r.push(null),l++;return e.helper.to2dArray(r),this.instance.populateFromArray(i,t,r,null,null,"spliceCol"),s},e.DataMap.prototype.spliceRow=function(t,i,n){var r=4<=arguments.length?[].slice.call(arguments,3):[],o=this.instance.getDataAtRow(t),s=o.slice(i,i+n),a=o.slice(i+n);e.helper.extendArray(r,a);for(var l=0;n>l;)r.push(null),l++;return this.instance.populateFromArray(t,i,[r],null,null,"spliceRow"),s},e.DataMap.prototype.get=function(t,e){if(this.getVars.row=t,this.getVars.prop=e,this.instance.PluginHooks.run("beforeGet",this.getVars),"string"==typeof this.getVars.prop&&this.getVars.prop.indexOf(".")>-1){var i=this.getVars.prop.split("."),n=this.dataSource[this.getVars.row];if(!n)return null;for(var r=0,o=i.length;o>r;r++)if(n=n[i[r]],"undefined"==typeof n)return null;return n}return"function"==typeof this.getVars.prop?this.getVars.prop(this.dataSource.slice(this.getVars.row,this.getVars.row+1)[0]):this.dataSource[this.getVars.row]?this.dataSource[this.getVars.row][this.getVars.prop]:null};var i=e.helper.cellMethodLookupFactory("copyable",!1);e.DataMap.prototype.getCopyable=function(t,e){return i.call(this.instance,t,this.propToCol(e))?this.get(t,e):""},e.DataMap.prototype.set=function(t,e,i,n){if(this.setVars.row=t,this.setVars.prop=e,this.setVars.value=i,this.instance.PluginHooks.run("beforeSet",this.setVars,n||"datamapGet"),"string"==typeof this.setVars.prop&&this.setVars.prop.indexOf(".")>-1){for(var r=this.setVars.prop.split("."),o=this.dataSource[this.setVars.row],s=0,a=r.length-1;a>s;s++)o=o[r[s]];o[r[s]]=this.setVars.value}else"function"==typeof this.setVars.prop?this.setVars.prop(this.dataSource.slice(this.setVars.row,this.setVars.row+1)[0],this.setVars.value):this.dataSource[this.setVars.row][this.setVars.prop]=this.setVars.value},e.DataMap.prototype.physicalRowsToLogical=function(t,e){for(var i=this.instance.countRows(),n=(i+t)%i,r=[],o=e;i>n&&o;)this.get(n,0),r.push(this.getVars.row),o--,n++;return r},e.DataMap.prototype.clear=function(){for(var t=0;t<this.instance.countRows();t++)for(var e=0;e<this.instance.countCols();e++)this.set(t,this.colToProp(e),"")},e.DataMap.prototype.getAll=function(){return this.dataSource},e.DataMap.prototype.getRange=function(t,e,i){var n,r,o,s,a,l=[],c=i===this.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get;for(r=Math.max(t.row,e.row),s=Math.max(t.col,e.col),n=Math.min(t.row,e.row);r>=n;n++){for(a=[],o=Math.min(t.col,e.col);s>=o;o++)a.push(c.call(this,n,this.colToProp(o)));l.push(a)}return l},e.DataMap.prototype.getText=function(t,e){return SheetClip.stringify(this.getRange(t,e,this.DESTINATION_RENDERER))},e.DataMap.prototype.getCopyableText=function(t,e){return SheetClip.stringify(this.getRange(t,e,this.DESTINATION_CLIPBOARD_GENERATOR))}}(r),function(t){t.renderers.cellDecorator=function(t,e,i,n,r,o,s){s.readOnly&&t.view.wt.wtDom.addClass(e,s.readOnlyCellClassName),s.valid===!1&&s.invalidCellClassName&&t.view.wt.wtDom.addClass(e,s.invalidCellClassName),!o&&s.placeholder&&t.view.wt.wtDom.addClass(e,s.placeholderCellClassName)}}(r),function(t){var e=function(e,i,n,r,o,s,a){t.renderers.cellDecorator.apply(this,arguments),!s&&a.placeholder&&(s=a.placeholder);var l=t.helper.stringify(s);if(a.rendererTemplate){e.view.wt.wtDom.empty(i);var c=document.createElement("TEMPLATE");c.setAttribute("bind","{{}}"),c.innerHTML=a.rendererTemplate,HTMLTemplateElement.decorate(c),c.model=e.getDataAtRow(n),i.appendChild(c)}else e.view.wt.wtDom.fastInnerText(i,l)};t.renderers.TextRenderer=e,t.renderers.registerRenderer("text",e)}(r),function(t){var e=document.createElement("DIV");e.className="htAutocompleteWrapper";var i=document.createElement("DIV");i.className="htAutocompleteArrow",i.appendChild(document.createTextNode(""));var n=function(n,r,o,s,a,l,c){var h=(e.cloneNode(!0),i.cloneNode(!0));t.renderers.TextRenderer(n,r,o,s,a,l,c),r.appendChild(h),t.Dom.addClass(r,"htAutocomplete"),r.firstChild||r.appendChild(document.createTextNode("")),n.acArrowListener||(n.acArrowListener=function(){n.view.wt.getSetting("onCellDblClick")},n.rootElement.on("mousedown",".htAutocompleteArrow",n.acArrowListener))};t.AutocompleteRenderer=n,t.renderers.AutocompleteRenderer=n,t.renderers.registerRenderer("autocomplete",n)}(r),function(e){var i=document.createElement("INPUT");i.className="htCheckboxRendererInput",i.type="checkbox",i.setAttribute("autocomplete","off");var n=function(n,r,o,s,a,l,c){"undefined"==typeof c.checkedTemplate&&(c.checkedTemplate=!0),"undefined"==typeof c.uncheckedTemplate&&(c.uncheckedTemplate=!1),n.view.wt.wtDom.empty(r);var h=i.cloneNode(!1);l===c.checkedTemplate||l===e.helper.stringify(c.checkedTemplate)?(h.checked=!0,r.appendChild(h)):l===c.uncheckedTemplate||l===e.helper.stringify(c.uncheckedTemplate)?r.appendChild(h):null===l?(h.className+=" noValue",r.appendChild(h)):n.view.wt.wtDom.fastInnerText(r,"#bad value#");var u=t(h);c.readOnly?u.on("click",function(t){t.preventDefault()}):(u.on("mousedown",function(t){t.stopPropagation()}),u.on("mouseup",function(t){t.stopPropagation()}),u.on("change",function(){this.checked?n.setDataAtRowProp(o,a,c.checkedTemplate):n.setDataAtRowProp(o,a,c.uncheckedTemplate)})),n.CheckboxRenderer&&n.CheckboxRenderer.beforeKeyDownHookBound||(n.CheckboxRenderer={beforeKeyDownHookBound:!0},n.addHook("beforeKeyDown",function(i){if(i.keyCode==e.helper.keyCode.SPACE)for(var r,o,s,a=n.getSelected(),l={row:Math.min(a[0],a[2]),col:Math.min(a[1],a[3])},c={row:Math.max(a[0],a[2]),col:Math.max(a[1],a[3])},h=l.row;h<=c.row;h++)for(var u=c.col;u<=c.col;u++)if(r=n.getCell(h,u),s=n.getCellMeta(h,u),o=r.querySelectorAll("input[type=checkbox]"),o.length>0&&!s.readOnly){i.isImmediatePropagationStopped()||(i.stopImmediatePropagation(),i.preventDefault());for(var d=0,f=o.length;f>d;d++)o[d].checked=!o[d].checked,t(o[d]).trigger("change")}}))};e.CheckboxRenderer=n,e.renderers.CheckboxRenderer=n,e.renderers.registerRenderer("checkbox",n)}(r),function(t){var e=function(e,i,n,r,o,s,a){t.helper.isNumeric(s)&&("undefined"!=typeof a.language&&numeral.language(a.language),s=numeral(s).format(a.format||"0"),e.view.wt.wtDom.addClass(i,"htNumeric")),t.renderers.TextRenderer(e,i,n,r,o,s,a)};t.NumericRenderer=e,t.renderers.NumericRenderer=e,t.renderers.registerRenderer("numeric",e)}(r),function(t){var e=function(t,e,i,n,o,s,a){r.renderers.TextRenderer.apply(this,arguments),s=e.innerHTML;var l,c=a.hashLength||s.length,h=a.hashSymbol||"*";for(l="";l.split(h).length-1<c;l+=h);t.view.wt.wtDom.fastInnerHTML(e,l)};t.PasswordRenderer=e,t.renderers.PasswordRenderer=e,t.renderers.registerRenderer("password",e)}(r),function(t){function e(e,i,n,r,o,s,a){t.renderers.cellDecorator.apply(this,arguments),t.Dom.fastInnerHTML(i,s)}t.renderers.registerRenderer("html",e),t.renderers.HtmlRenderer=e}(r),function(t){function e(e){this.instance=e,this.state=t.EditorState.VIRGIN,this._opened=!1,this._closeCallback=null,this.init()}t.EditorState={VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"},e.prototype._fireCallbacks=function(t){this._closeCallback&&(this._closeCallback(t),this._closeCallback=null)},e.prototype.init=function(){},e.prototype.getValue=function(){throw Error("Editor getValue() method unimplemented")},e.prototype.setValue=function(t){throw Error("Editor setValue() method unimplemented")},e.prototype.open=function(){throw Error("Editor open() method unimplemented")},e.prototype.close=function(){throw Error("Editor close() method unimplemented")},e.prototype.prepare=function(e,i,n,r,o,s){this.TD=r,this.row=e,this.col=i,this.prop=n,this.originalValue=o,this.cellProperties=s,this.state=t.EditorState.VIRGIN},e.prototype.extend=function(){function t(){i.apply(this,arguments)}function e(t,e){function i(){}return i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t}var i=this.constructor;return e(t,i)},e.prototype.saveValue=function(t,e){if(e){var i=this.instance.getSelected();this.instance.populateFromArray(i[0],i[1],t,i[2],i[3],"edit")}else this.instance.populateFromArray(this.row,this.col,t,null,null,"edit")},e.prototype.beginEditing=function(e){this.state==t.EditorState.VIRGIN&&(this.cellProperties.readOnly||(this.instance.view.scrollViewport({row:this.row,col:this.col}),this.instance.view.render(),this.state=t.EditorState.EDITING,e="string"==typeof e?e:this.originalValue,this.setValue(t.helper.stringify(e)),this.open(),this._opened=!0,this.focus(),this.instance.view.render()))},e.prototype.finishEditing=function(e,i,n){if(n){var r=this._closeCallback;this._closeCallback=function(t){r&&r(t),n(t)}}if(!this.isWaiting()){if(this.state==t.EditorState.VIRGIN){var o=this;return void setTimeout(function(){o._fireCallbacks(!0)})}if(this.state==t.EditorState.EDITING){if(e)return void this.cancelChanges();var s=[[String.prototype.trim.call(this.getValue())]];if(this.state=t.EditorState.WAITING,this.saveValue(s,i),this.instance.getCellValidator(this.cellProperties)){var o=this;this.instance.addHookOnce("afterValidate",function(e){o.state=t.EditorState.FINISHED,o.discardEditor(e)})}else this.state=t.EditorState.FINISHED,this.discardEditor(!0)}}},e.prototype.cancelChanges=function(){this.state=t.EditorState.FINISHED,this.discardEditor()},e.prototype.discardEditor=function(e){this.state===t.EditorState.FINISHED&&(e===!1&&this.cellProperties.allowInvalid!==!0?(this.instance.selectCell(this.row,this.col),this.focus(),this.state=t.EditorState.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this.state=t.EditorState.VIRGIN,this._fireCallbacks(!0)))},e.prototype.isOpened=function(){return this._opened},e.prototype.isWaiting=function(){return this.state===t.EditorState.WAITING},t.editors.BaseEditor=e}(r),function(e){var i=e.editors.BaseEditor.prototype.extend();i.prototype.init=function(){this.createElements(),this.bindEvents()},i.prototype.getValue=function(){return this.TEXTAREA.value},i.prototype.setValue=function(t){this.TEXTAREA.value=t};var n=function(t){var i=this,n=i.getActiveEditor(),r=e.helper.keyCode,o=(t.ctrlKey||t.metaKey)&&!t.altKey;if(t.target===n.TEXTAREA&&!t.isImmediatePropagationStopped()){if(17===t.keyCode||224===t.keyCode||91===t.keyCode||93===t.keyCode)return void t.stopImmediatePropagation();switch(t.keyCode){case r.ARROW_RIGHT:n.wtDom.getCaretPosition(n.TEXTAREA)!==n.TEXTAREA.value.length&&t.stopImmediatePropagation();break;case r.ARROW_LEFT:0!==n.wtDom.getCaretPosition(n.TEXTAREA)&&t.stopImmediatePropagation();break;case r.ENTER:var s=n.instance.getSelected(),a=!(s[0]===s[2]&&s[1]===s[3]);(o&&!a||t.altKey)&&(n.isOpened()?(n.setValue(n.getValue()+"\n"),n.focus()):n.beginEditing(n.originalValue+"\n"),t.stopImmediatePropagation()),t.preventDefault();break;case r.A:case r.X:case r.C:case r.V:if(o){t.stopImmediatePropagation();break}case r.BACKSPACE:case r.DELETE:case r.HOME:case r.END:t.stopImmediatePropagation()}}};i.prototype.open=function(){this.refreshDimensions(),this.instance.addHook("beforeKeyDown",n)},i.prototype.close=function(){this.textareaParentStyle.display="none",document.activeElement===this.TEXTAREA&&this.instance.listen(),this.instance.removeHook("beforeKeyDown",n)},i.prototype.focus=function(){this.TEXTAREA.focus(),this.wtDom.setCaretPosition(this.TEXTAREA,this.TEXTAREA.value.length)},i.prototype.createElements=function(){this.$body=t(document.body),this.wtDom=new _,this.TEXTAREA=document.createElement("TEXTAREA"),this.$textarea=t(this.TEXTAREA),this.wtDom.addClass(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.TEXTAREA_PARENT=document.createElement("DIV"),this.wtDom.addClass(this.TEXTAREA_PARENT,"handsontableInputHolder"),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.textareaParentStyle.top=0,this.textareaParentStyle.left=0,this.textareaParentStyle.display="none",this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.instance.rootElement[0].appendChild(this.TEXTAREA_PARENT);var i=this;e.PluginHooks.add("afterRender",function(){i.instance.registerTimeout("refresh_editor_dimensions",function(){i.refreshDimensions()},0)})},i.prototype.refreshDimensions=function(){if(this.state===e.EditorState.EDITING&&(this.TD=this.instance.getCell(this.row,this.col),this.TD)){var i=t(this.TD),n=this.wtDom.offset(this.TD),r=this.wtDom.offset(this.instance.rootElement[0]),o=this.instance.rootElement.scrollTop(),s=this.instance.rootElement.scrollLeft(),a=n.top-r.top+o-1,l=n.left-r.left+s-1,c=this.instance.getSettings(),h=c.rowHeaders===!1?0:1,u=c.colHeaders===!1?0:1;0>a&&(a=0),0>l&&(l=0),h>0&&parseInt(i.css("border-top-width"),10)>0&&(a+=1),u>0&&parseInt(i.css("border-left-width"),10)>0&&(l+=1),this.textareaParentStyle.top=a+"px",this.textareaParentStyle.left=l+"px";var d=i.width(),f=this.instance.view.maximumVisibleElementWidth(l)-10,p=i.outerHeight()-4,g=this.instance.view.maximumVisibleElementHeight(a)-5;parseInt(i.css("border-top-width"),10)>0&&(p-=1),parseInt(i.css("border-left-width"),10)>0&&h>0&&(d-=1),this.$textarea.autoResize({minHeight:Math.min(p,g),maxHeight:g,minWidth:Math.min(d,f),maxWidth:f,animate:!1,extraSpace:0}),this.textareaParentStyle.display="block"}},i.prototype.bindEvents=function(){this.$textarea.on("cut.editor",function(t){t.stopPropagation()}),this.$textarea.on("paste.editor",function(t){t.stopPropagation()})},e.editors.TextEditor=i,e.editors.registerEditor("text",e.editors.TextEditor)}(r),function(t){var e=t.editors.BaseEditor.prototype.extend();e.prototype.beginEditing=function(){this.saveValue([[!this.originalValue]])},e.prototype.finishEditing=function(){},e.prototype.init=function(){},e.prototype.open=function(){},e.prototype.close=function(){},e.prototype.getValue=function(){},e.prototype.setValue=function(){},e.prototype.focus=function(){},t.editors.CheckboxEditor=e,t.editors.registerEditor("checkbox",e)}(r),function(e){var i=e.editors.TextEditor.prototype.extend();i.prototype.init=function(){if(!t.datepicker)throw new Error("jQuery UI Datepicker dependency not found. Did you forget to include jquery-ui.custom.js or its substitute?");e.editors.TextEditor.prototype.init.apply(this,arguments),this.isCellEdited=!1;var i=this;this.instance.addHook("afterDestroy",function(){i.destroyElements()})},i.prototype.createElements=function(){e.editors.TextEditor.prototype.createElements.apply(this,arguments),this.datePicker=document.createElement("DIV"),this.instance.view.wt.wtDom.addClass(this.datePicker,"htDatepickerHolder"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=99,document.body.appendChild(this.datePicker),this.$datePicker=t(this.datePicker);var i=this,n={dateFormat:"yy-mm-dd",showButtonPanel:!0,changeMonth:!0,changeYear:!0,onSelect:function(t){i.setValue(t),i.finishEditing(!1)}};this.$datePicker.datepicker(n),this.$datePicker.on("mousedown",function(t){t.stopPropagation()}),this.hideDatepicker()},i.prototype.destroyElements=function(){this.$datePicker.datepicker("destroy"),this.$datePicker.remove()},i.prototype.beginEditing=function(t,i,n,r,o){e.editors.TextEditor.prototype.beginEditing.apply(this,arguments),this.showDatepicker()},i.prototype.finishEditing=function(t,i){this.hideDatepicker(),e.editors.TextEditor.prototype.finishEditing.apply(this,arguments)},i.prototype.showDatepicker=function(){var e=t(this.TD),i=e.offset();this.datePickerStyle.top=i.top+e.height()+"px",this.datePickerStyle.left=i.left+"px";var n={defaultDate:this.originalValue||void 0};t.extend(n,this.cellProperties),this.$datePicker.datepicker("option",n),this.originalValue&&this.$datePicker.datepicker("setDate",this.originalValue),this.datePickerStyle.display="block"},i.prototype.hideDatepicker=function(){this.datePickerStyle.display="none"},e.editors.DateEditor=i,e.editors.registerEditor("date",i)}(r),function(e){var i=e.editors.TextEditor.prototype.extend();i.prototype.createElements=function(){e.editors.TextEditor.prototype.createElements.apply(this,arguments);var i=document.createElement("DIV");i.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(i),this.$htContainer=t(i),this.$htContainer.handsontable()},i.prototype.prepare=function(i,n,r,o,s,a){e.editors.TextEditor.prototype.prepare.apply(this,arguments);var l=this,c={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,cells:function(){return{readOnly:!0}},fillHandle:!1,afterOnCellMouseDown:function(){var t=this.getValue();void 0!==t&&l.setValue(t),l.instance.destroyEditor()},beforeOnKeyDown:function(t){var i=this;switch(t.keyCode){case e.helper.keyCode.ESCAPE:l.instance.destroyEditor(!0),t.stopImmediatePropagation(),t.preventDefault();break;case e.helper.keyCode.ENTER:var n=i.getSelected(),r=this.getDataAtCell(n[0],n[1]);void 0!==r&&l.setValue(r),l.instance.destroyEditor();break;case e.helper.keyCode.ARROW_UP:i.getSelected()&&0==i.getSelected()[0]&&!l.cellProperties.strict&&(i.deselectCell(),l.instance.listen(),l.focus(),t.preventDefault(),t.stopImmediatePropagation())}}};this.cellProperties.handsontable&&(c=t.extend(c,a.handsontable)),this.$htContainer.handsontable("destroy"),this.$htContainer.handsontable(c)};var n=function(t){if(!t.isImmediatePropagationStopped()){var i=this.getActiveEditor(),n=i.$htContainer.handsontable("getInstance");if(t.keyCode==e.helper.keyCode.ARROW_DOWN){if(n.getSelected()){var r=n.getSelected()[0],o=r<n.countRows()-1?r+1:r;n.selectCell(o,0)}else n.selectCell(0,0);t.preventDefault(),t.stopImmediatePropagation()}}};i.prototype.open=function(){this.instance.addHook("beforeKeyDown",n),e.editors.TextEditor.prototype.open.apply(this,arguments),this.$htContainer.handsontable("render"),this.cellProperties.strict?(this.$htContainer.handsontable("selectCell",0,0),this.$textarea[0].style.visibility="hidden"):(this.$htContainer.handsontable("deselectCell"),this.$textarea[0].style.visibility="visible"),this.wtDom.setCaretPosition(this.$textarea[0],0,this.$textarea[0].value.length)},i.prototype.close=function(){this.instance.removeHook("beforeKeyDown",n),this.instance.listen(),e.editors.TextEditor.prototype.close.apply(this,arguments)},i.prototype.focus=function(){this.instance.listen(),e.editors.TextEditor.prototype.focus.apply(this,arguments)},i.prototype.beginEditing=function(t){var i=this.instance.getSettings().onBeginEditing;i&&i()===!1||e.editors.TextEditor.prototype.beginEditing.apply(this,arguments)},i.prototype.finishEditing=function(t,i){if(this.$htContainer.handsontable("isListening")&&this.instance.listen(),this.$htContainer.handsontable("getSelected")){var n=this.$htContainer.handsontable("getInstance").getValue();void 0!==n&&this.setValue(n)}return e.editors.TextEditor.prototype.finishEditing.apply(this,arguments)},e.editors.HandsontableEditor=i,e.editors.registerEditor("handsontable",i)}(r),function(t){function e(t,e){for(var i,n,r,o={},s=e.length,a=0,l=t.length;l>a;a++)i=t[a],n=s>0?i.indexOf(e):i===e?0:-1,-1!=n&&(r=i.length-n-s,("undefined"==typeof o.indexOfValue||o.indexOfValue>n||o.indexOfValue==n&&o.charsLeft>r)&&(o.indexOfValue=n,o.charsLeft=r,o.index=a));return o.index}var i=t.editors.HandsontableEditor.prototype.extend();i.prototype.init=function(){t.editors.HandsontableEditor.prototype.init.apply(this,arguments),this.query=null},i.prototype.createElements=function(){t.editors.HandsontableEditor.prototype.createElements.apply(this,arguments),this.$htContainer.addClass("autocompleteEditor")},i.prototype.bindEvents=function(){var e=this;this.$textarea.on("keydown.autocompleteEditor",function(i){t.helper.isMetaKey(i.keyCode)&&-1==[t.helper.keyCode.BACKSPACE,t.helper.keyCode.DELETE].indexOf(i.keyCode)?i.keyCode==t.helper.keyCode.ENTER&&e.cellProperties.strict!==!0&&e.$htContainer.handsontable("deselectCell"):setTimeout(function(){e.queryChoices(e.$textarea.val())})}),this.$htContainer.on("mouseenter",function(){e.$htContainer.handsontable("deselectCell")}),this.$htContainer.on("mouseleave",function(){e.queryChoices(e.query)}),t.editors.HandsontableEditor.prototype.bindEvents.apply(this,arguments)},i.prototype.beginEditing=function(){t.editors.HandsontableEditor.prototype.beginEditing.apply(this,arguments);var e=this;setTimeout(function(){e.queryChoices(e.TEXTAREA.value)});var i=this.$htContainer.handsontable("getInstance");i.updateSettings({colWidths:[this.wtDom.outerWidth(this.TEXTAREA)-2],afterRenderer:function(t,i,n,r,o){var s=this.getCellMeta(i,n).filteringCaseSensitive===!0,a=s?o.indexOf(e.query):o.toLowerCase().indexOf(e.query.toLowerCase());if(-1!=a){var l=o.substr(a,e.query.length);t.innerHTML=o.replace(l,"<strong>"+l+"</strong>")}}})};var n;i.prototype.open=function(){var e=this;n=function(i){var n=this;i.keyCode==t.helper.keyCode.ARROW_UP&&n.getSelected()&&0==n.getSelected()[0]&&(e.cellProperties.strict||n.deselectCell(),e.instance.listen(),e.focus(),i.preventDefault(),i.stopImmediatePropagation())},this.$htContainer.handsontable("getInstance").addHook("beforeKeyDown",n),
t.editors.HandsontableEditor.prototype.open.apply(this,arguments),this.$textarea[0].style.visibility="visible",e.focus()},i.prototype.close=function(){this.$htContainer.handsontable("getInstance").removeHook("beforeKeyDown",n),t.editors.HandsontableEditor.prototype.close.apply(this,arguments)},i.prototype.queryChoices=function(e){if(this.query=e,"function"==typeof this.cellProperties.source){var i=this;this.cellProperties.source(e,function(t){i.updateChoicesList(t)})}else if(t.helper.isArray(this.cellProperties.source)){var n;if(e&&this.cellProperties.filter!==!1){var r=this.cellProperties.filteringCaseSensitive===!0,o=e.toLowerCase();n=this.cellProperties.source.filter(function(t){return r?-1!=t.indexOf(e):-1!=t.toLowerCase().indexOf(o)})}else n=this.cellProperties.source;this.updateChoicesList(n)}else this.updateChoicesList([])},i.prototype.updateChoicesList=function(i){this.$htContainer.handsontable("loadData",t.helper.pivot([i]));var n,r=this.getValue();this.cellProperties.strict===!0&&(n=e(i,r),"undefined"==typeof n&&this.cellProperties.allowInvalid===!1&&(n=0)),"undefined"==typeof n?this.$htContainer.handsontable("deselectCell"):this.$htContainer.handsontable("selectCell",n,0),this.focus()},t.editors.AutocompleteEditor=i,t.editors.registerEditor("autocomplete",i)}(r),function(e){var i=e.editors.TextEditor.prototype.extend(),n=new _;i.prototype.createElements=function(){e.editors.TextEditor.prototype.createElements.apply(this,arguments),this.TEXTAREA=document.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.$textarea=t(this.TEXTAREA),n.empty(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)},e.editors.PasswordEditor=i,e.editors.registerEditor("password",i)}(r),function(e){var i=e.editors.BaseEditor.prototype.extend();i.prototype.init=function(){this.select=t("<select />").addClass("htSelectEditor").hide(),this.instance.rootElement.append(this.select)},i.prototype.prepare=function(){e.editors.BaseEditor.prototype.prepare.apply(this,arguments);var i,n=this.cellProperties.selectOptions;i="function"==typeof n?this.prepareOptions(n(this.row,this.col,this.prop)):this.prepareOptions(n);var r=[];for(var o in i)if(i.hasOwnProperty(o)){var s=t("<option />");s.val(o),s.html(i[o]),r.push(s)}this.select.empty(),this.select.append(r)},i.prototype.prepareOptions=function(t){var i={};if(e.helper.isArray(t))for(var n=0,r=t.length;r>n;n++)i[t[n]]=t[n];else"object"==typeof t&&(i=t);return i},i.prototype.getValue=function(){return this.select.val()},i.prototype.setValue=function(t){this.select.val(t)};var n=function(t){var i=this,n=i.getActiveEditor();switch(t.keyCode){case e.helper.keyCode.ARROW_UP:var r=n.select.find("option:selected").prev();1==r.length&&r.prop("selected",!0),t.stopImmediatePropagation(),t.preventDefault();break;case e.helper.keyCode.ARROW_DOWN:var o=n.select.find("option:selected").next();1==o.length&&o.prop("selected",!0),t.stopImmediatePropagation(),t.preventDefault()}};i.prototype.open=function(){this.select.css({height:t(this.TD).height(),"min-width":t(this.TD).outerWidth()}),this.select.show(),this.select.offset(t(this.TD).offset()),this.instance.addHook("beforeKeyDown",n)},i.prototype.close=function(){this.select.hide(),this.instance.removeHook("beforeKeyDown",n)},i.prototype.focus=function(){this.select.focus()},e.editors.SelectEditor=i,e.editors.registerEditor("select",i)}(r),function(t){var e=t.editors.AutocompleteEditor.prototype.extend();e.prototype.prepare=function(){t.editors.AutocompleteEditor.prototype.prepare.apply(this,arguments),this.cellProperties.filter=!1,this.cellProperties.strict=!0},t.editors.DropdownEditor=e,t.editors.registerEditor("dropdown",e)}(r),r.NumericValidator=function(t,e){null===t&&(t=""),e(/^-?\d*\.?\d*$/.test(t))};var L=function(t,e){var i=t,n="string"==typeof i?i.toLowerCase():null;return function(t){for(var r=!1,o=0,s=t.length;s>o;o++){if(i===t[o]){r=!0;break}if(n===t[o].toLowerCase()){r=!0;break}}e(r)}};r.AutocompleteValidator=function(t,e){this.strict&&this.source?"function"==typeof this.source?this.source(t,L(t,e)):L(t,e)(this.source):e(!0)},r.AutocompleteCell={editor:r.editors.AutocompleteEditor,renderer:r.renderers.AutocompleteRenderer,validator:r.AutocompleteValidator},r.CheckboxCell={editor:r.editors.CheckboxEditor,renderer:r.renderers.CheckboxRenderer},r.TextCell={editor:r.editors.TextEditor,renderer:r.renderers.TextRenderer},r.NumericCell={editor:r.editors.TextEditor,renderer:r.renderers.NumericRenderer,validator:r.NumericValidator,dataType:"number"},r.DateCell={editor:r.editors.DateEditor,renderer:r.renderers.AutocompleteRenderer},r.HandsontableCell={editor:r.editors.HandsontableEditor,renderer:r.renderers.AutocompleteRenderer},r.PasswordCell={editor:r.editors.PasswordEditor,renderer:r.renderers.PasswordRenderer,copyable:!1},r.DropdownCell={editor:r.editors.DropdownEditor,renderer:r.renderers.AutocompleteRenderer,validator:r.AutocompleteValidator},r.cellTypes={text:r.TextCell,date:r.DateCell,numeric:r.NumericCell,checkbox:r.CheckboxCell,autocomplete:r.AutocompleteCell,handsontable:r.HandsontableCell,password:r.PasswordCell,dropdown:r.DropdownCell},r.cellLookup={validator:{numeric:r.NumericValidator,autocomplete:r.AutocompleteValidator}},function(t){function e(n){return this.filter(e.resizableFilterSelector).each(function(){new i(t(this),n)}),this}function i(i,n){this.clones||(this.config=t.extend({},e.defaults,n),this.el=i,this.nodeName=i[0].nodeName.toLowerCase(),this.previousScrollTop=null,"original"===n.maxWidth&&(n.maxWidth=i.width()),"original"===n.minWidth&&(n.minWidth=i.width()),"original"===n.maxHeight&&(n.maxHeight=i.height()),"original"===n.minHeight&&(n.minHeight=i.height()),"textarea"===this.nodeName&&i.css({resize:"none",overflowY:"none"}),i.data("AutoResizer",this),this.createClone(),this.injectClone(),this.bind())}e.defaults={onResize:function(){},animate:{duration:200,complete:function(){}},extraSpace:50,minHeight:"original",maxHeight:500,minWidth:"original",maxWidth:500},e.cloneCSSProperties=["lineHeight","textDecoration","letterSpacing","fontSize","fontFamily","fontStyle","fontWeight","textTransform","textAlign","direction","wordSpacing","fontSizeAdjust","padding"],e.cloneCSSValues={position:"absolute",top:-9999,left:-9999,opacity:0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden",border:"1px solid black",padding:"0.49em"},e.resizableFilterSelector="textarea,input:not(input[type]),input[type=text],input[type=password]",e.AutoResizer=i,t.fn.autoResize=e,i.prototype={bind:function(){var e=t.proxy(function(){return this.check(),!0},this);this.unbind(),this.el.bind("keyup.autoResize",e).bind("change.autoResize",e),this.check(null,!0)},unbind:function(){this.el.unbind(".autoResize")},createClone:function(){var i=this.el,n=this,r=this.config;this.clones=t(),"original"===r.minHeight&&"original"===r.maxHeight||(this.hClone=i.clone().height("auto"),this.clones=this.clones.add(this.hClone)),"original"===r.minWidth&&"original"===r.maxWidth||(this.wClone=t("<div/>").width("auto").css({whiteSpace:"nowrap","float":"left"}),this.clones=this.clones.add(this.wClone)),t.each(e.cloneCSSProperties,function(t,e){n.clones.css(e,i.css(e))}),this.clones.removeAttr("name").removeAttr("id").attr("tabIndex",-1).css(e.cloneCSSValues).css("overflowY","scroll")},check:function(t,e){var i=this.config,n=this.wClone,r=this.hClone,o=this.el,s=o.val();if(n){n.text(s);var a=n.outerWidth(),l=a+i.extraSpace>=i.minWidth?a+i.extraSpace:i.minWidth,c=o.width();l=Math.min(l,i.maxWidth),(c>l&&l>=i.minWidth||l>=i.minWidth&&l<=i.maxWidth)&&(i.onResize.call(o),o.scrollLeft(0),i.animate&&!e?o.stop(1,1).animate({width:l},i.animate):o.width(l))}if(r){l&&r.width(l),r.height(0).val(s).scrollTop(1e4);var h=r[0].scrollTop+i.extraSpace;if(this.previousScrollTop===h)return;this.previousScrollTop=h,h>=i.maxHeight&&(h=i.maxHeight),h<i.minHeight&&(h=i.minHeight),h==i.maxHeight&&l==i.maxWidth?o.css("overflowY","scroll"):o.css("overflowY","hidden"),i.onResize.call(o),i.animate&&!e?o.stop(1,1).animate({height:h},i.animate):o.height(h)}},destroy:function(){this.unbind(),this.el.removeData("AutoResizer"),this.clones.remove(),delete this.el,delete this.hClone,delete this.wClone,delete this.clones},injectClone:function(){(e.cloneContainer||(e.cloneContainer=t("<arclones/>").appendTo("body"))).empty().append(this.clones)}}}(jQuery),function(t){function e(t){return t.split('"').length-1}t.SheetClip={parse:function(t){var i,n,r,o,s,a,l,c=[],h=0;for(r=t.split("\n"),r.length>1&&""===r[r.length-1]&&r.pop(),i=0,n=r.length;n>i;i+=1){for(r[i]=r[i].split("	"),o=0,s=r[i].length;s>o;o+=1)c[h]||(c[h]=[]),a&&0===o?(l=c[h].length-1,c[h][l]=c[h][l]+"\n"+r[i][0],a&&1&e(r[i][0])&&(a=!1,c[h][l]=c[h][l].substring(0,c[h][l].length-1).replace(/""/g,'"'))):o===s-1&&0===r[i][o].indexOf('"')?(c[h].push(r[i][o].substring(1).replace(/""/g,'"')),a=!0):(c[h].push(r[i][o].replace(/""/g,'"')),a=!1);a||(h+=1)}return c},stringify:function(t){var e,i,n,r,o,s="";for(e=0,i=t.length;i>e;e+=1){for(n=0,r=t[e].length;r>n;n+=1)n>0&&(s+="	"),o=t[e][n],s+="string"==typeof o?o.indexOf("\n")>-1?'"'+o.replace(/"/g,'""')+'"':o:null===o||void 0===o?"":o;s+="\n"}return s}}}(n);var F=function(){var t;return{getInstance:function(){return t?t.hasBeenDestroyed()&&t.init():t=new o,t.refCounter++,t}}}();o.prototype.init=function(){var t,e,i=this;this.copyCallbacks=[],this.cutCallbacks=[],this.pasteCallbacks=[],this.listenerElement=document.documentElement,e=document.body,document.getElementById("CopyPasteDiv")?(this.elDiv=document.getElementById("CopyPasteDiv"),this.elTextarea=this.elDiv.firstChild):(this.elDiv=document.createElement("DIV"),this.elDiv.id="CopyPasteDiv",t=this.elDiv.style,t.position="fixed",t.top=0,t.left=0,e.appendChild(this.elDiv),this.elTextarea=document.createElement("TEXTAREA"),this.elTextarea.className="copyPaste",t=this.elTextarea.style,t.width="1px",t.height="1px",this.elDiv.appendChild(this.elTextarea),"undefined"!=typeof t.opacity&&(t.opacity=0)),this.keydownListener=function(t){var e=!1;if(t.metaKey?e=!0:t.ctrlKey&&-1===navigator.userAgent.indexOf("Mac")&&(e=!0),e){if(document.activeElement!==i.elTextarea&&(""!=i.getSelectionText()||-1!=["INPUT","SELECT","TEXTAREA"].indexOf(document.activeElement.nodeName)))return;i.selectNodeText(i.elTextarea),setTimeout(function(){i.selectNodeText(i.elTextarea)},0)}!e||67!==t.keyCode&&86!==t.keyCode&&88!==t.keyCode||(88===t.keyCode?setTimeout(function(){i.triggerCut(t)},0):86===t.keyCode&&setTimeout(function(){i.triggerPaste(t)},0))},this._bindEvent(this.listenerElement,"keydown",this.keydownListener)},o.prototype.selectNodeText=function(t){t.select()},o.prototype.getSelectionText=function(){var t="";return n.getSelection?t=n.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(t=document.selection.createRange().text),t},o.prototype.copyable=function(t){if("string"!=typeof t&&void 0===t.toString)throw new Error("copyable requires string parameter");this.elTextarea.value=t},o.prototype.onCut=function(t){this.cutCallbacks.push(t)},o.prototype.onPaste=function(t){this.pasteCallbacks.push(t)},o.prototype.removeCallback=function(t){var e,i;for(e=0,i=this.copyCallbacks.length;i>e;e++)if(this.copyCallbacks[e]===t)return this.copyCallbacks.splice(e,1),!0;for(e=0,i=this.cutCallbacks.length;i>e;e++)if(this.cutCallbacks[e]===t)return this.cutCallbacks.splice(e,1),!0;for(e=0,i=this.pasteCallbacks.length;i>e;e++)if(this.pasteCallbacks[e]===t)return this.pasteCallbacks.splice(e,1),!0;return!1},o.prototype.triggerCut=function(t){var e=this;e.cutCallbacks&&setTimeout(function(){for(var i=0,n=e.cutCallbacks.length;n>i;i++)e.cutCallbacks[i](t)},50)},o.prototype.triggerPaste=function(t,e){var i=this;i.pasteCallbacks&&setTimeout(function(){for(var n=(e||i.elTextarea.value).replace(/\n$/,""),r=0,o=i.pasteCallbacks.length;o>r;r++)i.pasteCallbacks[r](n,t)},50)},o.prototype.destroy=function(){this.hasBeenDestroyed()||0!=--this.refCounter||(this.elDiv&&this.elDiv.parentNode&&this.elDiv.parentNode.removeChild(this.elDiv),this._unbindEvent(this.listenerElement,"keydown",this.keydownListener))},o.prototype.hasBeenDestroyed=function(){return!this.refCounter},o.prototype._bindEvent=function(){return n.jQuery?function(e,i,n){t(e).on(i+".copypaste",n)}:function(t,e,i){t.addEventListener(e,i,!1)}}(),o.prototype._unbindEvent=function(){return n.jQuery?function(e,i,n){t(e).off(i+".copypaste",n)}:function(t,e,i){t.removeEventListener(e,i,!1)}}();var z;!function(t){function e(t){return-1===t.indexOf("/")&&-1===t.indexOf("~")?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function i(t,n){var r;for(var o in t)if(t.hasOwnProperty(o)){if(t[o]===n)return e(o)+"/";if("object"==typeof t[o]&&(r=i(t[o],n),""!=r))return e(o)+"/"+r}return""}function r(t,e){if(t===e)return"/";var n=i(t,e);if(""===n)throw new Error("Object not found in root");return"/"+n}function o(t){for(var e=0,i=y.length;i>e;e++)if(y[e].obj===t)return y[e]}function s(t,e){for(var i=0,n=t.observers.length;n>i;i++)if(t.observers[i].callback===e)return t.observers[i].observer}function a(t,e){for(var i=0,n=t.observers.length;n>i;i++)if(t.observers[i].observer===e)return void t.observers.splice(i,1)}function l(t,e){d(e),Object.observe?u(e,t):clearTimeout(e.next);var i=o(t);a(i,e)}function c(t,e){var i,a=[],l=t,c=o(t);if(c?i=s(c,e):(c=new w(t),y.push(c)),i)return i;if(Object.observe)i=function(n){u(i,t),h(i,t);for(var o=0,s=n.length;s>o;){if(("length"!==n[o].name||!x(n[o].object))&&"__Jasmine_been_here_before__"!==n[o].name){var c=n[o].type;switch(c){case"new":c="add";break;case"deleted":c="delete";break;case"updated":c="update"}v[c].call(n[o],a,r(l,n[o].object))}o++}a&&e&&e(a),i.patches=a,a=[]};else if(i={},c.value=JSON.parse(JSON.stringify(t)),e){i.callback=e,i.next=null;var f=this.intervals||[100,1e3,1e4,6e4],p=0,g=function(){d(i)},m=function(){clearTimeout(i.next),i.next=setTimeout(function(){g(),p=0,i.next=setTimeout(b,f[p++])},0)},b=function(){g(),p==f.length&&(p=f.length-1),i.next=setTimeout(b,f[p++])};"undefined"!=typeof n&&(n.addEventListener?(n.addEventListener("mousedown",m),n.addEventListener("mouseup",m),n.addEventListener("keydown",m)):(n.attachEvent("onmousedown",m),n.attachEvent("onmouseup",m),n.attachEvent("onkeydown",m))),i.next=setTimeout(b,f[p++])}return i.patches=a,i.object=t,c.observers.push(new _(e,i)),h(i,t)}function h(t,e){if(Object.observe){Object.observe(e,t);for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];n&&"object"==typeof n&&h(t,n)}}return t}function u(t,e){if(Object.observe){Object.unobserve(e,t);for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];n&&"object"==typeof n&&u(t,n)}}return t}function d(t){if(Object.observe)Object.deliverChangeRecords(t);else{for(var e,i=0,n=y.length;n>i;i++)if(y[i].obj===t.object){e=y[i];break}f(e.value,t.object,t.patches,"")}var r=t.patches;return r.length>0&&(t.patches=[],t.callback&&t.callback(r)),r}function f(t,i,n,r){for(var o=b(i),s=b(t),a=!1,l=!1,c=s.length-1;c>=0;c--){var h=s[c],u=t[h];if(i.hasOwnProperty(h)){var d=i[h];u instanceof Object?f(u,d,n,r+"/"+e(h)):u!=d&&(a=!0,n.push({op:"replace",path:r+"/"+e(h),value:d}),t[h]=d)}else n.push({op:"remove",path:r+"/"+e(h)}),delete t[h],l=!0}if(l||o.length!=s.length)for(var c=0;c<o.length;c++){var h=o[c];t.hasOwnProperty(h)||(n.push({op:"add",path:r+"/"+e(h),value:i[h]}),t[h]=JSON.parse(JSON.stringify(i[h])))}}function p(t,e){for(var i,n=!1,r=0,o=e.length;o>r;){i=e[r];for(var s=i.path.split("/"),a=t,l=1,c=s.length;;)if(x(a)){var h=parseInt(s[l],10);if(l++,l>=c){n=m[i.op].call(i,a,h,t);break}a=a[h]}else{var u=s[l];if(-1!=u.indexOf("~")&&(u=u.replace(/~1/g,"/").replace(/~0/g,"~")),l++,l>=c){n=g[i.op].call(i,a,u,t);break}a=a[u]}r++}return n}var g={add:function(t,e){return t[e]=this.value,!0},remove:function(t,e){return delete t[e],!0},replace:function(t,e){return t[e]=this.value,!0},move:function(t,e,i){var n={op:"_get",path:this.from};return p(i,[n]),p(i,[{op:"remove",path:this.from}]),p(i,[{op:"add",path:this.path,value:n.value}]),!0},copy:function(t,e,i){var n={op:"_get",path:this.from};return p(i,[n]),p(i,[{op:"add",path:this.path,value:n.value}]),!0},test:function(t,e){return JSON.stringify(t[e])===JSON.stringify(this.value)},_get:function(t,e){this.value=t[e]}},m={add:function(t,e){return t.splice(e,0,this.value),!0},remove:function(t,e){return t.splice(e,1),!0},replace:function(t,e){return t[e]=this.value,!0},move:g.move,copy:g.copy,test:g.test,_get:g._get},v={add:function(t,i){var n={op:"add",path:i+e(this.name),value:this.object[this.name]};t.push(n)},"delete":function(t,i){var n={op:"remove",path:i+e(this.name)};t.push(n)},update:function(t,i){var n={op:"replace",path:i+e(this.name),value:this.object[this.name]};t.push(n)}},y=[];t.intervals;var w=function(){function t(t){this.observers=[],this.obj=t}return t}(),_=function(){function t(t,e){this.callback=t,this.observer=e}return t}();t.unobserve=l,t.observe=c,t.generate=d;var b;b=Object.keys?Object.keys:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e};var x;x=Array.isArray?Array.isArray:function(t){return t.push&&"number"==typeof t.length},t.apply=p}(z||(z={})),"undefined"!=typeof i&&(i.apply=z.apply,i.observe=z.observe,i.unobserve=z.unobserve,i.generate=z.generate),r.PluginHookClass=function(){function t(){this.hooks=e(),this.legacy=i}var e=function(){return{beforeInitWalkontable:[],beforeInit:[],beforeRender:[],beforeChange:[],beforeRemoveCol:[],beforeRemoveRow:[],beforeValidate:[],beforeGet:[],beforeSet:[],beforeGetCellMeta:[],beforeAutofill:[],beforeKeyDown:[],beforeColumnSort:[],afterInit:[],afterLoadData:[],afterUpdateSettings:[],afterRender:[],afterRenderer:[],afterChange:[],afterValidate:[],afterGetCellMeta:[],afterGetColHeader:[],afterGetColWidth:[],afterDestroy:[],afterRemoveRow:[],afterCreateRow:[],afterRemoveCol:[],afterCreateCol:[],afterColumnResize:[],afterColumnMove:[],afterColumnSort:[],afterDeselect:[],afterSelection:[],afterSelectionByProp:[],afterSelectionEnd:[],afterSelectionEndByProp:[],afterCopyLimit:[],afterOnCellMouseDown:[],afterOnCellMouseOver:[],afterOnCellCornerMouseDown:[],afterScrollVertically:[],afterScrollHorizontally:[],modifyCol:[]}},i={onBeforeChange:"beforeChange",onChange:"afterChange",onCreateRow:"afterCreateRow",onCreateCol:"afterCreateCol",onSelection:"afterSelection",onCopyLimit:"afterCopyLimit",onSelectionEnd:"afterSelectionEnd",onSelectionByProp:"afterSelectionByProp",onSelectionEndByProp:"afterSelectionEndByProp"};return t.prototype.add=function(t,e){if(r.helper.isArray(e))for(var n=0,o=e.length;o>n;n++)this.add(t,e[n]);else t in i&&(t=i[t]),"undefined"==typeof this.hooks[t]&&(this.hooks[t]=[]),-1==this.hooks[t].indexOf(e)&&this.hooks[t].push(e);return this},t.prototype.once=function(t,e){if(r.helper.isArray(e))for(var i=0,n=e.length;n>i;i++)e[i].runOnce=!0,this.add(t,e[i]);else e.runOnce=!0,this.add(t,e)},t.prototype.remove=function(t,e){var n=!1;if(t in i&&(t=i[t]),"undefined"!=typeof this.hooks[t])for(var r=0,o=this.hooks[t].length;o>r;r++)if(this.hooks[t][r]==e){delete this.hooks[t][r].runOnce,this.hooks[t].splice(r,1),n=!0;break}return n},t.prototype.run=function(t,e,n,r,o,s,a){if(e in i&&(e=i[e]),"undefined"!=typeof this.hooks[e])for(var l=Array.prototype.slice.call(this.hooks[e]),c=0,h=l.length;h>c;c++)l[c].call(t,n,r,o,s,a),l[c].runOnce&&this.remove(e,l[c])},t.prototype.execute=function(t,e,n,r,o,s,a){var l,c;if(e in i&&(e=i[e]),"undefined"!=typeof this.hooks[e]){c=Array.prototype.slice.call(this.hooks[e]);for(var h=0,u=c.length;u>h;h++)if(l=c[h].call(t,n,r,o,s,a),void 0!==l&&(n=l),c[h].runOnce&&this.remove(e,c[h]),l===!1)return!1}return n},t}(),r.PluginHooks=new r.PluginHookClass,function(t){function e(){function e(t){var e=document,i=this;i.table=e.createElement("table"),i.theadTh=e.createElement("th"),i.table.appendChild(e.createElement("thead")).appendChild(e.createElement("tr")).appendChild(i.theadTh),i.tableStyle=i.table.style,i.tableStyle.tableLayout="auto",i.tableStyle.width="auto",i.tbody=e.createElement("tbody"),i.table.appendChild(i.tbody),i.container=e.createElement("div"),i.container.className=t.rootElement[0].className+" hidden",i.containerStyle=i.container.style,i.container.appendChild(i.table)}var n=this,r=5;this.beforeInit=function(){var t=this;t.autoColumnWidths=[],t.getSettings().autoColumnSize!==!1?t.autoColumnSizeTmp||(t.autoColumnSizeTmp={table:null,tableStyle:null,theadTh:null,tbody:null,container:null,containerStyle:null,determineBeforeNextRender:!0},t.addHook("beforeRender",i.determineIfChanged),t.addHook("afterGetColWidth",i.getColWidth),t.addHook("afterDestroy",i.afterDestroy),t.determineColumnWidth=n.determineColumnWidth):t.autoColumnSizeTmp&&(t.removeHook("beforeRender",i.determineIfChanged),t.removeHook("afterGetColWidth",i.getColWidth),t.removeHook("afterDestroy",i.afterDestroy),delete t.determineColumnWidth,n.afterDestroy.call(t))},this.determineIfChanged=function(t){t&&i.determineColumnsWidth.apply(this,arguments)},this.determineColumnWidth=function(i){var n=this,o=n.autoColumnSizeTmp;o.container||e.call(o,n),o.container.className=n.rootElement[0].className+" htAutoColumnSize",o.table.className=n.$table[0].className;for(var s=n.countRows(),a={},l=0,c=0;s>c;c++){var h=t.helper.stringify(n.getDataAtCell(c,i)),u=h.length;u>l&&(l=u),a[u]||(a[u]={needed:r,strings:[]}),a[u].needed&&(a[u].strings.push({value:h,row:c}),a[u].needed--)}var d=n.getSettings();d.colHeaders&&n.view.appendColHeader(i,o.theadTh),n.view.wt.wtDom.empty(o.tbody);for(var f in a)if(a.hasOwnProperty(f))for(var p=0,g=a[f].strings.length;g>p;p++){var m=a[f].strings[p].row,v=n.getCellMeta(m,i);v.col=i,v.row=m;var y=n.getCellRenderer(v),w=document.createElement("tr"),_=document.createElement("td");y(n,_,m,i,n.colToProp(i),a[f].strings[p].value,v),c++,w.appendChild(_),o.tbody.appendChild(w)}var b=n.rootElement[0].parentNode;b.appendChild(o.container);var x=n.view.wt.wtDom.outerWidth(o.table);if(b.removeChild(o.container),!d.nativeScrollbars){var C=n.view.wt.wtViewport.getViewportWidth()-2;x>C&&(x=C)}return x},this.determineColumnsWidth=function(){var t=this,e=this.getSettings();if(e.autoColumnSize||!e.colWidths)for(var i=this.countCols(),r=0;i>r;r++)t._getColWidthFromSettings(r)||(this.autoColumnWidths[r]=n.determineColumnWidth.call(t,r))},this.getColWidth=function(t,e){this.autoColumnWidths[t]&&this.autoColumnWidths[t]>e.width&&(e.width=this.autoColumnWidths[t])},this.afterDestroy=function(){var t=this;t.autoColumnSizeTmp&&t.autoColumnSizeTmp.container&&t.autoColumnSizeTmp.container.parentNode&&t.autoColumnSizeTmp.container.parentNode.removeChild(t.autoColumnSizeTmp.container),t.autoColumnSizeTmp=null}}var i=new e;t.PluginHooks.add("beforeInit",i.beforeInit),t.PluginHooks.add("afterUpdateSettings",i.beforeInit)}(r);var B=new s;r.PluginHooks.add("afterInit",function(){B.init.call(this,"afterInit")}),r.PluginHooks.add("afterUpdateSettings",function(){B.init.call(this,"afterUpdateSettings")}),r.PluginHooks.add("beforeGet",B.onBeforeGetSet),r.PluginHooks.add("beforeSet",B.onBeforeGetSet),r.PluginHooks.add("afterGetColHeader",B.getColHeader),function(e){function i(n,r){function o(){var i=t("body > .htContextMenu")[0];return i||(i=document.createElement("DIV"),e.Dom.addClass(i,"htContextMenu"),document.getElementsByTagName("body")[0].appendChild(i)),i}this.instance=n;var s=this;this.menu=o(),this.enabled=!0,this.bindMouseEvents(),this.bindTableEvents(),this.instance.addHook("afterDestroy",function(){s.destroy()}),this.defaultOptions={items:{row_above:{name:"Insert row above",callback:function(t,e){this.alter("insert_row",e.start.row())},disabled:function(){return this.countRows()>=this.getSettings().maxRows}},row_below:{name:"Insert row below",callback:function(t,e){this.alter("insert_row",e.end.row()+1)},disabled:function(){return this.countRows()>=this.getSettings().maxRows}},hsep1:i.SEPARATOR,col_left:{name:"Insert column on the left",callback:function(t,e){this.alter("insert_col",e.start.col())},disabled:function(){return this.countCols()>=this.getSettings().maxCols}},col_right:{name:"Insert column on the right",callback:function(t,e){this.alter("insert_col",e.end.col()+1)},disabled:function(){return this.countCols()>=this.getSettings().maxCols}},hsep2:i.SEPARATOR,remove_row:{name:"Remove row",callback:function(t,e){var i=e.end.row()-e.start.row()+1;this.alter("remove_row",e.start.row(),i)}},remove_col:{name:"Remove column",callback:function(t,e){var i=e.end.col()-e.start.col()+1;this.alter("remove_col",e.start.col(),i)}},hsep3:i.SEPARATOR,undo:{name:"Undo",callback:function(){this.undo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isUndoAvailable()}},redo:{name:"Redo",callback:function(){this.redo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isRedoAvailable()}}}},this.options={},e.helper.extend(this.options,this.defaultOptions),this.updateOptions(r)}function n(){var t=this,n=t.getSettings().contextMenu,r=e.helper.isObject(n)?n:{};n?(t.contextMenu||(t.contextMenu=new i(t,r)),t.contextMenu.enable(),e.helper.isArray(n)&&t.contextMenu.filterItems(n)):t.contextMenu&&(t.contextMenu.destroy(),delete t.contextMenu)}i.prototype.bindMouseEvents=function(){function n(n){n.preventDefault(),("TD"==n.target.nodeName||e.Dom.hasClass(n.target,"current")&&e.Dom.hasClass(n.target,"wtBorder"))&&(this.show(n.pageY,n.pageX),t(document).on("mousedown.htContextMenu",e.helper.proxy(i.prototype.close,this)))}this.instance.rootElement.on("contextmenu.htContextMenu",e.helper.proxy(n,this))},i.prototype.bindTableEvents=function(){var t=this;this._afterScrollCallback=function(){t.close()},this.instance.addHook("afterScrollVertically",this._afterScrollCallback),this.instance.addHook("afterScrollHorizontally",this._afterScrollCallback)},i.prototype.unbindTableEvents=function(){this._afterScrollCallback&&(this.instance.removeHook("afterScrollVertically",this._afterScrollCallback),this.instance.removeHook("afterScrollHorizontally",this._afterScrollCallback),this._afterScrollCallback=null)},i.prototype.performAction=function(){var e=t(this.menu).handsontable("getInstance"),n=e.getSelected()[0],r=e.getData()[n];if(r.disabled!==!0&&("function"!=typeof r.disabled||r.disabled.call(this.instance)!==!0)&&"function"==typeof r.callback){var o=this.instance.getSelected(),s=i.utils.normalizeSelection(o);r.callback.call(this.instance,r.key,s)}},i.prototype.unbindMouseEvents=function(){this.instance.rootElement.off("contextmenu.htContextMenu"),t(document).off("mousedown.htContextMenu")},i.prototype.show=function(n,r){this.menu.style.display="block",t(this.menu).off("mousedown.htContextMenu").on("mousedown.htContextMenu",e.helper.proxy(this.performAction,this)),t(this.menu).handsontable({data:i.utils.convertItemsToArray(this.getItems()),colHeaders:!1,colWidths:[160],readOnly:!0,copyPaste:!1,columns:[{data:"name",renderer:e.helper.proxy(this.renderer,this)}],beforeKeyDown:e.helper.proxy(this.onBeforeKeyDown,this)}),this.bindTableEvents(),this.setMenuPosition(n,r),t(this.menu).handsontable("listen")},i.prototype.close=function(){this.hide(),t(document).off("mousedown.htContextMenu"),this.unbindTableEvents(),this.instance.listen()},i.prototype.hide=function(){this.menu.style.display="none",t(this.menu).handsontable("destroy")},i.prototype.renderer=function(n,r,o,s,a,l,c){function h(t){return new RegExp(i.SEPARATOR,"i").test(t.name)}function u(t,e){return t.disabled===!0||"function"==typeof t.disabled&&t.disabled.call(d.instance)===!0}var d=this,f=n.getData()[o],p=document.createElement("DIV");e.Dom.empty(r),r.appendChild(p),h(f)?e.Dom.addClass(r,"htSeparator"):e.Dom.fastInnerText(p,l),u(f,d.instance)?(e.Dom.addClass(r,"htDisabled"),t(p).on("mouseenter",function(){n.deselectCell()})):(e.Dom.removeClass(r,"htDisabled"),t(p).on("mouseenter",function(){n.selectCell(o,s)}))},i.prototype.onBeforeKeyDown=function(n){function r(t){var e=t.getCell(0,0);i.utils.isSeparator(e)||i.utils.isDisabled(e)?s(0,0,t):t.selectCell(0,0)}function o(t){var e=t.countRows()-1,n=t.getCell(e,0);i.utils.isSeparator(n)||i.utils.isDisabled(n)?a(e,0,t):t.selectCell(e,0)}function s(t,e,n){var r=t+1,o=r<n.countRows()?n.getCell(r,e):null;o&&(i.utils.isSeparator(o)||i.utils.isDisabled(o)?s(r,e,n):n.selectCell(r,e))}function a(t,e,n){var r=t-1,o=r>=0?n.getCell(r,e):null;o&&(i.utils.isSeparator(o)||i.utils.isDisabled(o)?a(r,e,n):n.selectCell(r,e))}var l=this,c=t(l.menu).handsontable("getInstance"),h=c.getSelected();switch(n.keyCode){case e.helper.keyCode.ESCAPE:l.close(),n.preventDefault(),n.stopImmediatePropagation();break;case e.helper.keyCode.ENTER:c.getSelected()&&(l.performAction(),l.close());break;case e.helper.keyCode.ARROW_DOWN:h?s(h[0],h[1],c):r(c),n.preventDefault(),n.stopImmediatePropagation();break;case e.helper.keyCode.ARROW_UP:h?a(h[0],h[1],c):o(c),n.preventDefault(),n.stopImmediatePropagation()}},i.prototype.getItems=function(){function t(t){"string"==typeof t?this.name=t:e.helper.extend(this,t)}var i={};t.prototype=this.options;for(var n in this.options.items)!this.options.items.hasOwnProperty(n)||this.itemsFilter&&-1==this.itemsFilter.indexOf(n)||(i[n]=new t(this.options.items[n]));return i},i.prototype.updateOptions=function(t){if(t=t||{},t.items)for(var i in t.items){var n={};t.items.hasOwnProperty(i)&&this.defaultOptions.items.hasOwnProperty(i)&&e.helper.isObject(t.items[i])&&(e.helper.extend(n,this.defaultOptions.items[i]),e.helper.extend(n,t.items[i]),t.items[i]=n)}e.helper.extend(this.options,t)},i.prototype.setMenuPosition=function(t,e){var i={top:t,topRelative:t-document.documentElement.scrollTop,left:e,leftRelative:e-document.documentElement.scrollLeft};this.menuFitsBelowCursor(i)?this.positionMenuBelowCursor(i):this.positionMenuAboveCursor(i),this.menuFitsOnRightOfCursor(i)?this.positionMenuOnRightOfCursor(i):this.positionMenuOnLeftOfCursor(i)},i.prototype.menuFitsBelowCursor=function(t){return t.topRelative+this.menu.offsetHeight<=document.documentElement.scrollTop+document.documentElement.clientHeight},i.prototype.menuFitsOnRightOfCursor=function(t){return t.leftRelative+this.menu.offsetWidth<=document.documentElement.scrollLeft+document.documentElement.clientWidth},i.prototype.positionMenuBelowCursor=function(t){this.menu.style.top=t.top+"px"},i.prototype.positionMenuAboveCursor=function(t){this.menu.style.top=t.top-this.menu.offsetHeight+"px"},i.prototype.positionMenuOnRightOfCursor=function(t){this.menu.style.left=t.left+"px"},i.prototype.positionMenuOnLeftOfCursor=function(t){this.menu.style.left=t.left-this.menu.offsetWidth+"px"},i.utils={},i.utils.convertItemsToArray=function(t){var e,i=[];for(var n in t)if(t.hasOwnProperty(n)){if("string"==typeof t[n])e={name:t[n]};else{if(t[n].visible===!1)continue;e=t[n]}e.key=n,i.push(e)}return i},i.utils.normalizeSelection=function(t){var i={start:new e.SelectionPoint,end:new e.SelectionPoint};return i.start.row(Math.min(t[0],t[2])),i.start.col(Math.min(t[1],t[3])),i.end.row(Math.max(t[0],t[2])),i.end.col(Math.max(t[1],t[3])),i},i.utils.isSeparator=function(t){return e.Dom.hasClass(t,"htSeparator")},i.utils.isDisabled=function(t){return e.Dom.hasClass(t,"htDisabled")},i.prototype.enable=function(){this.enabled||(this.enabled=!0,this.bindMouseEvents())},i.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.close(),this.unbindMouseEvents(),this.unbindTableEvents())},i.prototype.destroy=function(){this.close(),this.unbindMouseEvents(),this.unbindTableEvents(),this.isMenuEnabledByOtherHotInstance()||this.removeMenu()},i.prototype.isMenuEnabledByOtherHotInstance=function(){for(var e=t(".handsontable"),i=!1,n=0,r=e.length;r>n;n++){var o=t(e[n]).handsontable("getInstance");if(o&&o.getSettings().contextMenu){i=!0;break}}return i},i.prototype.removeMenu=function(){this.menu.parentNode&&this.menu.parentNode.removeChild(this.menu)},i.prototype.filterItems=function(t){this.itemsFilter=t},i.SEPARATOR="---------",e.PluginHooks.add("afterInit",n),e.PluginHooks.add("afterUpdateSettings",n),e.ContextMenu=i;
}(r),r.PluginHooks.add("beforeGetCellMeta",function(t,e,i){if(i.isWritable=!i.readOnly,i.autoComplete)throw new Error("Support for legacy autocomplete syntax was removed in Handsontable 0.10.0. Please remove the property named 'autoComplete' from your config. For replacement instructions, see wiki page https://github.com/warpech/jquery-handsontable/wiki/Migration-guide-to-0.10.x")});var V=new a;r.PluginHooks.add("beforeInit",V.beforeInit),r.PluginHooks.add("afterInit",function(){V.init.call(this,"afterInit")}),r.PluginHooks.add("afterUpdateSettings",function(){V.init.call(this,"afterUpdateSettings")}),r.PluginHooks.add("afterGetColHeader",V.getColHeader),r.PluginHooks.add("modifyCol",V.modifyCol);var W=new l;r.PluginHooks.add("beforeInit",W.beforeInit),r.PluginHooks.add("afterInit",function(){W.init.call(this,"afterInit")}),r.PluginHooks.add("afterUpdateSettings",function(){W.init.call(this,"afterUpdateSettings")}),r.PluginHooks.add("afterGetColWidth",W.getColWidth),function(){function t(){var t=this,i=t.getSettings().observeChanges;i?(t.observer&&n.call(t),e.call(t),s.call(t)):i||n.call(t)}function e(){var t=this;t.observeChangesActive=!0,t.pauseObservingChanges=function(){t.observeChangesActive=!1},t.resumeObservingChanges=function(){t.observeChangesActive=!0},t.observedData=t.getData(),t.observer=z.observe(t.observedData,function(e){t.observeChangesActive&&(i.call(t,e),t.render()),t.runHooks("afterChangesObserved")})}function i(t){function e(t){var e;return e=n(t),e=i(e)}function i(t){var e=[];return t.filter(function(t){var i=r(t.path);if(-1!=["add","remove"].indexOf(t.op)&&!isNaN(i.col)){if(-1!=e.indexOf(i.col))return!1;e.push(i.col)}return!0})}function n(t){return t.filter(function(t){return!/[\/]length/gi.test(t.path)})}function r(t){var e=t.match(/^\/(\d+)\/?(.*)?$/);return{row:parseInt(e[1],10),col:/^\d*$/.test(e[2])?parseInt(e[2],10):e[2]}}for(var o=this,s=e(t),a=0,l=s.length;l>a;a++){var c=s[a],h=r(c.path);switch(c.op){case"add":isNaN(h.col)?o.runHooks("afterCreateRow",h.row):o.runHooks("afterCreateCol",h.col);break;case"remove":isNaN(h.col)?o.runHooks("afterRemoveRow",h.row,1):o.runHooks("afterRemoveCol",h.col,1);break;case"replace":o.runHooks("afterChange",[h.row,h.col,null,c.value],"external")}}}function n(){var t=this;t.observer&&(o.call(t),a.call(t))}function o(){var t=this;z.unobserve(t.observedData,t.observer),delete t.observeChangesActive,delete t.pauseObservingChanges,delete t.resumeObservingChanges}function s(){var t=this;t.addHook("afterDestroy",n),t.addHook("afterCreateRow",l),t.addHook("afterRemoveRow",l),t.addHook("afterCreateCol",l),t.addHook("afterRemoveCol",l),t.addHook("afterChange",function(t,e){"loadData"!=e&&l.call(this)})}function a(){var t=this;t.removeHook("afterDestroy",n),t.removeHook("afterCreateRow",l),t.removeHook("afterRemoveRow",l),t.removeHook("afterCreateCol",l),t.removeHook("afterRemoveCol",l),t.removeHook("afterChange",l)}function l(){var t=this;t.pauseObservingChanges(),t.addHookOnce("afterChangesObserved",function(){t.resumeObservingChanges()})}r.PluginHooks.add("afterLoadData",t),r.PluginHooks.add("afterUpdateSettings",t)}(),function(t){function e(){function e(){var t=this;for(var e in o)o.hasOwnProperty(e)&&!n.call(t,e)&&t.PluginHooks.add(e,o[e])}function i(){var t=this;for(var e in o)o.hasOwnProperty(e)&&n.call(t,e)&&t.PluginHooks.remove(e,o[e])}function n(t){var e=this;return e.PluginHooks.hooks.hasOwnProperty(t)}var r=this;this.init=function(){var n=this,o=n.getSettings().persistentState;return r.enabled=!!o,r.enabled?(n.storage||(n.storage=new t(n.rootElement[0].id)),n.resetState=r.resetValue,void e.call(n)):void i.call(n)},this.saveValue=function(t,e){var i=this;i.storage.saveValue(t,e)},this.loadValue=function(t,e){var i=this;e.value=i.storage.loadValue(t)},this.resetValue=function(t){var e=this;"undefined"!=typeof t?e.storage.reset(t):e.storage.resetAll()};var o={persistentStateSave:r.saveValue,persistentStateLoad:r.loadValue,persistentStateReset:r.resetValue}}var i=new e;r.PluginHooks.add("beforeInit",i.init),r.PluginHooks.add("afterUpdateSettings",i.init)}(c),function(e){e.UndoRedo=function(t){var i=this;this.instance=t,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,t.addHook("afterChange",function(t,n){if(t){var r=new e.UndoRedo.ChangeAction(t);i.done(r)}}),t.addHook("afterCreateRow",function(t,n,r){if(!r){var o=new e.UndoRedo.CreateRowAction(t,n);i.done(o)}}),t.addHook("beforeRemoveRow",function(t,n){var r=i.instance.getData();t=(r.length+t)%r.length;var o=r.slice(t,t+n),s=new e.UndoRedo.RemoveRowAction(t,o);i.done(s)}),t.addHook("afterCreateCol",function(t,n,r){if(!r){var o=new e.UndoRedo.CreateColumnAction(t,n);i.done(o)}}),t.addHook("beforeRemoveCol",function(n,r){var o=i.instance.getData();n=(i.instance.countCols()+n)%i.instance.countCols();for(var s=[],a=0,l=o.length;l>a;a++)s[a]=o[a].slice(n,n+r);var c;e.helper.isArray(t.getSettings().colHeaders)&&(c=t.getSettings().colHeaders.slice(n,n+s.length));var h=new e.UndoRedo.RemoveColumnAction(n,s,c);i.done(h)})},e.UndoRedo.prototype.done=function(t){this.ignoreNewActions||(this.doneActions.push(t),this.undoneActions.length=0)},e.UndoRedo.prototype.undo=function(){if(this.isUndoAvailable()){var t=this.doneActions.pop();this.ignoreNewActions=!0,t.undo(this.instance),this.ignoreNewActions=!1,this.undoneActions.push(t)}},e.UndoRedo.prototype.redo=function(){if(this.isRedoAvailable()){var t=this.undoneActions.pop();this.ignoreNewActions=!0,t.redo(this.instance),this.ignoreNewActions=!0,this.doneActions.push(t)}},e.UndoRedo.prototype.isUndoAvailable=function(){return this.doneActions.length>0},e.UndoRedo.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},e.UndoRedo.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},e.UndoRedo.Action=function(){},e.UndoRedo.Action.prototype.undo=function(){},e.UndoRedo.Action.prototype.redo=function(){},e.UndoRedo.ChangeAction=function(t){this.changes=t},e.helper.inherit(e.UndoRedo.ChangeAction,e.UndoRedo.Action),e.UndoRedo.ChangeAction.prototype.undo=function(e){for(var i=t.extend(!0,[],this.changes),n=0,r=i.length;r>n;n++)i[n].splice(3,1);e.setDataAtRowProp(i,null,null,"undo")},e.UndoRedo.ChangeAction.prototype.redo=function(e){for(var i=t.extend(!0,[],this.changes),n=0,r=i.length;r>n;n++)i[n].splice(2,1);e.setDataAtRowProp(i,null,null,"redo")},e.UndoRedo.CreateRowAction=function(t,e){this.index=t,this.amount=e},e.helper.inherit(e.UndoRedo.CreateRowAction,e.UndoRedo.Action),e.UndoRedo.CreateRowAction.prototype.undo=function(t){t.alter("remove_row",this.index,this.amount)},e.UndoRedo.CreateRowAction.prototype.redo=function(t){t.alter("insert_row",this.index+1,this.amount)},e.UndoRedo.RemoveRowAction=function(t,e){this.index=t,this.data=e},e.helper.inherit(e.UndoRedo.RemoveRowAction,e.UndoRedo.Action),e.UndoRedo.RemoveRowAction.prototype.undo=function(t){var e=[this.index,0];Array.prototype.push.apply(e,this.data),Array.prototype.splice.apply(t.getData(),e),t.render()},e.UndoRedo.RemoveRowAction.prototype.redo=function(t){t.alter("remove_row",this.index,this.data.length)},e.UndoRedo.CreateColumnAction=function(t,e){this.index=t,this.amount=e},e.helper.inherit(e.UndoRedo.CreateColumnAction,e.UndoRedo.Action),e.UndoRedo.CreateColumnAction.prototype.undo=function(t){t.alter("remove_col",this.index,this.amount)},e.UndoRedo.CreateColumnAction.prototype.redo=function(t){t.alter("insert_col",this.index+1,this.amount)},e.UndoRedo.RemoveColumnAction=function(t,e,i){this.index=t,this.data=e,this.amount=this.data[0].length,this.headers=i},e.helper.inherit(e.UndoRedo.RemoveColumnAction,e.UndoRedo.Action),e.UndoRedo.RemoveColumnAction.prototype.undo=function(t){for(var e,i,n=0,r=t.getData().length;r>n;n++)e=t.getDataAtRow(n),i=[this.index,0],Array.prototype.push.apply(i,this.data[n]),Array.prototype.splice.apply(e,i);"undefined"!=typeof this.headers&&(i=[this.index,0],Array.prototype.push.apply(i,this.headers),Array.prototype.splice.apply(t.getSettings().colHeaders,i)),t.render()},e.UndoRedo.RemoveColumnAction.prototype.redo=function(t){t.alter("remove_col",this.index,this.amount)}}(r),function(t){function e(){var e=this,s="undefined"==typeof e.getSettings().undo||e.getSettings().undo;s?e.undoRedo||(e.undoRedo=new t.UndoRedo(e),r(e),e.addHook("beforeKeyDown",i),e.addHook("afterChange",n)):e.undoRedo&&(delete e.undoRedo,o(e),e.removeHook("beforeKeyDown",i),e.removeHook("afterChange",n))}function i(t){var e=this,i=(t.ctrlKey||t.metaKey)&&!t.altKey;i&&(89===t.keyCode||t.shiftKey&&90===t.keyCode?(e.undoRedo.redo(),t.stopImmediatePropagation()):90===t.keyCode&&(e.undoRedo.undo(),t.stopImmediatePropagation()))}function n(t,e){var i=this;return"loadData"==e?i.undoRedo.clear():void 0}function r(t){t.undo=function(){return t.undoRedo.undo()},t.redo=function(){return t.undoRedo.redo()},t.isUndoAvailable=function(){return t.undoRedo.isUndoAvailable()},t.isRedoAvailable=function(){return t.undoRedo.isRedoAvailable()},t.clearUndo=function(){return t.undoRedo.clear()}}function o(t){delete t.undo,delete t.redo,delete t.isUndoAvailable,delete t.isRedoAvailable,delete t.clearUndo}t.PluginHooks.add("afterInit",e),t.PluginHooks.add("afterUpdateSettings",e)}(r),h.prototype.setBoundaries=function(t){this.boundaries=t},h.prototype.setCallback=function(t){this.callback=t},h.prototype.check=function(t,e){var i=0,n=0;e<this.boundaries.top?n=e-this.boundaries.top:e>this.boundaries.bottom&&(n=e-this.boundaries.bottom),t<this.boundaries.left?i=t-this.boundaries.left:t>this.boundaries.right&&(i=t-this.boundaries.right),this.callback(i,n)};var j,X=!1;if("undefined"!=typeof r){var U=function(t){var e=t.view.wt.wtScrollbars.vertical.scrollHandler;j=new h,e!==n&&(e?j.setBoundaries(e.getBoundingClientRect()):j.setBoundaries(t.$table[0].getBoundingClientRect()),j.setCallback(function(i,n){0>i?e?e.scrollLeft-=50:t.view.wt.scrollHorizontal(-1).draw():i>0&&(e?e.scrollLeft+=50:t.view.wt.scrollHorizontal(1).draw()),0>n?e?e.scrollTop-=20:t.view.wt.scrollVertical(-1).draw():n>0&&(e?e.scrollTop+=20:t.view.wt.scrollVertical(1).draw())}),X=!0)};r.PluginHooks.add("afterInit",function(){t(document).on("mouseup."+this.guid,function(){X=!1}),t(document).on("mousemove."+this.guid,function(t){X&&j.check(t.clientX,t.clientY)})}),r.PluginHooks.add("destroy",function(){t(document).off("."+this.guid)}),r.PluginHooks.add("afterOnCellMouseDown",function(){U(this)}),r.PluginHooks.add("afterOnCellCornerMouseDown",function(){U(this)})}if(function(t,e,i){function n(n){function r(){n.isListening()&&n.selection.empty()}function o(t){if(n.isListening()&&n.selection.isSelected()){var e=t.replace(/^[\r\n]*/g,"").replace(/[\r\n]*$/g,""),r=i.parse(e),o=n.getSelected(),s=n.getCornerCoords([{row:o[0],col:o[1]},{row:o[2],col:o[3]}]),a=s.TL,l={row:Math.max(s.BR.row,r.length-1+s.TL.row),col:Math.max(s.BR.col,r[0].length-1+s.TL.col)};n.PluginHooks.once("afterChange",function(t,e){t&&t.length&&this.selectCell(a.row,a.col,l.row,l.col)}),n.populateFromArray(a.row,a.col,r,l.row,l.col,"paste",n.getSettings().pasteMode)}}function s(e){if(t.helper.isCtrlKey(e.keyCode)&&n.getSelected())return a.setCopyableText(),void e.stopImmediatePropagation();var i=(e.ctrlKey||e.metaKey)&&!e.altKey;e.keyCode==t.helper.keyCode.A&&i&&setTimeout(t.helper.proxy(a.setCopyableText,a))}this.copyPasteInstance=e.getInstance(),this.copyPasteInstance.onCut(r),this.copyPasteInstance.onPaste(o);var a=this;n.addHook("beforeKeyDown",s),this.destroy=function(){this.copyPasteInstance.removeCallback(r),this.copyPasteInstance.removeCallback(o),this.copyPasteInstance.destroy(),n.removeHook("beforeKeyDown",s)},n.addHook("afterDestroy",t.helper.proxy(this.destroy,this)),this.triggerPaste=t.helper.proxy(this.copyPasteInstance.triggerPaste,this.copyPasteInstance),this.triggerCut=t.helper.proxy(this.copyPasteInstance.triggerCut,this.copyPasteInstance),this.setCopyableText=function(){var t=n.getSelected(),e=n.getSettings(),i=e.copyRowsLimit,r=e.copyColsLimit,o=Math.min(t[0],t[2]),s=Math.min(t[1],t[3]),a=Math.max(t[0],t[2]),l=Math.max(t[1],t[3]),c=Math.min(a,o+i-1),h=Math.min(l,s+r-1);n.copyPaste.copyPasteInstance.copyable(n.getCopyableData(o,s,c,h)),a===c&&l===h||n.PluginHooks.run("afterCopyLimit",a-o+1,l-s+1,i,r)}}function r(){var t=this,e=t.getSettings().copyPaste!==!1;e&&!t.copyPaste?t.copyPaste=new n(t):!e&&t.copyPaste&&(t.copyPaste.destroy(),delete t.copyPaste)}t.PluginHooks.add("afterInit",r),t.PluginHooks.add("afterUpdateSettings",r)}(r,F,SheetClip),u.prototype.init=function(){this.TABLE=this.instance.wtTable.TABLE,this.fixed=this.instance.wtTable.hider,this.fixedContainer=this.instance.wtTable.holder,this.fixed.style.position="absolute",this.fixed.style.left="0",this.scrollHandler=this.getScrollableElement(this.TABLE),this.$scrollHandler=t(this.scrollHandler)},u.prototype.makeClone=function(t){var e=document.createElement("DIV");e.className="ht_clone_"+t+" handsontable",e.style.position="fixed",e.style.overflow="hidden";var i=document.createElement("TABLE");return i.className=this.instance.wtTable.TABLE.className,e.appendChild(i),this.instance.wtTable.holder.parentNode.appendChild(e),new y({cloneSource:this.instance,cloneOverlay:this,table:i})},u.prototype.getScrollableElement=function(t){for(var e=t.parentNode;e&&e.style;){if("visible"!==e.style.overflow&&""!==e.style.overflow)return e;if(this instanceof R&&"visible"!==e.style.overflowX&&""!==e.style.overflowX)return e;e=e.parentNode}return n},u.prototype.prepare=function(){},u.prototype.onScroll=function(t){this.windowScrollPosition=this.getScrollPosition(),this.readSettings(),t&&(this.windowScrollPosition=t),this.resetFixedPosition()},u.prototype.availableSize=function(){var t;return t=this.windowScrollPosition>this.tableParentOffset?this.instance.wtTable.getLastVisibleRow()===this.total-1?this.instance.wtDom.outerHeight(this.TABLE):this.windowSize:this.windowSize-this.tableParentOffset},u.prototype.refresh=function(t){var e=this.getLastCell();this.measureBefore=this.sumCellSizes(0,this.offset),-1===e?this.measureAfter=0:this.measureAfter=this.sumCellSizes(e,this.total-e),this.applyToDOM(),this.clone&&this.clone.draw(t)},u.prototype.destroy=function(){this.$scrollHandler.off("."+this.instance.guid),t(n).off("."+this.instance.guid),t(document).off("."+this.instance.guid)},d.prototype.appear=function(t){var e,i,n,r,o,s,a,l,c,h,u,d;if(!this.disabled){var f,p,g,m,v,y,w,_=this.instance,b=!1,x=!1,C=!1,T=!1;for(_.wtTable.isRowInViewport(t[0])||(b=!0),_.wtTable.isRowInViewport(t[2])||(C=!0),y=_.wtTable.rowStrategy.countVisible(),v=0;y>v;v++)if(w=_.wtTable.rowFilter.visibleToSource(v),w>=t[0]&&w<=t[2]){f=w;break}for(v=y-1;v>=0;v--)if(w=_.wtTable.rowFilter.visibleToSource(v),w>=t[0]&&w<=t[2]){g=w;break}if(b&&C)x=!0,T=!0;else{for(_.wtTable.isColumnInViewport(t[1])||(x=!0),_.wtTable.isColumnInViewport(t[3])||(T=!0),y=_.wtTable.columnStrategy.countVisible(),v=0;y>v;v++)if(w=_.wtTable.columnFilter.visibleToSource(v),w>=t[1]&&w<=t[3]){p=w;break}for(v=y-1;v>=0;v--)if(w=_.wtTable.columnFilter.visibleToSource(v),w>=t[1]&&w<=t[3]){m=w;break}}if(void 0===f||void 0===p)return void this.disappear();e=f!==g||p!==m,i=_.wtTable.getCell([f,p]),n=e?_.wtTable.getCell([g,m]):i,r=this.wtDom.offset(i),o=e?this.wtDom.offset(n):r,s=this.wtDom.offset(_.wtTable.TABLE),l=r.top,u=o.top+this.wtDom.outerHeight(n)-l,h=r.left,d=o.left+this.wtDom.outerWidth(n)-h,a=l-s.top-1,c=h-s.left-1;var S=this.wtDom.getComputedStyle(i);parseInt(S.borderTopWidth,10)>0&&(a+=1,u=u>0?u-1:0),parseInt(S.borderLeftWidth,10)>0&&(c+=1,d=d>0?d-1:0),b?this.topStyle.display="none":(this.topStyle.top=a+"px",this.topStyle.left=c+"px",this.topStyle.width=d+"px",this.topStyle.display="block"),x?this.leftStyle.display="none":(this.leftStyle.top=a+"px",this.leftStyle.left=c+"px",this.leftStyle.height=u+"px",this.leftStyle.display="block");var E=Math.floor(this.settings.border.width/2);C?this.bottomStyle.display="none":(this.bottomStyle.top=a+u-E+"px",this.bottomStyle.left=c+"px",this.bottomStyle.width=d+"px",this.bottomStyle.display="block"),T?this.rightStyle.display="none":(this.rightStyle.top=a+"px",this.rightStyle.left=c+d-E+"px",this.rightStyle.height=u+1+"px",this.rightStyle.display="block"),C||T||!this.hasSetting(this.settings.border.cornerVisible)?this.cornerStyle.display="none":(this.cornerStyle.top=a+u-4+"px",this.cornerStyle.left=c+d-4+"px",this.cornerStyle.display="block")}},d.prototype.disappear=function(){this.topStyle.display="none",this.leftStyle.display="none",this.bottomStyle.display="none",this.rightStyle.display="none",this.cornerStyle.display="none"},d.prototype.hasSetting=function(t){return"function"==typeof t?t():!!t},f.prototype.source=function(t){return t},f.prototype.offsetted=function(t){return t+this.offset},f.prototype.unOffsetted=function(t){return t-this.offset},f.prototype.fixed=function(t){return t<this.fixedCount?t-this.offset:t},f.prototype.unFixed=function(t){return t<this.fixedCount?t+this.offset:t},f.prototype.visibleToSource=function(t){return this.source(this.offsetted(this.fixed(t)))},f.prototype.sourceToVisible=function(t){return this.source(this.unOffsetted(this.unFixed(t)))},p.prototype.getSize=function(t){return this.cellSizes[t]},p.prototype.getContainerSize=function(t){return"function"==typeof this.containerSizeFn?this.containerSizeFn(t):this.containerSizeFn},p.prototype.countVisible=function(){return this.cellCount},p.prototype.isLastIncomplete=function(){if(this.instance.getSetting("nativeScrollbars")){var t=this.instance.cloneFrom?this.instance.cloneFrom.wtScrollbars.vertical:this.instance.wtScrollbars.vertical;return this.remainingSize>t.sumCellSizes(t.offset,t.offset+t.curOuts+1)}return this.remainingSize>0},g.prototype.add=function(t,e,i){this.cache[t]||(this.cache[t]=[]),this.cache[t][e]||(this.cache[t][e]=[]),this.cache[t][e][i]=!0},g.prototype.test=function(t,e,i){return this.cache[t]&&this.cache[t][e]&&this.cache[t][e][i]},m.prototype=new f,m.prototype.readSettings=function(t){this.offset=t.wtSettings.settings.offsetColumn,this.total=t.getSetting("totalColumns"),this.fixedCount=t.getSetting("fixedColumnsLeft"),this.countTH=t.getSetting("rowHeaders").length},m.prototype.offsettedTH=function(t){return t-this.countTH},m.prototype.unOffsettedTH=function(t){return t+this.countTH},m.prototype.visibleRowHeadedColumnToSourceColumn=function(t){return this.visibleToSource(this.offsettedTH(t))},m.prototype.sourceColumnToVisibleRowHeadedColumn=function(t){return this.unOffsettedTH(this.sourceToVisible(t))},v.prototype=new p,v.prototype.getSize=function(t){return this.cellSizes[t]+(this.cellStretch[t]||0)},v.prototype.stretch=function(){var t=this.getContainerSize(this.cellSizesSum),e=0;if(this.remainingSize=this.cellSizesSum-t,this.cellStretch.length=0,"all"===this.strategy){if(this.remainingSize<0){for(var i,n=t/this.cellSizesSum;e<this.cellCount-1;)i=Math.floor(n*this.cellSizes[e]),this.remainingSize+=i-this.cellSizes[e],this.cellStretch[e]=i-this.cellSizes[e],e++;this.cellStretch[this.cellCount-1]=-this.remainingSize,this.remainingSize=0}}else"last"===this.strategy&&this.remainingSize<0&&t!==1/0&&(this.cellStretch[this.cellCount-1]=-this.remainingSize,this.remainingSize=0)},y.prototype.draw=function(t){return this.drawInterrupted=!1,t||this.wtDom.isVisible(this.wtTable.TABLE)?(this.getSetting("beforeDraw",!t),t=t&&this.getSetting("offsetRow")===this.lastOffsetRow&&this.getSetting("offsetColumn")===this.lastOffsetColumn,this.drawn&&(this.scrollVertical(0),this.scrollHorizontal(0)),this.lastOffsetRow=this.getSetting("offsetRow"),this.lastOffsetColumn=this.getSetting("offsetColumn"),this.wtTable.draw(t),this.cloneSource||this.getSetting("onDraw",!t),this):void(this.drawInterrupted=!0)},y.prototype.update=function(t,e){return this.wtSettings.update(t,e)},y.prototype.scrollVertical=function(t){var e=this.wtScroll.scrollVertical(t);return this.getSetting("onScrollVertically"),e},y.prototype.scrollHorizontal=function(t){var e=this.wtScroll.scrollHorizontal(t);return this.getSetting("onScrollHorizontally"),e},y.prototype.scrollViewport=function(t){return this.wtScroll.scrollViewport(t),this},y.prototype.getViewport=function(){return[this.wtTable.rowFilter.visibleToSource(0),this.wtTable.columnFilter.visibleToSource(0),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]},y.prototype.getSetting=function(t,e,i,n){return this.wtSettings.getSetting(t,e,i,n)},y.prototype.hasSetting=function(t){return this.wtSettings.has(t)},y.prototype.destroy=function(){t(document.body).off("."+this.guid),this.wtScrollbars.destroy(),clearTimeout(this.wheelTimeout),this.wtEvent&&this.wtEvent.destroy()},w.prototype=new u,w.prototype.resetFixedPosition=function(){if(this.instance.wtTable.holder.parentNode){var t=this.clone.wtTable.holder.parentNode,e=this.instance.wtTable.holder.getBoundingClientRect();t.style.top=Math.ceil(e.top,10)+"px",t.style.left=Math.ceil(e.left,10)+"px"}},w.prototype.prepare=function(){},w.prototype.refresh=function(t){this.clone&&this.clone.draw(t)},w.prototype.getScrollPosition=function(){},w.prototype.getLastCell=function(){},w.prototype.applyToDOM=function(){},w.prototype.scrollTo=function(){},w.prototype.readWindowSize=function(){},w.prototype.readSettings=function(){},_.prototype.closest=function(t,e,i){for(;null!=t&&t!==i;){if(1===t.nodeType&&e.indexOf(t.nodeName)>-1)return t;t=t.parentNode}return null},_.prototype.isChildOf=function(t,e){for(var i=t.parentNode;null!=i;){if(i==e)return!0;i=i.parentNode}return!1},_.prototype.index=function(t){for(var e=0;t=t.previousSibling;)++e;return e},document.documentElement.classList?(_.prototype.hasClass=function(t,e){return t.classList.contains(e)},_.prototype.addClass=function(t,e){t.classList.add(e)},_.prototype.removeClass=function(t,e){t.classList.remove(e)}):(_.prototype.hasClass=function(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},_.prototype.addClass=function(t,e){this.hasClass(t,e)||(t.className+=" "+e)},_.prototype.removeClass=function(t,e){if(this.hasClass(t,e)){var i=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(i," ").trim()}}),_.prototype.removeTextNodes=function(t,e){if(3===t.nodeType)e.removeChild(t);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(t.nodeName)>-1)for(var i=t.childNodes,n=i.length-1;n>=0;n--)this.removeTextNodes(i[n],t)},_.prototype.empty=function(t){for(var e;e=t.lastChild;)t.removeChild(e)},_.prototype.HTML_CHARACTERS=/(<(.*)>|&(.*);)/,_.prototype.fastInnerHTML=function(t,e){this.HTML_CHARACTERS.test(e)?t.innerHTML=e:this.fastInnerText(t,e)},document.createTextNode("test").textContent?_.prototype.fastInnerText=function(t,e){var i=t.firstChild;i&&3===i.nodeType&&null===i.nextSibling?i.textContent=e:(this.empty(t),t.appendChild(document.createTextNode(e)))}:_.prototype.fastInnerText=function(t,e){var i=t.firstChild;i&&3===i.nodeType&&null===i.nextSibling?i.data=e:(this.empty(t),t.appendChild(document.createTextNode(e)))},_.prototype.isVisible=function(t){for(var e=t;e!==document.documentElement;){if(null===e)return!1;if(11===e.nodeType){if(e.host){if(e.host.impl)return _.prototype.isVisible(e.host.impl);if(e.host)return _.prototype.isVisible(e.host);throw new Error("Lost in Web Components world")}return!1}if("none"===e.style.display)return!1;e=e.parentNode}return!0},_.prototype.offset=function(t){if(this.hasCaptionProblem()&&t.firstChild&&"CAPTION"===t.firstChild.nodeName){var e=t.getBoundingClientRect();return{top:e.top+(n.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0),left:e.left+(n.pageXOffset||document.documentElement.scrollLeft)-(document.documentElement.clientLeft||0)}}for(var i=t.offsetLeft,r=t.offsetTop,o=t;(t=t.offsetParent)&&t!==document.body;)i+=t.offsetLeft,r+=t.offsetTop,o=t;return o&&"fixed"===o.style.position&&(i+=n.pageXOffset||document.documentElement.scrollLeft,r+=n.pageYOffset||document.documentElement.scrollTop),{left:i,top:r}},_.prototype.getComputedStyle=function(t){return t.currentStyle||document.defaultView.getComputedStyle(t)},_.prototype.outerWidth=function(t){return t.offsetWidth},_.prototype.outerHeight=function(t){return this.hasCaptionProblem()&&t.firstChild&&"CAPTION"===t.firstChild.nodeName?t.offsetHeight+t.firstChild.offsetHeight:t.offsetHeight},function(){function t(){var t=document.createElement("TABLE");t.style.borderSpacing=0,t.style.borderWidth=0,t.style.padding=0;var e=document.createElement("TBODY");t.appendChild(e),e.appendChild(document.createElement("TR")),e.firstChild.appendChild(document.createElement("TD")),e.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var n=document.createElement("CAPTION");n.innerHTML="c<br>c<br>c<br>c",n.style.padding=0,n.style.margin=0,t.insertBefore(n,e),document.body.appendChild(t),i=t.offsetHeight<2*t.lastChild.offsetHeight,document.body.removeChild(t)}function e(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),(document.body||document.documentElement).appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var n=t.offsetWidth;return i==n&&(n=e.clientWidth),(document.body||document.documentElement).removeChild(e),i-n}var i;_.prototype.hasCaptionProblem=function(){return void 0===i&&t(),i},_.prototype.getCaretPosition=function(t){if(t.selectionStart)return t.selectionStart;if(document.selection){t.focus();var e=document.selection.createRange();if(null==e)return 0;var i=t.createTextRange(),n=i.duplicate();return i.moveToBookmark(e.getBookmark()),n.setEndPoint("EndToStart",i),n.text.length}return 0},_.prototype.setCaretPosition=function(t,e,i){if(void 0===i&&(i=e),t.setSelectionRange)t.focus(),t.setSelectionRange(e,i);else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",e),n.select()}};var n;_.prototype.getScrollbarWidth=function(){return void 0===n&&(n=e()),n}}(),b.prototype.parentCell=function(t){var e={},i=this.instance.wtTable.TABLE,n=this.wtDom.closest(t,["TD","TH"],i);return n&&this.wtDom.isChildOf(n,i)?(e.coords=this.instance.wtTable.getCoords(n),e.TD=n):this.wtDom.hasClass(t,"wtBorder")&&this.wtDom.hasClass(t,"current")&&(e.coords=this.instance.selections.current.selected[0],e.TD=this.instance.wtTable.getCell(e.coords)),e},b.prototype.destroy=function(){clearTimeout(this.dblClickTimeout0),clearTimeout(this.dblClickTimeout1)},n.requestAnimFrame=function(){return n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(t,e){return n.setTimeout(t,1e3/60)}}(),n.cancelRequestAnimFrame=function(){return n.cancelAnimationFrame||n.webkitCancelRequestAnimationFrame||n.mozCancelRequestAnimationFrame||n.oCancelRequestAnimationFrame||n.msCancelRequestAnimationFrame||clearTimeout}(),n.getComputedStyle||!function(){var t,e={getPropertyValue:function(e){return"float"==e&&(e="styleFloat"),t.currentStyle[e.toUpperCase()]||null}};n.getComputedStyle=function(i){return t=i,e}}(),!String.prototype.trim){var Y=/^\s+|\s+$/g;String.prototype.trim=function(){return this.replace(Y,"")}}C.prototype=new f,C.prototype.readSettings=function(t){t.cloneOverlay instanceof w?this.offset=0:this.offset=t.wtSettings.settings.offsetRow,this.total=t.getSetting("totalRows"),this.fixedCount=t.getSetting("fixedRowsTop")},T.prototype=new p,T.prototype.add=function(t,e,i){if(!this.isLastIncomplete()&&0!=this.remainingSize){var n=this.sizeAtIndex(t,e);if(void 0===n)return!1;var r=this.getContainerSize(this.cellSizesSum+n);return i?this.cellSizes.unshift(n):this.cellSizes.push(n),this.cellSizesSum+=n,this.cellCount++,this.remainingSize=this.cellSizesSum-r,!i||!this.isLastIncomplete()}return!1},T.prototype.remove=function(){var t=this.cellSizes.pop();this.cellSizesSum-=t,this.cellCount--,this.remainingSize-=t},T.prototype.removeOutstanding=function(){for(;this.cellCount>0&&this.cellSizes[this.cellCount-1]<this.remainingSize;)this.remove()},S.prototype.scrollVertical=function(t){if(!this.instance.drawn)throw new Error("scrollVertical can only be called after table was drawn to DOM");var e,i=this.instance,n=i.getSetting("offsetRow"),r=i.getSetting("fixedRowsTop"),o=i.getSetting("totalRows"),s=i.wtViewport.getViewportHeight();return e=o>0?this.scrollLogicVertical(t,n,o,r,s,function(t){return r>t-n&&t-n>=0?i.getSetting("rowHeight",t-n):i.getSetting("rowHeight",t)},function(t){i.wtTable.verticalRenderReverse=t}):0,e!==n&&this.instance.wtScrollbars.vertical.scrollTo(e),i},S.prototype.scrollHorizontal=function(t){if(!this.instance.drawn)throw new Error("scrollHorizontal can only be called after table was drawn to DOM");var e,i=this.instance,n=i.getSetting("offsetColumn"),r=i.getSetting("fixedColumnsLeft"),o=i.getSetting("totalColumns"),s=i.wtViewport.getViewportWidth();return e=o>0?this.scrollLogicHorizontal(t,n,o,r,s,function(t){return r>t-n&&t-n>=0?i.getSetting("columnWidth",t-n):i.getSetting("columnWidth",t)}):0,e!==n&&this.instance.wtScrollbars.horizontal.scrollTo(e),i},S.prototype.scrollLogicVertical=function(t,e,i,n,r,o,s){var a=e+t;return a>=i-n&&(a=i-n-1,s(!0)),0>a&&(a=0),a},S.prototype.scrollLogicHorizontal=function(t,e,i,n,r,o){var s,a=e+t,l=0;if(a>n){for(a>=i-n&&(a=i-n-1),s=a;r>l&&i>s;)l+=o(s),s++;if(r>l)for(;a>0&&(l+=o(a-1),r>l);)a--}else 0>a&&(a=0);return a},S.prototype.scrollViewport=function(t){if(this.instance.drawn){var e=this.instance.getSetting("offsetRow"),i=(this.instance.getSetting("offsetColumn"),this.instance.wtTable.getLastVisibleRow()),r=this.instance.getSetting("totalRows"),o=this.instance.getSetting("totalColumns"),s=this.instance.getSetting("fixedRowsTop"),a=this.instance.getSetting("fixedColumnsLeft");if(this.instance.getSetting("nativeScrollbars")){var l=this.instance.wtTable.getCell(t);if("object"==typeof l){var c=_.prototype.offset(l),h=_.prototype.outerWidth(l),u=_.prototype.outerHeight(l),d=this.instance.wtScrollbars.horizontal.getScrollPosition(),f=this.instance.wtScrollbars.vertical.getScrollPosition(),p=_.prototype.outerWidth(this.instance.wtScrollbars.horizontal.scrollHandler),g=_.prototype.outerHeight(this.instance.wtScrollbars.vertical.scrollHandler);return this.instance.wtScrollbars.horizontal.scrollHandler!==n&&(c.left=c.left-_.prototype.offset(this.instance.wtScrollbars.horizontal.scrollHandler).left),this.instance.wtScrollbars.vertical.scrollHandler!==n&&(c.top=c.top-_.prototype.offset(this.instance.wtScrollbars.vertical.scrollHandler).top),p-=20,g-=20,p>h&&(c.left<d?this.instance.wtScrollbars.horizontal.setScrollPosition(c.left):c.left+h>d+p&&this.instance.wtScrollbars.horizontal.setScrollPosition(c.left-p+h)),void(g>u&&(c.top<f?this.instance.wtScrollbars.vertical.setScrollPosition(c.top):c.top+u>f+g&&this.instance.wtScrollbars.vertical.setScrollPosition(c.top-g+u)))}}if(t[0]<0||t[0]>r-1)throw new Error("row "+t[0]+" does not exist");if(t[1]<0||t[1]>o-1)throw new Error("column "+t[1]+" does not exist");if(t[0]>i?(this.scrollVertical(t[0]-s-e),this.instance.wtTable.verticalRenderReverse=!0):t[0]===i&&this.instance.wtTable.rowStrategy.isLastIncomplete()?(this.scrollVertical(t[0]-s-e),this.instance.wtTable.verticalRenderReverse=!0):t[0]-s<e?this.scrollVertical(t[0]-s-e):this.scrollVertical(0),this.instance.wtTable.isColumnBeforeViewport(t[1]))this.instance.wtScrollbars.horizontal.scrollTo(t[1]-a);else if(this.instance.wtTable.isColumnAfterViewport(t[1])||this.instance.wtTable.getLastVisibleColumn()===t[1]&&!this.instance.wtTable.isLastColumnFullyVisible()){for(var m=0,v=0;a>v;v++)m+=this.instance.getSetting("columnWidth",v);var y=t[1];m+=this.instance.getSetting("columnWidth",y);var w=this.instance.wtViewport.getViewportWidth();if(w>m)for(var b=this.instance.getSetting("columnWidth",y-1);w>=m+b&&y>=a;)y--,m+=b,b=this.instance.getSetting("columnWidth",y-1);this.instance.wtScrollbars.horizontal.scrollTo(y-a)}return this.instance;
}},E.prototype.init=function(){var e=this;this.$table=t(this.instance.wtTable.TABLE),this.slider=document.createElement("DIV"),this.sliderStyle=this.slider.style,this.sliderStyle.position="absolute",this.sliderStyle.top="0",this.sliderStyle.left="0",this.sliderStyle.display="none",this.slider.className="dragdealer "+this.type,this.handle=document.createElement("DIV"),this.handleStyle=this.handle.style,this.handle.className="handle",this.slider.appendChild(this.handle),this.container=this.instance.wtTable.holder,this.container.appendChild(this.slider);var i=!0;this.dragTimeout=null;var n,r=function(){e.onScroll(n)};this.dragdealer=new Z(this.slider,{vertical:"vertical"===this.type,horizontal:"horizontal"===this.type,slide:!1,speed:100,animationCallback:function(t,o){return i?void(i=!1):(e.skipRefresh=!0,n="vertical"===e.type?o:t,void(null===e.dragTimeout&&(e.dragTimeout=setInterval(r,100),r())))},callback:function(t,i){e.skipRefresh=!1,clearInterval(e.dragTimeout),e.dragTimeout=null,n="vertical"===e.type?i:t,e.onScroll(n)}}),this.skipRefresh=!1},E.prototype.onScroll=function(t){if(this.instance.drawn&&(this.readSettings(),this.total>this.visibleCount)){var e=Math.round(this.handlePosition*this.total/this.sliderSize);1===t?"vertical"===this.type?this.instance.scrollVertical(1/0).draw():this.instance.scrollHorizontal(1/0).draw():e!==this.offset?"vertical"===this.type?this.instance.scrollVertical(e-this.offset).draw():this.instance.scrollHorizontal(e-this.offset).draw():this.refresh()}},E.prototype.getHandleSizeRatio=function(t,e){return!e||t>e||t==e?1:t/e},E.prototype.prepare=function(){if(!this.skipRefresh){var t=this.getHandleSizeRatio(this.visibleCount,this.total);(1===t||isNaN(t))&&"auto"===this.scrollMode||"none"===this.scrollMode?this.visible=!1:this.visible=!0}},E.prototype.refresh=function(){if(!this.skipRefresh){if(!this.visible)return void(this.sliderStyle.display="none");var t,e,i,n,r=this.visibleCount,o=this.instance.wtViewport.getWorkspaceWidth(),s=this.instance.wtViewport.getWorkspaceHeight();o===1/0&&(o=this.instance.wtViewport.getWorkspaceActualWidth()),s===1/0&&(s=this.instance.wtViewport.getWorkspaceActualHeight()),"vertical"===this.type?(this.instance.wtTable.rowStrategy.isLastIncomplete()&&r--,e=s-2,this.sliderStyle.top=this.instance.wtDom.offset(this.$table[0]).top-this.instance.wtDom.offset(this.container).top+"px",this.sliderStyle.left=o-1+"px",this.sliderStyle.height=Math.max(e,0)+"px"):(e=o-2,this.sliderStyle.left=this.instance.wtDom.offset(this.$table[0]).left-this.instance.wtDom.offset(this.container).left+"px",this.sliderStyle.top=s-1+"px",this.sliderStyle.width=Math.max(e,0)+"px"),t=this.getHandleSizeRatio(r,this.total),i=Math.round(e*t),10>i&&(i=15),n=Math.floor(e*(this.offset/this.total)),i+n>e&&(n=e-i),"vertical"===this.type?(this.handleStyle.height=i+"px",this.handleStyle.top=n+"px"):(this.handleStyle.width=i+"px",this.handleStyle.left=n+"px"),this.sliderStyle.display="block"}},E.prototype.destroy=function(){clearInterval(this.dragdealer.interval)};var q=function(t){this.instance=t,this.type="vertical",this.init()};q.prototype=new E,q.prototype.scrollTo=function(t){this.instance.update("offsetRow",t)},q.prototype.readSettings=function(){this.scrollMode=this.instance.getSetting("scrollV"),this.offset=this.instance.getSetting("offsetRow"),this.total=this.instance.getSetting("totalRows"),this.visibleCount=this.instance.wtTable.rowStrategy.countVisible(),this.visibleCount>1&&this.instance.wtTable.rowStrategy.isLastIncomplete()&&this.visibleCount--,this.handlePosition=parseInt(this.handleStyle.top,10),this.sliderSize=parseInt(this.sliderStyle.height,10),this.fixedCount=this.instance.getSetting("fixedRowsTop")};var G=function(t){this.instance=t,this.type="horizontal",this.init()};G.prototype=new E,G.prototype.scrollTo=function(t){this.instance.update("offsetColumn",t)},G.prototype.readSettings=function(){this.scrollMode=this.instance.getSetting("scrollH"),this.offset=this.instance.getSetting("offsetColumn"),this.total=this.instance.getSetting("totalColumns"),this.visibleCount=this.instance.wtTable.columnStrategy.countVisible(),this.visibleCount>1&&this.instance.wtTable.columnStrategy.isLastIncomplete()&&this.visibleCount--,this.handlePosition=parseInt(this.handleStyle.left,10),this.sliderSize=parseInt(this.sliderStyle.width,10),this.fixedCount=this.instance.getSetting("fixedColumnsLeft")},G.prototype.getHandleSizeRatio=function(t,e){return!e||t>e||t==e?1:t/e},k.prototype=new u,k.prototype.resetFixedPosition=function(){if(this.instance.wtTable.holder.parentNode){var t,e=this.clone.wtTable.holder.parentNode;if(this.scrollHandler===n){t=this.instance.wtTable.hider.getBoundingClientRect();var i=Math.ceil(t.top,10),r=Math.ceil(t.bottom,10);0>i&&r>0?e.style.top="0":e.style.top=i+"px";var o=Math.ceil(t.left,10),s=Math.ceil(t.right,10);0>o&&s>0?e.style.left="0":e.style.left=o+"px"}else t=this.scrollHandler.getBoundingClientRect(),e.style.top=Math.ceil(t.top,10)+"px",e.style.left=Math.ceil(t.left,10)+"px";e.style.width=_.prototype.outerWidth(this.clone.wtTable.TABLE)+4+"px",e.style.height=_.prototype.outerHeight(this.clone.wtTable.TABLE)+4+"px"}},k.prototype.prepare=function(){},k.prototype.refresh=function(t){this.measureBefore=0,this.measureAfter=0,this.clone&&this.clone.draw(t)},k.prototype.getScrollPosition=function(){},k.prototype.getLastCell=function(){},k.prototype.applyToDOM=function(){},k.prototype.scrollTo=function(){},k.prototype.readWindowSize=function(){},k.prototype.readSettings=function(){},R.prototype=new u,R.prototype.resetFixedPosition=function(){if(this.instance.wtTable.holder.parentNode){var t,e=this.clone.wtTable.holder.parentNode;if(this.scrollHandler===n){t=this.instance.wtTable.hider.getBoundingClientRect();var i=Math.ceil(t.left,10),r=Math.ceil(t.right,10);0>i&&r>0?e.style.left="0":e.style.left=i+"px"}else t=this.scrollHandler.getBoundingClientRect(),e.style.top=Math.ceil(t.top,10)+"px",e.style.left=Math.ceil(t.left,10)+"px"}},R.prototype.react=function(){if(this.instance.wtTable.holder.parentNode){var t=this.clone.wtTable.holder.parentNode;if(this.instance.wtScrollbars.vertical.scrollHandler===n){var e=this.instance.wtTable.hider.getBoundingClientRect();t.style.top=Math.ceil(e.top,10)+"px",t.style.height=_.prototype.outerHeight(this.clone.wtTable.TABLE)+"px"}else this.clone.wtTable.holder.style.top=-(this.instance.wtScrollbars.vertical.windowScrollPosition-this.instance.wtScrollbars.vertical.measureBefore)+"px",t.style.height=this.instance.wtViewport.getWorkspaceHeight()+"px";t.style.width=_.prototype.outerWidth(this.clone.wtTable.TABLE)+4+"px"}},R.prototype.prepare=function(){},R.prototype.refresh=function(t){this.measureBefore=0,this.measureAfter=0,this.clone&&this.clone.draw(t)},R.prototype.getScrollPosition=function(){return this.scrollHandler===n?this.scrollHandler.scrollX:this.scrollHandler.scrollLeft},R.prototype.setScrollPosition=function(t){this.scrollHandler.scrollLeft=t},R.prototype.onScroll=function(){u.prototype.onScroll.apply(this,arguments),this.instance.getSetting("onScrollHorizontally")},R.prototype.getLastCell=function(){return this.instance.wtTable.getLastVisibleColumn()},R.prototype.applyToDOM=function(){this.fixedContainer.style.paddingLeft=this.measureBefore+"px",this.fixedContainer.style.paddingRight=this.measureAfter+"px"},R.prototype.scrollTo=function(t){this.$scrollHandler.scrollLeft(this.tableParentOffset+t*this.cellSize)},R.prototype.readWindowSize=function(){this.scrollHandler===n?(this.windowSize=document.documentElement.clientWidth,this.tableParentOffset=this.instance.wtTable.holderOffset.left):(this.windowSize=_.prototype.outerWidth(this.scrollHandler),this.tableParentOffset=0),this.windowScrollPosition=this.getScrollPosition()},R.prototype.readSettings=function(){this.offset=this.instance.getSetting("offsetColumn"),this.total=this.instance.getSetting("totalColumns")},P.prototype=new u,P.prototype.resetFixedPosition=function(){if(this.instance.wtTable.holder.parentNode){var t,e=this.clone.wtTable.holder.parentNode;if(this.scrollHandler===n){t=this.instance.wtTable.hider.getBoundingClientRect();var i=Math.ceil(t.top,10),r=Math.ceil(t.bottom,10);0>i&&r>0?e.style.top="0":e.style.top=i+"px"}else t=this.instance.wtScrollbars.horizontal.scrollHandler.getBoundingClientRect(),e.style.top=Math.ceil(t.top,10)+"px",e.style.left=Math.ceil(t.left,10)+"px";this.instance.wtScrollbars.horizontal.scrollHandler===n?e.style.width=this.instance.wtViewport.getWorkspaceActualWidth()+"px":e.style.width=_.prototype.outerWidth(this.instance.wtTable.holder.parentNode)+"px",e.style.height=_.prototype.outerHeight(this.clone.wtTable.TABLE)+4+"px"}},P.prototype.react=function(){if(this.instance.wtTable.holder.parentNode&&this.instance.wtScrollbars.horizontal.scrollHandler!==n){var t=this.clone.wtTable.holder.parentNode;t.firstChild.style.left=-this.instance.wtScrollbars.horizontal.windowScrollPosition+"px"}},P.prototype.getScrollPosition=function(){return this.scrollHandler===n?this.scrollHandler.scrollY:this.scrollHandler.scrollTop},P.prototype.setScrollPosition=function(t){this.scrollHandler.scrollTop=t},P.prototype.onScroll=function(t){u.prototype.onScroll.apply(this,arguments);var e,i=0;if(e=this.windowScrollPosition-this.tableParentOffset,$=0,e>0){for(var n,r=0,o=0;o<this.total&&(n=this.instance.getSetting("rowHeight",o),r+=n,!(r>e));o++);this.offset>0&&($=r-e),i=o,i=Math.min(i,this.total)}this.curOuts=i>this.maxOuts?this.maxOuts:i,i-=this.curOuts,this.instance.update("offsetRow",i),this.readSettings(),this.instance.draw(),this.instance.getSetting("onScrollVertically")},P.prototype.getLastCell=function(){return this.instance.getSetting("offsetRow")+this.instance.wtTable.tbodyChildrenLength-1};var $=0;P.prototype.sumCellSizes=function(t,e){for(var i=0;e>t;)i+=this.instance.getSetting("rowHeight",t),t++;return i},P.prototype.applyToDOM=function(){var t=this.instance.wtViewport.getColumnHeaderHeight();this.fixedContainer.style.height=t+this.sumCellSizes(0,this.total)+4+"px",this.fixed.style.top=this.measureBefore+"px",this.fixed.style.bottom=""},P.prototype.scrollTo=function(t){var e=this.tableParentOffset+t*this.cellSize;this.$scrollHandler.scrollTop(e),this.onScroll(e)},P.prototype.readWindowSize=function(){this.scrollHandler===n?(this.windowSize=document.documentElement.clientHeight,this.tableParentOffset=this.instance.wtTable.holderOffset.top):(this.windowSize=this.scrollHandler.clientHeight,this.tableParentOffset=0),this.windowScrollPosition=this.getScrollPosition()},P.prototype.readSettings=function(){this.offset=this.instance.getSetting("offsetRow"),this.total=this.instance.getSetting("totalRows")},A.prototype.registerListeners=function(){function e(){return c.instance.wtTable.holder.parentNode?(c.vertical.windowScrollPosition=c.vertical.getScrollPosition(),c.horizontal.windowScrollPosition=c.horizontal.getScrollPosition(),c.box=c.instance.wtTable.hider.getBoundingClientRect(),c.box.width===a&&c.box.height===l||!c.instance.rowHeightCache||(a=c.box.width,l=c.box.height,c.instance.draw()),void(c.vertical.windowScrollPosition===i&&c.horizontal.windowScrollPosition===r&&c.box.top===o&&c.box.left===s||(c.vertical.onScroll(),c.horizontal.onScroll(),c.vertical.react(),c.horizontal.react(),i=c.vertical.windowScrollPosition,r=c.horizontal.windowScrollPosition,o=c.box.top,s=c.box.left))):void c.destroy()}var i,r,o,s,a,l,c=this,h=t(n);this.vertical.$scrollHandler.on("scroll."+this.instance.guid,e),this.vertical.scrollHandler!==this.horizontal.scrollHandler&&this.horizontal.$scrollHandler.on("scroll."+this.instance.guid,e),this.vertical.scrollHandler!==n&&this.horizontal.scrollHandler!==n&&h.on("scroll."+this.instance.guid,e),h.on("load."+this.instance.guid,e),h.on("resize."+this.instance.guid,e),t(document).on("ready."+this.instance.guid,e),setInterval(e,100)},A.prototype.destroy=function(){this.vertical&&this.vertical.destroy(),this.horizontal&&this.horizontal.destroy()},A.prototype.refresh=function(t){this.horizontal&&this.horizontal.readSettings(),this.vertical&&this.vertical.readSettings(),this.horizontal&&this.horizontal.prepare(),this.vertical&&this.vertical.prepare(),this.horizontal&&this.horizontal.refresh(t),this.vertical&&this.vertical.refresh(t),this.corner&&this.corner.refresh(t),this.debug&&this.debug.refresh(t)},O.prototype.add=function(t){this.selected.push(t)},O.prototype.clear=function(){this.selected.length=0},O.prototype.getCorners=function(){var t,e,i,n,r,o=this.selected.length;if(o>0&&(t=i=this.selected[0][0],e=n=this.selected[0][1],o>1))for(r=1;o>r;r++)this.selected[r][0]<t?t=this.selected[r][0]:this.selected[r][0]>i&&(i=this.selected[r][0]),this.selected[r][1]<e?e=this.selected[r][1]:this.selected[r][1]>n&&(n=this.selected[r][1]);return[t,e,i,n]},O.prototype.draw=function(){var t,e,i,n,r,o=this.instance.wtTable.rowStrategy.countVisible(),s=this.instance.wtTable.columnStrategy.countVisible();if(this.selected.length){for(t=this.getCorners(),e=0;o>e;e++)for(i=0;s>i;i++)n=this.instance.wtTable.rowFilter.visibleToSource(e),r=this.instance.wtTable.columnFilter.visibleToSource(i),n>=t[0]&&n<=t[2]&&r>=t[1]&&r<=t[3]?this.instance.wtTable.currentCellCache.add(e,i,this.settings.className):n>=t[0]&&n<=t[2]?this.instance.wtTable.currentCellCache.add(e,i,this.settings.highlightRowClassName):r>=t[1]&&r<=t[3]&&this.instance.wtTable.currentCellCache.add(e,i,this.settings.highlightColumnClassName);this.border&&this.border.appear(t)}else this.border&&this.border.disappear()},N.prototype.update=function(t,e){if(void 0===e)for(var i in t)t.hasOwnProperty(i)&&(this.settings[i]=t[i]);else this.settings[t]=e;return this.instance},N.prototype.getSetting=function(t,e,i,n){return this[t]?this[t](e,i,n):this._getSetting(t,e,i,n)},N.prototype._getSetting=function(t,e,i,n){return"function"==typeof this.settings[t]?this.settings[t](e,i,n):void 0!==e&&"[object Array]"===Object.prototype.toString.call(this.settings[t])?this.settings[t][e]:this.settings[t]},N.prototype.has=function(t){return!!this.settings[t]},N.prototype.rowHeight=function(t,e){if(this.instance.rowHeightCache||(this.instance.rowHeightCache=[]),void 0===this.instance.rowHeightCache[t]){var i=23;return e&&(i=this.instance.wtDom.outerHeight(e),this.instance.rowHeightCache[t]=i),i}return this.instance.rowHeightCache[t]},D.prototype.refreshHiderDimensions=function(){var t=this.instance.wtViewport.getWorkspaceHeight(),e=this.instance.wtViewport.getWorkspaceWidth(),i=this.spreader.style;t===1/0&&e===1/0||this.instance.getSetting("nativeScrollbars")?(i.position="relative",i.width="auto",i.height="auto"):(t===1/0&&(t=this.instance.wtViewport.getWorkspaceActualHeight()),e===1/0&&(e=this.instance.wtViewport.getWorkspaceActualWidth()),this.hiderStyle.overflow="hidden",i.position="absolute",i.top="0",i.left="0",this.instance.getSetting("nativeScrollbars")||(i.height="4000px",i.width="4000px"),0>t&&(t=0),this.hiderStyle.height=t+"px",this.hiderStyle.width=e+"px")},D.prototype.refreshStretching=function(){if(!this.instance.cloneSource){var t=this.instance,e=t.getSetting("stretchH"),i=t.getSetting("totalRows"),n=t.getSetting("totalColumns"),r=t.getSetting("offsetColumn"),o=function(t){var e=s.instance.wtViewport.getViewportWidth(t);return t>e&&s.instance.getSetting("nativeScrollbars")?1/0:e},s=this,a=function(e){var i=s.columnFilter.visibleToSource(e);return n>i?t.getSetting("columnWidth",i):void 0};"hybrid"===e&&(e=r>0?"last":"none");var l=function(t){return s.instance.getSetting("nativeScrollbars")?s.instance.cloneOverlay instanceof w?1/0:2*s.instance.wtViewport.getViewportHeight(t):s.instance.wtViewport.getViewportHeight(t)},c=function(t,e){if(s.instance.getSetting("nativeScrollbars"))return 20;var n=s.rowFilter.visibleToSource(t);return i>n?s.verticalRenderReverse&&0===t?s.instance.getSetting("rowHeight",n,e)-1:s.instance.getSetting("rowHeight",n,e):void 0};this.columnStrategy=new v(t,o,a,e),this.rowStrategy=new T(t,l,c)}},D.prototype.adjustAvailableNodes=function(){for(var t,e,i,n,r=this.instance.getSetting("rowHeaders"),o=r.length,s=this.instance.getSetting("columnHeaders");this.colgroupChildrenLength<o;)this.COLGROUP.appendChild(document.createElement("COL")),this.colgroupChildrenLength++;for(this.refreshStretching(),t=this.instance.cloneSource&&(this.instance.cloneOverlay instanceof R||this.instance.cloneOverlay instanceof k)?this.instance.getSetting("fixedColumnsLeft"):this.columnStrategy.cellCount;this.colgroupChildrenLength<t+o;)this.COLGROUP.appendChild(document.createElement("COL")),this.colgroupChildrenLength++;for(;this.colgroupChildrenLength>t+o;)this.COLGROUP.removeChild(this.COLGROUP.lastChild),this.colgroupChildrenLength--;if(e=this.THEAD.firstChild,s.length){for(e||(e=document.createElement("TR"),this.THEAD.appendChild(e)),this.theadChildrenLength=e.childNodes.length;this.theadChildrenLength<t+o;)e.appendChild(document.createElement("TH")),this.theadChildrenLength++;for(;this.theadChildrenLength>t+o;)e.removeChild(e.lastChild),this.theadChildrenLength--}else e&&this.wtDom.empty(e);for(n=0;n<this.colgroupChildrenLength;n++)o>n?this.wtDom.addClass(this.COLGROUP.childNodes[n],"rowHeader"):this.wtDom.removeClass(this.COLGROUP.childNodes[n],"rowHeader");if(s.length&&(e=this.THEAD.firstChild,o))for(i=e.firstChild,n=0;o>n;n++)r[n](-o+n,i),i=i.nextSibling;for(n=0;t>n;n++)s.length&&s[0](this.columnFilter.visibleToSource(n),e.childNodes[o+n])},D.prototype.adjustColumns=function(t,e){for(var i=t.childNodes.length;e>i;){var n=document.createElement("TD");t.appendChild(n),i++}for(;i>e;)t.removeChild(t.lastChild),i--},D.prototype.draw=function(t){return this.instance.getSetting("nativeScrollbars")&&(this.verticalRenderReverse=!1),this.rowFilter.readSettings(this.instance),this.columnFilter.readSettings(this.instance),t?this.instance.wtScrollbars&&this.instance.wtScrollbars.refresh(!0):(this.instance.getSetting("nativeScrollbars")?this.instance.cloneSource?this.tableOffset=this.instance.cloneSource.wtTable.tableOffset:(this.holderOffset=this.wtDom.offset(this.holder),this.tableOffset=this.wtDom.offset(this.TABLE),this.instance.wtScrollbars.vertical.readWindowSize(),this.instance.wtScrollbars.horizontal.readWindowSize(),this.instance.wtViewport.resetSettings()):(this.tableOffset=this.wtDom.offset(this.TABLE),this.instance.wtViewport.resetSettings()),this._doDraw()),this.refreshPositions(t),t||this.instance.getSetting("nativeScrollbars")&&(this.instance.cloneSource||(this.instance.wtScrollbars.vertical.resetFixedPosition(),this.instance.wtScrollbars.horizontal.resetFixedPosition(),this.instance.wtScrollbars.corner.resetFixedPosition(),this.instance.wtScrollbars.debug&&this.instance.wtScrollbars.debug.resetFixedPosition())),this.instance.drawn=!0,this},D.prototype._doDraw=function(){var t,e,i,n,r,o,s,a,l,c,h=0,u=this.instance.getSetting("offsetRow"),d=this.instance.getSetting("totalRows"),f=this.instance.getSetting("totalColumns"),p=this.instance.getSetting("rowHeaders"),g=p.length,m=!1;this.verticalRenderReverse&&(l=u);var v=!1;if(this.verticalRenderReverse&&(u===d-this.rowFilter.fixedCount-1?v=!0:(this.instance.update("offsetRow",u+1),this.rowFilter.readSettings(this.instance))),this.instance.cloneSource&&(this.columnStrategy=this.instance.cloneSource.wtTable.columnStrategy,this.rowStrategy=this.instance.cloneSource.wtTable.rowStrategy),f>0){t=this.rowFilter.visibleToSource(h);var y,_=this.instance.getSetting("fixedRowsTop");for(this.instance.cloneSource&&(this.instance.cloneOverlay instanceof P||this.instance.cloneOverlay instanceof k?y=_:this.instance.cloneOverlay instanceof R&&(y=this.rowStrategy.countVisible())),this.adjustAvailableNodes(),m=!0,n=this.instance.cloneSource&&(this.instance.cloneOverlay instanceof R||this.instance.cloneOverlay instanceof k)?this.instance.getSetting("fixedColumnsLeft"):this.columnStrategy.cellCount,this.instance.cloneSource||(a=this.instance.wtViewport.getWorkspaceWidth(),this.columnStrategy.stretch()),e=0;n>e;e++)this.COLGROUP.childNodes[e+g].style.width=this.columnStrategy.getSize(e)+"px";for(;d>t&&t>=0;){if(h>1e3)throw new Error("Security brake: Too much TRs. Please define height for your table, which will enforce scrollbars.");if(void 0!==y&&h===y)break;if(h>=this.tbodyChildrenLength||this.verticalRenderReverse&&h>=this.rowFilter.fixedCount){for(r=document.createElement("TR"),e=0;g>e;e++)r.appendChild(document.createElement("TH"));this.verticalRenderReverse&&h>=this.rowFilter.fixedCount?this.TBODY.insertBefore(r,this.TBODY.childNodes[this.rowFilter.fixedCount]||this.TBODY.firstChild):this.TBODY.appendChild(r),this.tbodyChildrenLength++}else r=0===h?this.TBODY.firstChild:r.nextSibling;for(s=r.firstChild,e=0;g>e;e++)"TD"==s.nodeName&&(o=s,s=document.createElement("TH"),r.insertBefore(s,o),r.removeChild(o)),p[e](t,s),s=s.nextSibling;for(this.adjustColumns(r,n+g),e=0;n>e;e++)i=this.columnFilter.visibleToSource(e),o=0===e?r.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(i)]:o.nextSibling,"TH"==o.nodeName&&(s=o,o=document.createElement("TD"),r.insertBefore(o,s),r.removeChild(s)),o.className="",o.removeAttribute("style"),this.instance.getSetting("cellRenderer",t,i,o);if(u=this.instance.getSetting("offsetRow"),this.verticalRenderReverse&&v){if(-this.wtDom.outerHeight(r.firstChild)<this.rowStrategy.remainingSize){this.TBODY.removeChild(r),this.instance.update("offsetRow",u+1),this.tbodyChildrenLength--,this.rowFilter.readSettings(this.instance);break}this.instance.cloneSource||(c=this.rowStrategy.add(h,o,this.verticalRenderReverse),c===!1&&this.rowStrategy.removeOutstanding())}else if(!this.instance.cloneSource&&(c=this.rowStrategy.add(h,o,this.verticalRenderReverse),c===!1&&(this.instance.getSetting("nativeScrollbars")||this.rowStrategy.removeOutstanding()),this.rowStrategy.isLastIncomplete())){if(this.verticalRenderReverse&&!this.isRowInViewport(l))return this.verticalRenderReverse=!1,this.instance.update("offsetRow",l),void this.draw();break}if(this.instance.getSetting("nativeScrollbars")&&(this.instance.cloneSource?r.style.height=this.instance.getSetting("rowHeight",t)+"px":this.instance.getSetting("rowHeight",t,o)),this.verticalRenderReverse&&h>=this.rowFilter.fixedCount){if(0===u)break;this.instance.update("offsetRow",u-1),this.rowFilter.readSettings(this.instance)}else h++;t=this.rowFilter.visibleToSource(h)}}if(m||this.adjustAvailableNodes(),!(this.instance.cloneOverlay instanceof w))for(h=this.rowStrategy.countVisible();this.tbodyChildrenLength>h;)this.TBODY.removeChild(this.TBODY.lastChild),this.tbodyChildrenLength--;if(this.instance.wtScrollbars&&this.instance.wtScrollbars.refresh(!1),!this.instance.cloneSource&&a!==this.instance.wtViewport.getWorkspaceWidth())for(this.columnStrategy.stretch(),e=0;e<this.columnStrategy.cellCount;e++)this.COLGROUP.childNodes[e+g].style.width=this.columnStrategy.getSize(e)+"px";this.verticalRenderReverse=!1},D.prototype.refreshPositions=function(t){this.refreshHiderDimensions(),this.refreshSelections(t)},D.prototype.refreshSelections=function(t){var e,i,n,r,o,s,a=[],l=this.rowStrategy.countVisible(),c=this.columnStrategy.countVisible();if(this.oldCellCache=this.currentCellCache,this.currentCellCache=new g,this.instance.selections)for(i in this.instance.selections)this.instance.selections.hasOwnProperty(i)&&(this.instance.selections[i].draw(),this.instance.selections[i].settings.className&&a.push(this.instance.selections[i].settings.className),this.instance.selections[i].settings.highlightRowClassName&&a.push(this.instance.selections[i].settings.highlightRowClassName),this.instance.selections[i].settings.highlightColumnClassName&&a.push(this.instance.selections[i].settings.highlightColumnClassName));for(s=a.length,e=0;l>e;e++)for(n=0;c>n;n++)for(i=this.rowFilter.visibleToSource(e),r=this.columnFilter.visibleToSource(n),o=0;s>o;o++)this.currentCellCache.test(e,n,a[o])?this.wtDom.addClass(this.getCell([i,r]),a[o]):t&&this.oldCellCache.test(e,n,a[o])&&this.wtDom.removeClass(this.getCell([i,r]),a[o])},D.prototype.getCell=function(t){return this.isRowBeforeViewport(t[0])?-1:this.isRowAfterViewport(t[0])?-2:this.isColumnBeforeViewport(t[1])?-3:this.isColumnAfterViewport(t[1])?-4:this.TBODY.childNodes[this.rowFilter.sourceToVisible(t[0])].childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t[1])]},D.prototype.getCoords=function(t){return[this.rowFilter.visibleToSource(this.wtDom.index(t.parentNode)),this.columnFilter.visibleRowHeadedColumnToSourceColumn(t.cellIndex)]},D.prototype.getLastVisibleRow=function(){return this.rowFilter.visibleToSource(this.rowStrategy.cellCount-1)},D.prototype.getLastVisibleColumn=function(){return this.columnFilter.visibleToSource(this.columnStrategy.cellCount-1)},D.prototype.isRowBeforeViewport=function(t){return this.rowFilter.sourceToVisible(t)<this.rowFilter.fixedCount&&t>=this.rowFilter.fixedCount},D.prototype.isRowAfterViewport=function(t){return t>this.getLastVisibleRow()},D.prototype.isColumnBeforeViewport=function(t){return this.columnFilter.sourceToVisible(t)<this.columnFilter.fixedCount&&t>=this.columnFilter.fixedCount},D.prototype.isColumnAfterViewport=function(t){return t>this.getLastVisibleColumn()},D.prototype.isRowInViewport=function(t){return!this.isRowBeforeViewport(t)&&!this.isRowAfterViewport(t)},D.prototype.isColumnInViewport=function(t){return!this.isColumnBeforeViewport(t)&&!this.isColumnAfterViewport(t)},D.prototype.isLastRowFullyVisible=function(){return this.getLastVisibleRow()===this.instance.getSetting("totalRows")-1&&!this.rowStrategy.isLastIncomplete()},D.prototype.isLastColumnFullyVisible=function(){return this.getLastVisibleColumn()===this.instance.getSetting("totalColumns")-1&&!this.columnStrategy.isLastIncomplete()},M.prototype.getWorkspaceHeight=function(t){if(this.instance.getSetting("nativeScrollbars"))return this.instance.wtScrollbars.vertical.windowSize;var e=this.instance.getSetting("height");return(e===1/0||void 0===e||null===e||1>e)&&(e=this.instance.wtScrollbars.vertical instanceof u?this.instance.wtScrollbars.vertical.availableSize():1/0),e!==1/0&&(t>=e?e-=this.instance.getSetting("scrollbarHeight"):this.instance.wtScrollbars.horizontal.visible&&(e-=this.instance.getSetting("scrollbarHeight"))),e},M.prototype.getWorkspaceWidth=function(t){var e=this.instance.getSetting("width");return(e===1/0||void 0===e||null===e||1>e)&&(e=this.instance.wtScrollbars.horizontal instanceof u?this.instance.wtScrollbars.horizontal.availableSize():1/0),e!==1/0&&(t>=e?e-=this.instance.getSetting("scrollbarWidth"):this.instance.wtScrollbars.vertical.visible&&(e-=this.instance.getSetting("scrollbarWidth"))),e},M.prototype.getWorkspaceActualHeight=function(){return this.instance.wtDom.outerHeight(this.instance.wtTable.TABLE)},M.prototype.getWorkspaceActualWidth=function(){return this.instance.wtDom.outerWidth(this.instance.wtTable.TABLE)||this.instance.wtDom.outerWidth(this.instance.wtTable.TBODY)||this.instance.wtDom.outerWidth(this.instance.wtTable.THEAD)},M.prototype.getColumnHeaderHeight=function(){if(isNaN(this.columnHeaderHeight)){var t=this.instance.wtDom.offset(this.instance.wtTable.TBODY),e=this.instance.wtTable.tableOffset;this.columnHeaderHeight=t.top-e.top}return this.columnHeaderHeight},M.prototype.getViewportHeight=function(t){var e=this.getWorkspaceHeight(t);if(e===1/0)return e;var i=this.getColumnHeaderHeight();return i>0?e-i:e},M.prototype.getRowHeaderWidth=function(){if(this.instance.cloneSource)return this.instance.cloneSource.wtViewport.getRowHeaderWidth();if(isNaN(this.rowHeaderWidth)){var t=this.instance.getSetting("rowHeaders");if(t.length){var e=this.instance.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(var i=0,n=t.length;n>i;i++)e?(this.rowHeaderWidth+=this.instance.wtDom.outerWidth(e),e=e.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0}return this.rowHeaderWidth},M.prototype.getViewportWidth=function(t){var e=this.getWorkspaceWidth(t);if(e===1/0)return e;var i=this.getRowHeaderWidth();return i>0?e-i:e},M.prototype.resetSettings=function(){this.rowHeaderWidth=NaN,this.columnHeaderHeight=NaN},t(document).ready(function(){t(".charts_window").on("mousemove",function(t){Q.refresh(t)})});var Q={x:0,y:0,init:function(){this.setEvent("mouse"),this.setEvent("touch")},setEvent:function(e){var i=document["on"+e+"move"]||function(){};t(".charts_window").on("mousemove",function(t){i(t),Q.refresh(t)})},refresh:function(t){t||(t=n.event),"mousemove"==t.type?this.set(t):t.touches&&this.set(t.touches[0])},set:function(t){t.pageX||t.pageY?(this.x=t.pageX,this.y=t.pageY):document.body&&(t.clientX||t.clientY)&&(this.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop)}};Q.init();var K={get:function(t){var e=0,i=0;if(t.offsetParent)do i+=t.offsetLeft,e+=t.offsetTop;while(t=t.offsetParent);return[i,e]}},Z=function(t,e){if("string"==typeof t&&(t=document.getElementById(t)),t){var i=t.getElementsByTagName("div")[0];i&&-1!=i.className.search(/(^|\s)handle(\s|$)/)&&(this.init(t,i,e||{}),this.setup())}};Z.prototype={init:function(t,e,i){this.wrapper=t,this.handle=e,this.options=i,this.disabled=this.getOption("disabled",!1),this.horizontal=this.getOption("horizontal",!0),this.vertical=this.getOption("vertical",!1),this.slide=this.getOption("slide",!0),this.steps=this.getOption("steps",0),this.snap=this.getOption("snap",!1),this.loose=this.getOption("loose",!1),this.speed=this.getOption("speed",10)/100,this.xPrecision=this.getOption("xPrecision",0),this.yPrecision=this.getOption("yPrecision",0),this.callback=i.callback||null,this.animationCallback=i.animationCallback||null,this.bounds={left:i.left||0,right:-(i.right||0),top:i.top||0,bottom:-(i.bottom||0),x0:0,x1:0,xRange:0,y0:0,y1:0,yRange:0},this.value={prev:[-1,-1],current:[i.x||0,i.y||0],target:[i.x||0,i.y||0]},this.offset={wrapper:[0,0],mouse:[0,0],prev:[-999999,-999999],current:[0,0],target:[0,0]},this.change=[0,0],this.activity=!1,this.dragging=!1,this.tapping=!1},getOption:function(t,e){return void 0!==this.options[t]?this.options[t]:e},setup:function(){this.setWrapperOffset(),this.setBoundsPadding(),this.setBounds(),this.setSteps(),this.addListeners()},setWrapperOffset:function(){this.offset.wrapper=K.get(this.wrapper)},setBoundsPadding:function(){this.bounds.left||this.bounds.right||(this.bounds.left=K.get(this.handle)[0]-this.offset.wrapper[0],this.bounds.right=-this.bounds.left),this.bounds.top||this.bounds.bottom||(this.bounds.top=K.get(this.handle)[1]-this.offset.wrapper[1],this.bounds.bottom=-this.bounds.top)},setBounds:function(){this.bounds.x0=this.bounds.left,this.bounds.x1=this.wrapper.offsetWidth+this.bounds.right,this.bounds.xRange=this.bounds.x1-this.bounds.x0-this.handle.offsetWidth,this.bounds.y0=this.bounds.top,this.bounds.y1=this.wrapper.offsetHeight+this.bounds.bottom,this.bounds.yRange=this.bounds.y1-this.bounds.y0-this.handle.offsetHeight,this.bounds.xStep=1/(this.xPrecision||Math.max(this.wrapper.offsetWidth,this.handle.offsetWidth)),this.bounds.yStep=1/(this.yPrecision||Math.max(this.wrapper.offsetHeight,this.handle.offsetHeight))},setSteps:function(){if(this.steps>1){this.stepRatios=[];for(var t=0;t<=this.steps-1;t++)this.stepRatios[t]=t/(this.steps-1)}},addListeners:function(){var t=this;this.wrapper.onselectstart=function(){return!1},this.handle.onmousedown=this.handle.ontouchstart=function(e){t.handleDownHandler(e)},this.wrapper.onmousedown=this.wrapper.ontouchstart=function(e){t.wrapperDownHandler(e)};var e=document.onmouseup||function(){};document.onmouseup=function(i){e(i),t.documentUpHandler(i)};var i=document.ontouchend||function(){};document.ontouchend=function(e){i(e),t.documentUpHandler(e)};var r=n.onresize||function(){};n.onresize=function(e){r(e),t.documentResizeHandler(e)},this.wrapper.onmousemove=function(e){t.activity=!0},this.wrapper.onclick=function(e){return!t.activity},this.interval=setInterval(function(){t.animate()},25),t.animate(!1,!0)},handleDownHandler:function(t){this.activity=!1,Q.refresh(t),this.preventDefaults(t,!0),this.startDrag();
},wrapperDownHandler:function(t){Q.refresh(t),this.preventDefaults(t,!0),this.startTap()},documentUpHandler:function(t){this.stopDrag(),this.stopTap()},documentResizeHandler:function(t){this.setWrapperOffset(),this.setBounds(),this.update()},enable:function(){this.disabled=!1,this.handle.className=this.handle.className.replace(/\s?disabled/g,"")},disable:function(){this.disabled=!0,this.handle.className+=" disabled"},setStep:function(t,e,i){this.setValue(this.steps&&t>1?(t-1)/(this.steps-1):0,this.steps&&e>1?(e-1)/(this.steps-1):0,i)},setValue:function(t,e,i){this.setTargetValue([t,e||0]),i&&this.groupCopy(this.value.current,this.value.target)},startTap:function(t){this.disabled||(this.tapping=!0,this.setWrapperOffset(),this.setBounds(),void 0===t&&(t=[Q.x-this.offset.wrapper[0]-this.handle.offsetWidth/2,Q.y-this.offset.wrapper[1]-this.handle.offsetHeight/2]),this.setTargetOffset(t))},stopTap:function(){!this.disabled&&this.tapping&&(this.tapping=!1,this.setTargetValue(this.value.current),this.result())},startDrag:function(){this.disabled||(this.setWrapperOffset(),this.setBounds(),this.offset.mouse=[Q.x-K.get(this.handle)[0],Q.y-K.get(this.handle)[1]],this.dragging=!0)},stopDrag:function(){if(!this.disabled&&this.dragging){this.dragging=!1;var t=this.groupClone(this.value.current);if(this.slide){var e=this.change;t[0]+=4*e[0],t[1]+=4*e[1]}this.setTargetValue(t),this.result()}},feedback:function(){var t=this.value.current;this.snap&&this.steps>1&&(t=this.getClosestSteps(t)),this.groupCompare(t,this.value.prev)||("function"==typeof this.animationCallback&&this.animationCallback(t[0],t[1]),this.groupCopy(this.value.prev,t))},result:function(){"function"==typeof this.callback&&this.callback(this.value.target[0],this.value.target[1])},animate:function(t,e){if(!t||this.dragging){if(this.dragging){var i=this.groupClone(this.value.target),n=[Q.x-this.offset.wrapper[0]-this.offset.mouse[0],Q.y-this.offset.wrapper[1]-this.offset.mouse[1]];this.setTargetOffset(n,this.loose),this.change=[this.value.target[0]-i[0],this.value.target[1]-i[1]]}(this.dragging||e)&&this.groupCopy(this.value.current,this.value.target),(this.dragging||this.glide()||e)&&(this.update(),this.feedback())}},glide:function(){var t=[this.value.target[0]-this.value.current[0],this.value.target[1]-this.value.current[1]];return t[0]||t[1]?(Math.abs(t[0])>this.bounds.xStep||Math.abs(t[1])>this.bounds.yStep?(this.value.current[0]+=t[0]*this.speed,this.value.current[1]+=t[1]*this.speed):this.groupCopy(this.value.current,this.value.target),!0):!1},update:function(){this.snap?this.offset.current=this.getOffsetsByRatios(this.getClosestSteps(this.value.current)):this.offset.current=this.getOffsetsByRatios(this.value.current),this.show()},show:function(){this.groupCompare(this.offset.current,this.offset.prev)||(this.horizontal&&(this.handle.style.left=String(this.offset.current[0])+"px"),this.vertical&&(this.handle.style.top=String(this.offset.current[1])+"px"),this.groupCopy(this.offset.prev,this.offset.current))},setTargetValue:function(t,e){var i=e?this.getLooseValue(t):this.getProperValue(t);this.groupCopy(this.value.target,i),this.offset.target=this.getOffsetsByRatios(i)},setTargetOffset:function(t,e){var i=this.getRatiosByOffsets(t),n=e?this.getLooseValue(i):this.getProperValue(i);this.groupCopy(this.value.target,n),this.offset.target=this.getOffsetsByRatios(n)},getLooseValue:function(t){var e=this.getProperValue(t);return[e[0]+(t[0]-e[0])/4,e[1]+(t[1]-e[1])/4]},getProperValue:function(t){var e=this.groupClone(t);return e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0),e[0]=Math.min(e[0],1),e[1]=Math.min(e[1],1),(!this.dragging&&!this.tapping||this.snap)&&this.steps>1&&(e=this.getClosestSteps(e)),e},getRatiosByOffsets:function(t){return[this.getRatioByOffset(t[0],this.bounds.xRange,this.bounds.x0),this.getRatioByOffset(t[1],this.bounds.yRange,this.bounds.y0)]},getRatioByOffset:function(t,e,i){return e?(t-i)/e:0},getOffsetsByRatios:function(t){return[this.getOffsetByRatio(t[0],this.bounds.xRange,this.bounds.x0),this.getOffsetByRatio(t[1],this.bounds.yRange,this.bounds.y0)]},getOffsetByRatio:function(t,e,i){return Math.round(t*e)+i},getClosestSteps:function(t){return[this.getClosestStep(t[0]),this.getClosestStep(t[1])]},getClosestStep:function(t){for(var e=0,i=1,n=0;n<=this.steps-1;n++)Math.abs(this.stepRatios[n]-t)<i&&(i=Math.abs(this.stepRatios[n]-t),e=n);return this.stepRatios[e]},groupCompare:function(t,e){return t[0]==e[0]&&t[1]==e[1]},groupCopy:function(t,e){t[0]=e[0],t[1]=e[1]},groupClone:function(t){return[t[0],t[1]]},preventDefaults:function(t,e){t||(t=n.event),t.preventDefault&&t.preventDefault(),t.returnValue=!1,e&&document.selection&&document.selection.empty()},cancelEvent:function(t){t||(t=n.event),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0}},function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof i?e.exports=t:t(jQuery)}(function(t){function e(e){var o,s=e||n.event,a=[].slice.call(arguments,1),l=0,c=0,h=0,u=0,d=0;return e=t.event.fix(s),e.type="mousewheel",s.wheelDelta&&(l=s.wheelDelta),s.detail&&(l=-1*s.detail),s.deltaY&&(h=-1*s.deltaY,l=h),s.deltaX&&(c=s.deltaX,l=-1*c),void 0!==s.wheelDeltaY&&(h=s.wheelDeltaY),void 0!==s.wheelDeltaX&&(c=-1*s.wheelDeltaX),u=Math.abs(l),(!i||i>u)&&(i=u),d=Math.max(Math.abs(h),Math.abs(c)),(!r||r>d)&&(r=d),o=l>0?"floor":"ceil",l=Math[o](l/i),c=Math[o](c/r),h=Math[o](h/r),a.unshift(e,l,c,h),(t.event.dispatch||t.event.handle).apply(this,a)}var i,r,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(t.event.fixHooks)for(var a=o.length;a;)t.event.fixHooks[o[--a]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=s.length;t;)this.addEventListener(s[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=s.length;t;)this.removeEventListener(s[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})}(jQuery,window,n),function(){function t(t){this._n=t}function i(t,e,i){var n,r=Math.pow(10,e);if(n=(Math.round(t*r)/r).toFixed(e),i){var o=new RegExp("0{1,"+i+"}$");n=n.replace(o,"")}return n}function n(t,e){var i;return i=e.indexOf("$")>-1?o(t,e):e.indexOf("%")>-1?s(t,e):e.indexOf(":")>-1?a(t,e):c(t,e)}function r(t,e){if(e.indexOf(":")>-1)t._n=l(e);else if(e===g)t._n=0;else{var i=e;"."!==f[p].delimiters.decimal&&(e=e.replace(/\./g,"").replace(f[p].delimiters.decimal,"."));for(var n=new RegExp(f[p].abbreviations.thousand+"(?:\\)|(\\"+f[p].currency.symbol+")?(?:\\))?)?$"),r=new RegExp(f[p].abbreviations.million+"(?:\\)|(\\"+f[p].currency.symbol+")?(?:\\))?)?$"),o=new RegExp(f[p].abbreviations.billion+"(?:\\)|(\\"+f[p].currency.symbol+")?(?:\\))?)?$"),s=new RegExp(f[p].abbreviations.trillion+"(?:\\)|(\\"+f[p].currency.symbol+")?(?:\\))?)?$"),a=["KB","MB","GB","TB","PB","EB","ZB","YB"],c=!1,h=0;h<=a.length&&!(c=e.indexOf(a[h])>-1?Math.pow(1024,h+1):!1);h++);t._n=(c?c:1)*(i.match(n)?Math.pow(10,3):1)*(i.match(r)?Math.pow(10,6):1)*(i.match(o)?Math.pow(10,9):1)*(i.match(s)?Math.pow(10,12):1)*(e.indexOf("%")>-1?.01:1)*Number((e.indexOf("(")>-1?"-":"")+e.replace(/[^0-9\.-]+/g,"")),t._n=c?Math.ceil(t._n):t._n}return t._n}function o(t,e){var i=e.indexOf("$")<=1,r="";e.indexOf(" $")>-1?(r=" ",e=e.replace(" $","")):e.indexOf("$ ")>-1?(r=" ",e=e.replace("$ ","")):e=e.replace("$","");var o=n(t,e);return i?o.indexOf("(")>-1||o.indexOf("-")>-1?(o=o.split(""),o.splice(1,0,f[p].currency.symbol+r),o=o.join("")):o=f[p].currency.symbol+r+o:o.indexOf(")")>-1?(o=o.split(""),o.splice(-1,0,r+f[p].currency.symbol),o=o.join("")):o=o+r+f[p].currency.symbol,o}function s(t,e){var i="";e.indexOf(" %")>-1?(i=" ",e=e.replace(" %","")):e=e.replace("%",""),t._n=100*t._n;var r=n(t,e);return r.indexOf(")")>-1?(r=r.split(""),r.splice(-1,0,i+"%"),r=r.join("")):r=r+i+"%",r}function a(t,e){var i=Math.floor(t._n/60/60),n=Math.floor((t._n-60*i*60)/60),r=Math.round(t._n-60*i*60-60*n);return i+":"+(10>n?"0"+n:n)+":"+(10>r?"0"+r:r)}function l(t){var e=t.split(":"),i=0;return 3===e.length?(i+=60*Number(e[0])*60,i+=60*Number(e[1]),i+=Number(e[2])):2===e.lenght&&(i+=60*Number(e[0]),i+=Number(e[1])),Number(i)}function c(t,e){var n=!1,r=!1,o="",s="",a="",l=Math.abs(t._n);if(0===t._n&&null!==g)return g;if(e.indexOf("(")>-1&&(n=!0,e=e.slice(1,-1)),e.indexOf("a")>-1&&(e.indexOf(" a")>-1?(o=" ",e=e.replace(" a","")):e=e.replace("a",""),l>=Math.pow(10,12)?(o+=f[p].abbreviations.trillion,t._n=t._n/Math.pow(10,12)):l<Math.pow(10,12)&&l>=Math.pow(10,9)?(o+=f[p].abbreviations.billion,t._n=t._n/Math.pow(10,9)):l<Math.pow(10,9)&&l>=Math.pow(10,6)?(o+=f[p].abbreviations.million,t._n=t._n/Math.pow(10,6)):l<Math.pow(10,6)&&l>=Math.pow(10,3)&&(o+=f[p].abbreviations.thousand,t._n=t._n/Math.pow(10,3))),e.indexOf("b")>-1){e.indexOf(" b")>-1?(s=" ",e=e.replace(" b","")):e=e.replace("b","");for(var c,h,u=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],d=0;d<=u.length;d++)if(c=Math.pow(1024,d),h=Math.pow(1024,d+1),t._n>=c&&t._n<h){s+=u[d],c>0&&(t._n=t._n/c);break}}e.indexOf("o")>-1&&(e.indexOf(" o")>-1?(a=" ",e=e.replace(" o","")):e=e.replace("o",""),a+=f[p].ordinal(t._n)),e.indexOf("[.]")>-1&&(r=!0,e=e.replace("[.]","."));var m=t._n.toString().split(".")[0],v=e.split(".")[1],y=e.indexOf(","),w="",_=!1;return v?(v.indexOf("[")>-1?(v=v.replace("]",""),v=v.split("["),w=i(t._n,v[0].length+v[1].length,v[1].length)):w=i(t._n,v.length),m=w.split(".")[0],w=w.split(".")[1].length?f[p].delimiters.decimal+w.split(".")[1]:"",r&&0===Number(w)&&(w="")):m=i(t._n,null),m.indexOf("-")>-1&&(m=m.slice(1),_=!0),y>-1&&(m=m.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f[p].delimiters.thousands)),0===e.indexOf(".")&&(m=""),(n&&_?"(":"")+(!n&&_?"-":"")+m+w+(a?a:"")+(o?o:"")+(s?s:"")+(n&&_?")":"")}function h(t,e){f[t]=e}var u,d="1.4.7",f={},p="en",g=null,m="undefined"!=typeof e&&e.exports;u=function(e){return u.isNumeral(e)?e=e.value():Number(e)||(e=0),new t(Number(e))},u.version=d,u.isNumeral=function(e){return e instanceof t},u.language=function(t,e){return t?(t&&!e&&(p=t),!e&&f[t]||h(t,e),u):p},u.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),u.zeroFormat=function(t){g="string"==typeof t?t:null},u.fn=t.prototype={clone:function(){return u(this)},format:function(t){return n(this,t?t:u.defaultFormat)},unformat:function(t){return r(this,t?t:u.defaultFormat)},value:function(){return this._n},valueOf:function(){return this._n},set:function(t){return this._n=Number(t),this},add:function(t){return this._n=this._n+Number(t),this},subtract:function(t){return this._n=this._n-Number(t),this},multiply:function(t){return this._n=this._n*Number(t),this},divide:function(t){return this._n=this._n/Number(t),this},difference:function(t){var e=this._n-Number(t);return 0>e&&(e=-e),e}},m&&(e.exports=u),"undefined"==typeof ender&&(this.numeral=u),"function"==typeof define&&define.amd&&define([],function(){return u})}.call(this)},{}],jpicker:[function(t,e,n){!function(t,e){Math.precision=function(t,e){return void 0===e&&(e=0),Math.round(t*Math.pow(10,e))/Math.pow(10,e)};var n=function(e,i){var n,r,o=this,s=e.find("img:first"),a=0,l=100,c=100,h=0,u=100,d=100,f=0,p=0,g=new Array,m=function(t){for(var e=0;e<g.length;e++)g[e].call(o,o,t)},v=function(i){var s=e.offset();n={l:0|s.left,t:0|s.top},clearTimeout(r),r=setTimeout(function(){_.call(o,i)},0),t(document).bind("mousemove",y).bind("mouseup",w),i.preventDefault()},y=function(t){return clearTimeout(r),r=setTimeout(function(){_.call(o,t)},0),t.stopPropagation(),t.preventDefault(),!1},w=function(e){return t(document).unbind("mouseup",w).unbind("mousemove",y),e.stopPropagation(),e.preventDefault(),!1},_=function(t){var i=t.pageX-n.l,r=t.pageY-n.t,s=e.w,l=e.h;0>i?i=0:i>s&&(i=s),0>r?r=0:r>l&&(r=l),x.call(o,"xy",{x:i/s*c+a,y:r/l*d+h})},b=function(){var t=0,i=0,n=e.w,r=e.h,o=s.w,a=s.h;setTimeout(function(){c>0&&(t=f==l?n:f/c*n|0),d>0&&(i=p==u?r:p/d*r|0),o>=n?t=(n>>1)-(o>>1):t-=o>>1,a>=r?i=(r>>1)-(a>>1):i-=a>>1,s.css({left:t+"px",top:i+"px"})},0)},x=function(t,e,i){var n=void 0!==e;if(!n)switch(void 0!==t&&null!=t||(t="xy"),t.toLowerCase()){case"x":return f;case"y":return p;case"xy":default:return{x:f,y:p}}if(null==i||i!=o){var r,s,c=!1;switch(null==t&&(t="xy"),t.toLowerCase()){case"x":r=e&&(e.x&&0|e.x||0|e)||0;break;case"y":s=e&&(e.y&&0|e.y||0|e)||0;break;case"xy":default:r=e&&e.x&&0|e.x||0,s=e&&e.y&&0|e.y||0}null!=r&&(a>r?r=a:r>l&&(r=l),f!=r&&(f=r,c=!0)),null!=s&&(h>s?s=h:s>u&&(s=u),p!=s&&(p=s,c=!0)),c&&m.call(o,i||o)}},C=function(t,e){var i=void 0!==e;if(!i)switch(void 0!==t&&null!=t||(t="all"),t.toLowerCase()){case"minx":return a;case"maxx":return l;case"rangex":return{minX:a,maxX:l,rangeX:c};case"miny":return h;case"maxy":return u;case"rangey":return{minY:h,maxY:u,rangeY:d};case"all":default:return{minX:a,maxX:l,rangeX:c,minY:h,maxY:u,rangeY:d}}var n,r,o,s;switch(null==t&&(t="all"),t.toLowerCase()){case"minx":n=e&&(e.minX&&0|e.minX||0|e)||0;break;case"maxx":r=e&&(e.maxX&&0|e.maxX||0|e)||0;break;case"rangex":n=e&&e.minX&&0|e.minX||0,r=e&&e.maxX&&0|e.maxX||0;break;case"miny":o=e&&(e.minY&&0|e.minY||0|e)||0;break;case"maxy":s=e&&(e.maxY&&0|e.maxY||0|e)||0;break;case"rangey":o=e&&e.minY&&0|e.minY||0,s=e&&e.maxY&&0|e.maxY||0;break;case"all":default:n=e&&e.minX&&0|e.minX||0,r=e&&e.maxX&&0|e.maxX||0,o=e&&e.minY&&0|e.minY||0,s=e&&e.maxY&&0|e.maxY||0}null!=n&&a!=n&&(a=n,c=l-a),null!=r&&l!=r&&(l=r,c=l-a),null!=o&&h!=o&&(h=o,d=u-h),null!=s&&u!=s&&(u=s,d=u-h)},T=function(e){t.isFunction(e)&&g.push(e)},S=function(e){if(t.isFunction(e))for(var i;-1!=(i=t.inArray(e,g));)g.splice(i,1)},E=function(){t(document).unbind("mouseup",w).unbind("mousemove",y),e.unbind("mousedown",v),e=null,s=null,g=null};t.extend(!0,o,{val:x,range:C,bind:T,unbind:S,destroy:E}),s.src=i.arrow&&i.arrow.image,s.w=i.arrow&&i.arrow.width||s.width(),s.h=i.arrow&&i.arrow.height||s.height(),e.w=i.map&&i.map.width||e.width(),e.h=i.map&&i.map.height||e.height(),e.bind("mousedown",v),T.call(o,b)},r=function(e,i,n,r){var o=this,s=e.find("td.Text input"),a=s.eq(3),l=s.eq(4),c=s.eq(5),h=s.length>7?s.eq(6):null,u=s.eq(0),d=s.eq(1),f=s.eq(2),p=s.eq(s.length>7?7:6),g=s.length>7?s.eq(8):null,m=function(t){if(""!=t.target.value||t.target==p.get(0)||(null==n||t.target==n.get(0))&&null!=n){if(!w(t))return t;switch(t.target){case a.get(0):switch(t.keyCode){case 38:return a.val(_.call(o,(a.val()<<0)+1,0,255)),i.val("r",a.val(),t.target),!1;case 40:return a.val(_.call(o,(a.val()<<0)-1,0,255)),i.val("r",a.val(),t.target),!1}break;case l.get(0):switch(t.keyCode){case 38:return l.val(_.call(o,(l.val()<<0)+1,0,255)),i.val("g",l.val(),t.target),!1;case 40:return l.val(_.call(o,(l.val()<<0)-1,0,255)),i.val("g",l.val(),t.target),!1}break;case c.get(0):switch(t.keyCode){case 38:return c.val(_.call(o,(c.val()<<0)+1,0,255)),i.val("b",c.val(),t.target),!1;case 40:return c.val(_.call(o,(c.val()<<0)-1,0,255)),i.val("b",c.val(),t.target),!1}break;case h&&h.get(0):switch(t.keyCode){case 38:return h.val(_.call(o,parseFloat(h.val())+1,0,100)),i.val("a",Math.precision(255*h.val()/100,r),t.target),!1;case 40:return h.val(_.call(o,parseFloat(h.val())-1,0,100)),i.val("a",Math.precision(255*h.val()/100,r),t.target),!1}break;case u.get(0):switch(t.keyCode){case 38:return u.val(_.call(o,(u.val()<<0)+1,0,360)),i.val("h",u.val(),t.target),!1;case 40:return u.val(_.call(o,(u.val()<<0)-1,0,360)),i.val("h",u.val(),t.target),!1}break;case d.get(0):switch(t.keyCode){case 38:return d.val(_.call(o,(d.val()<<0)+1,0,100)),i.val("s",d.val(),t.target),!1;case 40:return d.val(_.call(o,(d.val()<<0)-1,0,100)),i.val("s",d.val(),t.target),!1}break;case f.get(0):switch(t.keyCode){case 38:return f.val(_.call(o,(f.val()<<0)+1,0,100)),i.val("v",f.val(),t.target),!1;case 40:return f.val(_.call(o,(f.val()<<0)-1,0,100)),i.val("v",f.val(),t.target),!1}}}},v=function(t){if(""!=t.target.value||t.target==p.get(0)||(null==n||t.target==n.get(0))&&null!=n){if(!w(t))return t;switch(t.target){case a.get(0):a.val(_.call(o,a.val(),0,255)),i.val("r",a.val(),t.target);break;case l.get(0):l.val(_.call(o,l.val(),0,255)),i.val("g",l.val(),t.target);break;case c.get(0):c.val(_.call(o,c.val(),0,255)),i.val("b",c.val(),t.target);break;case h&&h.get(0):h.val(_.call(o,h.val(),0,100)),i.val("a",Math.precision(255*h.val()/100,r),t.target);break;case u.get(0):u.val(_.call(o,u.val(),0,360)),i.val("h",u.val(),t.target);break;case d.get(0):d.val(_.call(o,d.val(),0,100)),i.val("s",d.val(),t.target);break;case f.get(0):f.val(_.call(o,f.val(),0,100)),i.val("v",f.val(),t.target);break;case p.get(0):p.val(p.val().replace(/[^a-fA-F0-9]/g,"").toLowerCase().substring(0,6)),n&&n.val(p.val()),i.val("hex",""!=p.val()?p.val():null,t.target);break;case n&&n.get(0):n.val(n.val().replace(/[^a-fA-F0-9]/g,"").toLowerCase().substring(0,6)),p.val(n.val()),i.val("hex",""!=n.val()?n.val():null,t.target);break;case g&&g.get(0):g.val(g.val().replace(/[^a-fA-F0-9]/g,"").toLowerCase().substring(0,2)),i.val("a",null!=g.val()?parseInt(g.val(),16):null,t.target)}}},y=function(t){if(null!=i.val())switch(t.target){case a.get(0):a.val(i.val("r"));break;case l.get(0):l.val(i.val("g"));break;case c.get(0):c.val(i.val("b"));break;case h&&h.get(0):h.val(Math.precision(100*i.val("a")/255,r));break;case u.get(0):u.val(i.val("h"));break;case d.get(0):d.val(i.val("s"));break;case f.get(0):f.val(i.val("v"));break;case p.get(0):case n&&n.get(0):p.val(i.val("hex")),n&&n.val(i.val("hex"));break;case g&&g.get(0):g.val(i.val("ahex").substring(6))}},w=function(t){switch(t.keyCode){case 9:case 16:case 29:case 37:case 39:return!1;case"c".charCodeAt():case"v".charCodeAt():if(t.ctrlKey)return!1}return!0},_=function(t,e,i){return""==t||isNaN(t)?e:t>i?i:e>t?e:t},b=function(t,e){var i=t.val("all");e!=a.get(0)&&a.val(null!=i?i.r:""),e!=l.get(0)&&l.val(null!=i?i.g:""),e!=c.get(0)&&c.val(null!=i?i.b:""),h&&e!=h.get(0)&&h.val(null!=i?Math.precision(100*i.a/255,r):""),e!=u.get(0)&&u.val(null!=i?i.h:""),e!=d.get(0)&&d.val(null!=i?i.s:""),e!=f.get(0)&&f.val(null!=i?i.v:""),e!=p.get(0)&&(n&&e!=n.get(0)||!n)&&p.val(null!=i?i.hex:""),n&&e!=n.get(0)&&e!=p.get(0)&&n.val(null!=i?i.hex:""),g&&e!=g.get(0)&&g.val(null!=i?i.ahex.substring(6):"")},x=function(){a.add(l).add(c).add(h).add(u).add(d).add(f).add(p).add(n).add(g).unbind("keyup",v).unbind("blur",y),a.add(l).add(c).add(h).add(u).add(d).add(f).unbind("keydown",m),i.unbind(b),a=null,l=null,c=null,h=null,u=null,d=null,f=null,p=null,g=null};t.extend(!0,o,{destroy:x}),a.add(l).add(c).add(h).add(u).add(d).add(f).add(p).add(n).add(g).bind("keyup",v).bind("blur",y),a.add(l).add(c).add(h).add(u).add(d).add(f).bind("keydown",m),i.bind(b)};t.jPicker={List:[],Color:function(e){var i,n,r,o,s,l,c,h=this,u=new Array,d=function(t){for(var e=0;e<u.length;e++)u[e].call(h,h,t)},f=function(t,e,u){var p=void 0!==e;if(!p){if(void 0!==t&&null!=t&&""!=t||(t="all"),null==i)return null;switch(t.toLowerCase()){case"ahex":return a.rgbaToHex({r:i,g:n,b:r,a:o});case"hex":return f("ahex").substring(0,6);case"all":return{r:i,g:n,b:r,a:o,h:s,s:l,v:c,hex:f.call(h,"hex"),ahex:f.call(h,"ahex")};default:for(var g={},m=0;m<t.length;m++)switch(t.charAt(m)){case"r":1==t.length?g=i:g.r=i;break;case"g":1==t.length?g=n:g.g=n;break;case"b":1==t.length?g=r:g.b=r;break;case"a":1==t.length?g=o:g.a=o;break;case"h":1==t.length?g=s:g.h=s;break;case"s":1==t.length?g=l:g.s=l;break;case"v":1==t.length?g=c:g.v=c}return g=={}?f.call(h,"all"):g}}if(null==u||u!=h){var v=!1;if(null==t&&(t=""),null==e)return null!=i&&(i=null,v=!0),null!=n&&(n=null,v=!0),null!=r&&(r=null,v=!0),null!=o&&(o=null,v=!0),null!=s&&(s=null,v=!0),null!=l&&(l=null,v=!0),null!=c&&(c=null,v=!0),void(v&&d.call(h,u||h));switch(t.toLowerCase()){case"ahex":case"hex":var g=a.hexToRgba(e&&(e.ahex||e.hex)||e||"00000000");f.call(h,"rgba",{r:g.r,g:g.g,b:g.b,a:"ahex"==t?g.a:null!=o?o:255},u);break;default:if(e&&(null!=e.ahex||null!=e.hex))return void f.call(h,"ahex",e.ahex||e.hex||"00000000",u);var y={},w=!1,_=!1;void 0!==e.r&&-1==!t.indexOf("r")&&(t+="r"),void 0!==e.g&&-1==!t.indexOf("g")&&(t+="g"),void 0!==e.b&&-1==!t.indexOf("b")&&(t+="b"),void 0!==e.a&&-1==!t.indexOf("a")&&(t+="a"),void 0!==e.h&&-1==!t.indexOf("h")&&(t+="h"),void 0!==e.s&&-1==!t.indexOf("s")&&(t+="s"),void 0!==e.v&&-1==!t.indexOf("v")&&(t+="v");for(var m=0;m<t.length;m++)switch(t.charAt(m)){case"r":if(_)continue;w=!0,y.r=e&&e.r&&0|e.r||e&&0|e||0,y.r<0?y.r=0:y.r>255&&(y.r=255),i!=y.r&&(i=y.r,v=!0);break;case"g":if(_)continue;w=!0,y.g=e&&e.g&&0|e.g||e&&0|e||0,y.g<0?y.g=0:y.g>255&&(y.g=255),n!=y.g&&(n=y.g,v=!0);break;case"b":if(_)continue;w=!0,y.b=e&&e.b&&0|e.b||e&&0|e||0,y.b<0?y.b=0:y.b>255&&(y.b=255),r!=y.b&&(r=y.b,v=!0);break;case"a":y.a=e&&null!=e.a?0|e.a:null!=e?0|e:255,y.a<0?y.a=0:y.a>255&&(y.a=255),o!=y.a&&(o=y.a,v=!0);break;case"h":if(w)continue;_=!0,y.h=e&&e.h&&0|e.h||e&&0|e||0,y.h<0?y.h=0:y.h>360&&(y.h=360),s!=y.h&&(s=y.h,v=!0);break;case"s":if(w)continue;_=!0,y.s=e&&null!=e.s?0|e.s:null!=e?0|e:100,y.s<0?y.s=0:y.s>100&&(y.s=100),l!=y.s&&(l=y.s,v=!0);break;case"v":if(w)continue;_=!0,y.v=e&&null!=e.v?0|e.v:null!=e?0|e:100,y.v<0?y.v=0:y.v>100&&(y.v=100),c!=y.v&&(c=y.v,v=!0)}if(v){if(w){i=i||0,n=n||0,r=r||0;var g=a.rgbToHsv({r:i,g:n,b:r});s=g.h,l=g.s,c=g.v}else if(_){s=s||0,l=null!=l?l:100,c=null!=c?c:100;var g=a.hsvToRgb({h:s,s:l,v:c});i=g.r,n=g.g,r=g.b}o=null!=o?o:255,d.call(h,u||h)}}}},p=function(e){t.isFunction(e)&&u.push(e)},g=function(e){if(t.isFunction(e))for(var i;-1!=(i=t.inArray(e,u));)u.splice(i,1)},m=function(){u=null};t.extend(!0,h,{val:f,bind:p,unbind:g,destroy:m}),e&&(null!=e.ahex?f("ahex",e):null!=e.hex?f((null!=e.a?"a":"")+"hex",null!=e.a?{ahex:e.hex+a.intToHex(e.a)}:e):null!=e.r&&null!=e.g&&null!=e.b?f("rgb"+(null!=e.a?"a":""),e):null!=e.h&&null!=e.s&&null!=e.v&&f("hsv"+(null!=e.a?"a":""),e))},ColorMethods:{hexToRgba:function(t){if(t=this.validateHex(t),""==t)return{r:null,g:null,b:null,a:null};var e="00",i="00",n="00",r="255";return 6==t.length&&(t+="ff"),t.length>6?(e=t.substring(0,2),i=t.substring(2,4),n=t.substring(4,6),r=t.substring(6,t.length)):(t.length>4&&(e=t.substring(4,t.length),t=t.substring(0,4)),t.length>2&&(i=t.substring(2,t.length),t=t.substring(0,2)),t.length>0&&(n=t.substring(0,t.length))),{r:this.hexToInt(e),g:this.hexToInt(i),b:this.hexToInt(n),a:this.hexToInt(r)}},validateHex:function(t){return t=t.toLowerCase().replace(/[^a-f0-9]/g,""),t.length>8&&(t=t.substring(0,8)),t},rgbaToHex:function(t){return this.intToHex(t.r)+this.intToHex(t.g)+this.intToHex(t.b)+this.intToHex(t.a)},intToHex:function(t){var e=(0|t).toString(16);return 1==e.length&&(e="0"+e),e.toLowerCase()},hexToInt:function(t){return parseInt(t,16)},rgbToHsv:function(t){var e,i=t.r/255,n=t.g/255,r=t.b/255,o={h:0,s:0,v:0},s=0,a=0;return i>=n&&i>=r?(a=i,s=n>r?r:n):n>=r&&n>=i?(a=n,s=i>r?r:i):(a=r,s=n>i?i:n),o.v=a,o.s=a?(a-s)/a:0,o.s?(e=a-s,i==a?o.h=(n-r)/e:n==a?o.h=2+(r-i)/e:o.h=4+(i-n)/e,o.h=parseInt(60*o.h),o.h<0&&(o.h+=360)):o.h=0,o.s=100*o.s|0,o.v=100*o.v|0,o},hsvToRgb:function(t){var e={r:0,g:0,b:0,a:100},i=t.h,n=t.s,r=t.v;if(0==n)0==r?e.r=e.g=e.b=0:e.r=e.g=e.b=255*r/100|0;else{360==i&&(i=0),i/=60,n/=100,r/=100;var o=0|i,s=i-o,a=r*(1-n),l=r*(1-n*s),c=r*(1-n*(1-s));switch(o){case 0:e.r=r,e.g=c,e.b=a;break;case 1:e.r=l,e.g=r,e.b=a;break;case 2:e.r=a,e.g=r,e.b=c;break;case 3:e.r=a,e.g=l,e.b=r;break;case 4:e.r=c,e.g=a,e.b=r;break;case 5:e.r=r,e.g=a,e.b=l}e.r=255*e.r|0,e.g=255*e.g|0,e.b=255*e.b|0}return e}}};var o=t.jPicker.Color,s=t.jPicker.List,a=t.jPicker.ColorMethods;t.fn.jPicker=function(e){var l=arguments;return this.each(function(){var e=this,c={window:{title:null,effects:{type:"slide",speed:{show:"slow",hide:"fast"}},position:{x:"screenCenter",y:"top"},expandable:!1,liveUpdate:!0,alphaSupport:!1,alphaPrecision:0,updateInputColor:!0},c:{mode:"h",active:new o({ahex:"#ffcc00ff"}),quickList:[new o({h:360,s:33,v:100}),new o({h:360,s:66,v:100}),new o({h:360,s:100,v:100}),new o({h:360,s:100,v:75}),new o({h:360,s:100,v:50}),new o({h:180,s:0,v:100}),new o({h:30,s:33,v:100}),new o({h:30,s:66,v:100}),new o({h:30,s:100,v:100}),new o({h:30,s:100,v:75}),new o({h:30,s:100,v:50}),new o({h:180,s:0,v:90}),new o({h:60,s:33,v:100}),new o({h:60,s:66,v:100}),new o({h:60,s:100,v:100}),new o({h:60,s:100,v:75}),new o({h:60,s:100,v:50}),new o({h:180,s:0,v:80}),new o({h:90,s:33,v:100}),new o({h:90,s:66,v:100}),new o({h:90,s:100,v:100}),new o({h:90,s:100,v:75}),new o({h:90,s:100,v:50}),new o({h:180,s:0,v:70}),new o({h:120,s:33,v:100}),new o({h:120,s:66,v:100}),new o({h:120,s:100,v:100}),new o({h:120,s:100,v:75}),new o({h:120,s:100,v:50}),new o({h:180,s:0,v:60}),new o({h:150,s:33,v:100}),new o({h:150,s:66,v:100}),new o({h:150,s:100,v:100}),new o({h:150,s:100,v:75}),new o({h:150,s:100,v:50}),new o({h:180,s:0,v:50}),new o({h:180,s:33,v:100}),new o({h:180,s:66,v:100}),new o({h:180,s:100,v:100}),new o({h:180,s:100,v:75}),new o({h:180,s:100,v:50}),new o({h:180,s:0,v:40}),new o({h:210,s:33,v:100}),new o({h:210,s:66,v:100}),new o({h:210,s:100,v:100}),new o({h:210,s:100,v:75}),new o({h:210,s:100,v:50}),new o({h:180,s:0,v:30}),new o({h:240,s:33,v:100}),new o({h:240,s:66,v:100}),new o({h:240,s:100,v:100}),new o({h:240,s:100,v:75}),new o({h:240,s:100,v:50}),new o({h:180,s:0,v:20}),new o({h:270,s:33,v:100}),new o({h:270,s:66,v:100}),new o({h:270,s:100,v:100}),new o({h:270,s:100,v:75}),new o({h:270,s:100,v:50}),new o({h:180,s:0,v:10}),new o({h:300,s:33,v:100}),new o({h:300,s:66,v:100}),new o({h:300,s:100,v:100}),new o({h:300,s:100,v:75}),new o({h:300,s:100,v:50}),new o({h:180,s:0,v:0}),new o({h:330,s:33,v:100}),new o({h:330,s:66,v:100}),new o({h:330,s:100,v:100}),new o({h:330,s:100,v:75}),new o({h:330,s:100,v:50}),new o]},images:{clientPath:"/images/swatch-colorpicker/",colorMap:{width:256,height:256,arrow:{file:"mappoint.gif",width:15,height:15}},colorBar:{width:20,height:256,arrow:{file:"rangearrows.gif",width:20,height:7}},picker:{file:"picker.gif",width:25,height:24}},localization:{text:{title:"Drag Markers To Pick A Color",newColor:"new",currentColor:"current",ok:"OK",cancel:"Cancel"},tooltips:{colors:{newColor:"New Color - Press &ldquo;OK&rdquo; To Commit",currentColor:"Click To Revert To Original Color"},buttons:{ok:"Commit To This Color Selection",cancel:"Cancel And Revert To Original Color"},hue:{radio:"Set To &ldquo;Hue&rdquo; Color Mode",textbox:"Enter A &ldquo;Hue&rdquo; Value (0-360&deg;)"},saturation:{radio:"Set To &ldquo;Saturation&rdquo; Color Mode",textbox:"Enter A &ldquo;Saturation&rdquo; Value (0-100%)"},value:{radio:"Set To &ldquo;Value&rdquo; Color Mode",textbox:"Enter A &ldquo;Value&rdquo; Value (0-100%)"},red:{radio:"Set To &ldquo;Red&rdquo; Color Mode",textbox:"Enter A &ldquo;Red&rdquo; Value (0-255)"},green:{radio:"Set To &ldquo;Green&rdquo; Color Mode",textbox:"Enter A &ldquo;Green&rdquo; Value (0-255)"},blue:{radio:"Set To &ldquo;Blue&rdquo; Color Mode",textbox:"Enter A &ldquo;Blue&rdquo; Value (0-255)"},alpha:{radio:"Set To &ldquo;Alpha&rdquo; Color Mode",textbox:"Enter A &ldquo;Alpha&rdquo; Value (0-100)"},hex:{textbox:"Enter A &ldquo;Hex&rdquo; Color Value (#000000-#ffffff)",alpha:"Enter A &ldquo;Alpha&rdquo; Value (#00-#ff)"}}}};c.c.current=new o({hex:"#000"}),"input"==t(e).get(0).nodeName.toLowerCase()&&(t.extend(!0,c,{window:{bindToInput:!0,expandable:!0,input:t(e)}}),""==t(e).val()?(c.c.active=new o({hex:null}),c.c.current=new o({hex:null})):a.validateHex(t(e).val())&&(c.c.active=new o({hex:t(e).val(),a:c.c.active.val("a")}),c.c.current=new o({hex:t(e).val(),a:c.c.active.val("a")}))),c.window.expandable?t(e).after('<span class="jPicker"><span class="Icon"><span class="Color">&nbsp;</span><span class="Alpha">&nbsp;</span><span class="Image" title="Click To Open Color Picker">&nbsp;</span><span class="Container">&nbsp;</span></span></span>'):c.window.liveUpdate=!1;var h=parseFloat(navigator.appVersion.split("MSIE")[1])<7&&document.body.filters,u=null,d=null,f=null,p=null,g=null,m=null,v=null,y=null,w=null,_=null,b=null,x=null,C=null,T=null,S=null,E=null,k=null,R=null,P=null,A=null,O=null,N=null,D=null,M=null,I=null,H=null,L=null,F=null,z=function(t){t||(t="r");var i,n,r=wt.active,o=(vt.clientPath,r.val("hex"));switch(c.c.mode=t,t){case"h":if(setTimeout(function(){q.call(e,d,"transparent"),$.call(e,p,0),Q.call(e,p,100),$.call(e,g,260),Q.call(e,g,100),q.call(e,f,"transparent"),$.call(e,v,0),Q.call(e,v,100),$.call(e,y,260),Q.call(e,y,100),$.call(e,w,260),Q.call(e,w,100),$.call(e,_,260),Q.call(e,_,100),$.call(e,x,260),Q.call(e,x,100)},0),C.range("all",{minX:0,maxX:100,minY:0,maxY:100}),T.range("rangeY",{minY:0,maxY:360}),null==r.val("ahex"))break;C.val("xy",{x:r.val("s"),y:100-r.val("v")},C),T.val("y",360-r.val("h"),T);break;case"s":if(setTimeout(function(){q.call(e,d,"transparent"),$.call(e,p,-260),$.call(e,g,-520),$.call(e,v,-260),$.call(e,y,-520),$.call(e,x,260),Q.call(e,x,100)},0),C.range("all",{minX:0,maxX:360,minY:0,maxY:100}),T.range("rangeY",{minY:0,maxY:100}),null==r.val("ahex"))break;C.val("xy",{x:r.val("h"),y:100-r.val("v")},C),T.val("y",100-r.val("s"),T);break;case"v":if(setTimeout(function(){q.call(e,d,"000000"),$.call(e,p,-780),$.call(e,g,260),q.call(e,f,o),$.call(e,v,-520),$.call(e,y,260),Q.call(e,y,100),$.call(e,x,260),Q.call(e,x,100)},0),C.range("all",{minX:0,maxX:360,minY:0,maxY:100}),T.range("rangeY",{minY:0,maxY:100}),null==r.val("ahex"))break;C.val("xy",{x:r.val("h"),y:100-r.val("s")},C),T.val("y",100-r.val("v"),T);break;case"r":if(i=-1040,n=-780,C.range("all",{minX:0,maxX:255,minY:0,maxY:255}),T.range("rangeY",{minY:0,maxY:255}),null==r.val("ahex"))break;C.val("xy",{x:r.val("b"),y:255-r.val("g")},C),T.val("y",255-r.val("r"),T);break;case"g":if(i=-1560,n=-1820,C.range("all",{minX:0,maxX:255,minY:0,maxY:255}),T.range("rangeY",{minY:0,maxY:255}),null==r.val("ahex"))break;C.val("xy",{x:r.val("b"),y:255-r.val("r")},C),T.val("y",255-r.val("g"),T);break;case"b":if(i=-2080,n=-2860,C.range("all",{minX:0,maxX:255,minY:0,maxY:255}),T.range("rangeY",{minY:0,maxY:255}),null==r.val("ahex"))break;C.val("xy",{x:r.val("r"),y:255-r.val("g")},C),T.val("y",255-r.val("b"),T);break;case"a":if(setTimeout(function(){q.call(e,d,"transparent"),$.call(e,p,-260),$.call(e,g,-520),$.call(e,v,260),$.call(e,y,260),Q.call(e,y,100),$.call(e,x,0),Q.call(e,x,100)},0),C.range("all",{minX:0,maxX:360,minY:0,maxY:100}),T.range("rangeY",{minY:0,maxY:255}),null==r.val("ahex"))break;C.val("xy",{x:r.val("h"),y:100-r.val("v")},C),T.val("y",255-r.val("a"),T);break;default:throw"Invalid Mode"}switch(t){case"h":break;case"s":case"v":case"a":setTimeout(function(){Q.call(e,p,100),Q.call(e,v,100),$.call(e,w,260),Q.call(e,w,100),$.call(e,_,260),Q.call(e,_,100)},0);break;case"r":case"g":case"b":setTimeout(function(){q.call(e,d,"transparent"),q.call(e,f,"transparent"),Q.call(e,v,100),Q.call(e,p,100),$.call(e,p,i),$.call(e,g,i-260),$.call(e,v,n-780),$.call(e,y,n-520),$.call(e,w,n),$.call(e,_,n-260),$.call(e,x,260),Q.call(e,x,100)},0)}null!=r.val("ahex")&&B.call(e,r)},B=function(t,i){(null==i||i!=T&&i!=C)&&j.call(e,t,i),setTimeout(function(){X.call(e,t),U.call(e,t),Y.call(e,t)},0)},V=function(t,e){var i=wt.active;if(e==C||null!=i.val()){var n=t.val("all");switch(c.c.mode){case"h":i.val("sv",{s:n.x,v:100-n.y},e);break;case"s":case"a":i.val("hv",{h:n.x,v:100-n.y},e);break;case"v":i.val("hs",{h:n.x,s:100-n.y},e);break;case"r":i.val("gb",{g:255-n.y,b:n.x},e);break;case"g":i.val("rb",{r:255-n.y,b:n.x},e);break;case"b":i.val("rg",{r:n.x,g:255-n.y},e)}}},W=function(t,e){var i=wt.active;if(e==T||null!=i.val())switch(c.c.mode){case"h":i.val("h",{h:360-t.val("y")},e);break;case"s":i.val("s",{s:100-t.val("y")},e);break;case"v":i.val("v",{v:100-t.val("y")},e);break;case"r":i.val("r",{r:255-t.val("y")},e);break;case"g":i.val("g",{g:255-t.val("y")},e);break;case"b":i.val("b",{b:255-t.val("y")},e);break;
case"a":i.val("a",255-t.val("y"),e)}},j=function(t,e){if(e!=C)switch(c.c.mode){case"h":var i=t.val("sv");C.val("xy",{x:null!=i?i.s:100,y:100-(null!=i?i.v:100)},e);break;case"s":case"a":var n=t.val("hv");C.val("xy",{x:n&&n.h||0,y:100-(null!=n?n.v:100)},e);break;case"v":var r=t.val("hs");C.val("xy",{x:r&&r.h||0,y:100-(null!=r?r.s:100)},e);break;case"r":var o=t.val("bg");C.val("xy",{x:o&&o.b||0,y:255-(o&&o.g||0)},e);break;case"g":var s=t.val("br");C.val("xy",{x:s&&s.b||0,y:255-(s&&s.r||0)},e);break;case"b":var a=t.val("rg");C.val("xy",{x:a&&a.r||0,y:255-(a&&a.g||0)},e)}if(e!=T)switch(c.c.mode){case"h":T.val("y",360-(t.val("h")||0),e);break;case"s":var l=t.val("s");T.val("y",100-(null!=l?l:100),e);break;case"v":var h=t.val("v");T.val("y",100-(null!=h?h:100),e);break;case"r":T.val("y",255-(t.val("r")||0),e);break;case"g":T.val("y",255-(t.val("g")||0),e);break;case"b":T.val("y",255-(t.val("b")||0),e);break;case"a":var u=t.val("a");T.val("y",255-(null!=u?u:255),e)}},X=function(t){try{var i=t.val("all");A.css({backgroundColor:i&&"#"+i.hex||"transparent"}),Q.call(e,A,i&&Math.precision(100*i.a/255,4)||0)}catch(n){}},U=function(t){switch(c.c.mode){case"h":q.call(e,d,new o({h:t.val("h")||0,s:100,v:100}).val("hex"));break;case"s":case"a":var i=t.val("s");Q.call(e,g,100-(null!=i?i:100));break;case"v":var n=t.val("v");Q.call(e,p,null!=n?n:100);break;case"r":Q.call(e,g,Math.precision((t.val("r")||0)/255*100,4));break;case"g":Q.call(e,g,Math.precision((t.val("g")||0)/255*100,4));break;case"b":Q.call(e,g,Math.precision((t.val("b")||0)/255*100))}var r=t.val("a");Q.call(e,m,Math.precision(100*(255-(r||0))/255,4))},Y=function(t){switch(c.c.mode){case"h":var i=t.val("a");Q.call(e,b,Math.precision(100*(255-(i||0))/255,4));break;case"s":var n=t.val("hva"),r=new o({h:n&&n.h||0,s:100,v:null!=n?n.v:100});q.call(e,f,r.val("hex")),Q.call(e,y,100-(null!=n?n.v:100)),Q.call(e,b,Math.precision(100*(255-(n&&n.a||0))/255,4));break;case"v":var s=t.val("hsa"),a=new o({h:s&&s.h||0,s:null!=s?s.s:100,v:100});q.call(e,f,a.val("hex")),Q.call(e,b,Math.precision(100*(255-(s&&s.a||0))/255,4));break;case"r":case"g":case"b":var l=0,h=0,u=t.val("rgba");"r"==c.c.mode?(l=u&&u.b||0,h=u&&u.g||0):"g"==c.c.mode?(l=u&&u.b||0,h=u&&u.r||0):"b"==c.c.mode&&(l=u&&u.r||0,h=u&&u.g||0);var d=h>l?l:h;Q.call(e,y,l>h?Math.precision((l-h)/(255-h)*100,4):0),Q.call(e,w,h>l?Math.precision((h-l)/(255-l)*100,4):0),Q.call(e,_,Math.precision(d/255*100,4)),Q.call(e,b,Math.precision(100*(255-(u&&u.a||0))/255,4));break;case"a":var i=t.val("a");q.call(e,f,t.val("hex")||"000000"),Q.call(e,b,null!=i?0:100),Q.call(e,x,null!=i?100:0)}},q=function(t,e){t.css({backgroundColor:e&&6==e.length&&"#"+e||"transparent"})},G=function(t,e){!h||-1==e.indexOf("AlphaBar.png")&&-1==e.indexOf("Bars.png")&&-1==e.indexOf("Maps.png")?t.css({backgroundImage:"url('"+e+"')"}):(t.attr("pngSrc",e),t.css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+e+"', sizingMethod='scale')"}))},$=function(t,e){t.css({top:e+"px"})},Q=function(t,e){if(t.css({visibility:e>0?"visible":"hidden"}),e>0&&100>e)if(h){var i=t.attr("pngSrc");null==i||-1==i.indexOf("AlphaBar.png")&&-1==i.indexOf("Bars.png")&&-1==i.indexOf("Maps.png")?t.css({opacity:Math.precision(e/100,4)}):t.css({filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+i+"', sizingMethod='scale') progid:DXImageTransform.Microsoft.Alpha(opacity="+e+")"})}else t.css({opacity:Math.precision(e/100,4)});else if(0==e||100==e)if(h){var i=t.attr("pngSrc");null==i||-1==i.indexOf("AlphaBar.png")&&-1==i.indexOf("Bars.png")&&-1==i.indexOf("Maps.png")?t.css({opacity:""}):t.css({filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+i+"', sizingMethod='scale')"})}else t.css({opacity:""})},K=function(){wt.active.val("ahex",wt.current.val("ahex"))},Z=function(){wt.current.val("ahex",wt.active.val("ahex"))},J=function(i){t(this).parents("tbody:first").find('input:radio[value!="'+i.target.value+'"]').removeAttr("checked"),z.call(e,i.target.value)},tt=function(){K.call(e)},et=function(){K.call(e),c.window.expandable&&pt.call(e),t.isFunction(dt)&&dt.call(e,wt.active,D)},it=function(){Z.call(e),c.window.expandable&&pt.call(e),t.isFunction(ht)&&ht.call(e,wt.active,N)},nt=function(){ft.call(e)},rt=function(t,i){var n=t.val("hex");O.css({backgroundColor:n&&"#"+n||"transparent"}),Q.call(e,O,Math.precision(100*(t.val("a")||0)/255,4))},ot=function(t,i){var n=t.val("hex"),r=t.val("va");I.css({backgroundColor:n&&"#"+n||"transparent"}),Q.call(e,H,Math.precision(100*(255-(r&&r.a||0))/255,4)),c.window.bindToInput&&c.window.updateInputColor&&c.window.input.css({backgroundColor:n&&"#"+n||"transparent",color:null==r||r.v>75?"#000000":"#ffffff"})},st=function(e){c.window.element,c.window.page;E=parseInt(u.css("left")),k=parseInt(u.css("top")),R=e.pageX,P=e.pageY,t(document).bind("mousemove",at).bind("mouseup",lt),e.preventDefault()},at=function(e){return u.css({left:E-(R-e.pageX)+"px",top:k-(P-e.pageY)+"px"}),c.window.expandable&&!t.support.boxModel&&u.prev().css({left:u.css("left"),top:u.css("top")}),e.stopPropagation(),e.preventDefault(),!1},lt=function(e){return t(document).unbind("mousemove",at).unbind("mouseup",lt),e.stopPropagation(),e.preventDefault(),!1},ct=function(e){return e.preventDefault(),e.stopPropagation(),wt.active.val("ahex",t(this).attr("title")||null,e.target),!1},ht=t.isFunction(l[1])&&l[1]||null,ut=t.isFunction(l[2])&&l[2]||null,dt=t.isFunction(l[3])&&l[3]||null,ft=function(){wt.current.val("ahex",wt.active.val("ahex"));var e=function(){if(c.window.expandable&&!t.support.boxModel){var e=u.find("table:first");u.before("<iframe/>"),u.prev().css({width:e.width(),height:u.height(),opacity:0,position:"absolute",left:u.css("left"),top:u.css("top")})}};switch(c.window.expandable&&(t(document.body).children("div.jPicker.Container").css({zIndex:10}),u.css({zIndex:20})),c.window.effects.type){case"fade":u.fadeIn(c.window.effects.speed.show,e);break;case"slide":u.slideDown(c.window.effects.speed.show,e);break;case"show":default:u.show(c.window.effects.speed.show,e)}},pt=function(){var e=function(){c.window.expandable&&u.css({zIndex:10}),c.window.expandable&&!t.support.boxModel&&u.prev().remove()};switch(c.window.effects.type){case"fade":u.fadeOut(c.window.effects.speed.hide,e);break;case"slide":u.slideUp(c.window.effects.speed.hide,e);break;case"show":default:u.hide(c.window.effects.speed.hide,e)}},gt=function(){var s=c.window,a=s.expandable?t(e).next().find(".Container:first"):null;u=t(s.expandable?"<div/>":e),u.addClass("jPicker Container"),s.expandable&&u.hide(),u.get(0).onselectstart=function(t){return"input"!==t.target.nodeName.toLowerCase()?!1:void 0};var l=wt.active.val("all");s.alphaPrecision<0?s.alphaPrecision=0:s.alphaPrecision>2&&(s.alphaPrecision=2);var h='<table class="jPicker" cellpadding="0" cellspacing="0"><tbody>'+(s.expandable?'<tr><td class="Move" colspan="5">&nbsp;</td></tr>':"")+'<tr><td rowspan="9"><h2 class="Title">'+(s.title||yt.text.title)+'</h2><div class="Map"><span class="Map1">&nbsp;</span><span class="Map2">&nbsp;</span><span class="Map3">&nbsp;</span><img src="'+vt.clientPath+vt.colorMap.arrow.file+'" class="Arrow"/></div></td><td rowspan="9"><div class="Bar"><span class="Map1">&nbsp;</span><span class="Map2">&nbsp;</span><span class="Map3">&nbsp;</span><span class="Map4">&nbsp;</span><span class="Map5">&nbsp;</span><span class="Map6">&nbsp;</span><img src="'+vt.clientPath+vt.colorBar.arrow.file+'" class="Arrow"/></div></td><td colspan="2" class="Preview">'+yt.text.newColor+'<div><span class="Active" title="'+yt.tooltips.colors.newColor+'">&nbsp;</span><span class="Current" title="'+yt.tooltips.colors.currentColor+'">&nbsp;</span></div>'+yt.text.currentColor+'</td><td rowspan="9" class="Button"><input type="button" class="Ok" value="'+yt.text.ok+'" title="'+yt.tooltips.buttons.ok+'"/><input type="button" class="Cancel" value="'+yt.text.cancel+'" title="'+yt.tooltips.buttons.cancel+'"/><hr/><div class="Grid">&nbsp;</div></td></tr><tr class="Hue"><td class="Radio"><label title="'+yt.tooltips.hue.radio+'"><input type="radio" value="h"'+("h"==c.c.mode?' checked="checked"':"")+'/>H:</label></td><td class="Text"><input type="text" maxlength="3" value="'+(null!=l?l.h:"")+'" title="'+yt.tooltips.hue.textbox+'"/>&nbsp;&deg;</td></tr><tr class="Saturation"><td class="Radio"><label title="'+yt.tooltips.saturation.radio+'"><input type="radio" value="s"'+("s"==c.c.mode?' checked="checked"':"")+'/>S:</label></td><td class="Text"><input type="text" maxlength="3" value="'+(null!=l?l.s:"")+'" title="'+yt.tooltips.saturation.textbox+'"/>&nbsp;%</td></tr><tr class="Value"><td class="Radio"><label title="'+yt.tooltips.value.radio+'"><input type="radio" value="v"'+("v"==c.c.mode?' checked="checked"':"")+'/>V:</label><br/><br/></td><td class="Text"><input type="text" maxlength="3" value="'+(null!=l?l.v:"")+'" title="'+yt.tooltips.value.textbox+'"/>&nbsp;%<br/><br/></td></tr><tr class="Red"><td class="Radio"><label title="'+yt.tooltips.red.radio+'"><input type="radio" value="r"'+("r"==c.c.mode?' checked="checked"':"")+'/>R:</label></td><td class="Text"><input type="text" maxlength="3" value="'+(null!=l?l.r:"")+'" title="'+yt.tooltips.red.textbox+'"/></td></tr><tr class="Green"><td class="Radio"><label title="'+yt.tooltips.green.radio+'"><input type="radio" value="g"'+("g"==c.c.mode?' checked="checked"':"")+'/>G:</label></td><td class="Text"><input type="text" maxlength="3" value="'+(null!=l?l.g:"")+'" title="'+yt.tooltips.green.textbox+'"/></td></tr><tr class="Blue"><td class="Radio"><label title="'+yt.tooltips.blue.radio+'"><input type="radio" value="b"'+("b"==c.c.mode?' checked="checked"':"")+'/>B:</label></td><td class="Text"><input type="text" maxlength="3" value="'+(null!=l?l.b:"")+'" title="'+yt.tooltips.blue.textbox+'"/></td></tr><tr class="Alpha"><td class="Radio">'+(s.alphaSupport?'<label title="'+yt.tooltips.alpha.radio+'"><input type="radio" value="a"'+("a"==c.c.mode?' checked="checked"':"")+"/>A:</label>":"&nbsp;")+'</td><td class="Text">'+(s.alphaSupport?'<input type="text" maxlength="'+(3+s.alphaPrecision)+'" value="'+(null!=l?Math.precision(100*l.a/255,s.alphaPrecision):"")+'" title="'+yt.tooltips.alpha.textbox+'"/>&nbsp;%':"&nbsp;")+'</td></tr><tr class="Hex"><td colspan="2" class="Text"><label title="'+yt.tooltips.hex.textbox+'">#:<input type="text" maxlength="6" class="Hex" value="'+(null!=l?l.hex:"")+'"/></label>'+(s.alphaSupport?'<input type="text" maxlength="2" class="AHex" value="'+(null!=l?l.ahex.substring(6):"")+'" title="'+yt.tooltips.hex.alpha+'"/></td>':"&nbsp;")+"</tr></tbody></table>";s.expandable?(u.html(h),0==t(document.body).children("div.jPicker.Container").length?t(document.body).prepend(u):t(document.body).children("div.jPicker.Container:last").after(u),u.mousedown(function(){t(document.body).children("div.jPicker.Container").css({zIndex:10}),u.css({zIndex:20})}),u.css({left:"left"==s.position.x?a.offset().left-530-("center"==s.position.y?25:0)+"px":"center"==s.position.x?a.offset().left-260+"px":"right"==s.position.x?a.offset().left-10+("center"==s.position.y?25:0)+"px":"screenCenter"==s.position.x?(t(document).width()>>1)-260+"px":a.offset().left+parseInt(s.position.x)+"px",position:"absolute",top:"top"==s.position.y?a.offset().top-312+"px":"center"==s.position.y?a.offset().top-156+"px":"bottom"==s.position.y?a.offset().top+25+"px":a.offset().top+parseInt(s.position.y)+"px"})):(u=t(e),u.html(h));var E=u.find("tbody:first");d=E.find("div.Map:first"),f=E.find("div.Bar:first");var k=d.find("span"),R=f.find("span");p=k.filter(".Map1:first"),g=k.filter(".Map2:first"),m=k.filter(".Map3:first"),v=R.filter(".Map1:first"),y=R.filter(".Map2:first"),w=R.filter(".Map3:first"),_=R.filter(".Map4:first"),b=R.filter(".Map5:first"),x=R.filter(".Map6:first"),C=new n(d,{map:{width:vt.colorMap.width,height:vt.colorMap.height},arrow:{image:vt.clientPath+vt.colorMap.arrow.file,width:vt.colorMap.arrow.width,height:vt.colorMap.arrow.height}}),C.bind(V),T=new n(f,{map:{width:vt.colorBar.width,height:vt.colorBar.height},arrow:{image:vt.clientPath+vt.colorBar.arrow.file,width:vt.colorBar.arrow.width,height:vt.colorBar.arrow.height}}),T.bind(W),S=new r(E,wt.active,s.expandable&&s.bindToInput?s.input:null,s.alphaPrecision);var P=null!=l?l.hex:null,j=E.find(".Preview"),X=E.find(".Button");if(A=j.find(".Active:first").css({backgroundColor:P&&"#"+P||"transparent"}),O=j.find(".Current:first").css({backgroundColor:P&&"#"+P||"transparent"}).bind("click",tt),Q.call(e,O,Math.precision(100*wt.current.val("a"))/255,4),N=X.find(".Ok:first").bind("click",it),D=X.find(".Cancel:first").bind("click",et),M=X.find(".Grid:first"),setTimeout(function(){G.call(e,p,vt.clientPath+"Maps.png"),G.call(e,g,vt.clientPath+"Maps.png"),G.call(e,m,vt.clientPath+"map-opacity.png"),G.call(e,v,vt.clientPath+"Bars.png"),G.call(e,y,vt.clientPath+"Bars.png"),G.call(e,w,vt.clientPath+"Bars.png"),G.call(e,_,vt.clientPath+"Bars.png"),G.call(e,b,vt.clientPath+"bar-opacity.png"),G.call(e,x,vt.clientPath+"AlphaBar.png"),G.call(e,j.find("div:first"),vt.clientPath+"preview-opacity.png")},0),E.find("td.Radio input").bind("click",J),wt.quickList&&wt.quickList.length>0){var U="";for(i=0;i<wt.quickList.length;i++){"string"==(typeof wt.quickList[i]).toString().toLowerCase()&&(wt.quickList[i]=new o({hex:wt.quickList[i]}));var Y=wt.quickList[i].val("a"),q=wt.quickList[i].val("ahex");!s.alphaSupport&&q&&(q=q.substring(0,6)+"ff");var $=wt.quickList[i].val("hex");U+='<span class="QuickColor"'+(q&&' title="#'+q+'"'||"")+' style="background-color:'+($&&"#"+$||"")+";"+($?"":"background-image:url("+vt.clientPath+"NoColor.png)")+(s.alphaSupport&&Y&&255>Y?";opacity:"+Math.precision(Y/255,4)+";filter:Alpha(opacity="+Math.precision(Y/2.55,4)+")":"")+'">&nbsp;</span>'}G.call(e,M,vt.clientPath+"bar-opacity.png"),M.html(U),M.find(".QuickColor").click(ct)}z.call(e,c.c.mode),wt.active.bind(B),t.isFunction(ut)&&wt.active.bind(ut),wt.current.bind(rt),s.expandable?(e.icon=a.parents(".Icon:first"),I=e.icon.find(".Color:first").css({backgroundColor:P&&"#"+P||"transparent"}),H=e.icon.find(".Alpha:first"),G.call(e,H,vt.clientPath+"bar-opacity.png"),Q.call(e,H,Math.precision(100*(255-(null!=l?l.a:0))/255,4)),L=e.icon.find(".Image:first").css({backgroundImage:"url('"+vt.clientPath+vt.picker.file+"')"}).bind("click",nt),s.bindToInput&&s.updateInputColor&&s.input.css({backgroundColor:P&&"#"+P||"transparent",color:null==l||l.v>75?"#000000":"#ffffff"}),F=E.find(".Move:first").bind("mousedown",st),wt.active.bind(ot)):ft.call(e)},mt=function(){for(u.find("td.Radio input").unbind("click",J),O.unbind("click",tt),D.unbind("click",et),N.unbind("click",it),c.window.expandable&&(L.unbind("click",nt),F.unbind("mousedown",st),e.icon=null),u.find(".QuickColor").unbind("click",ct),d=null,f=null,p=null,g=null,m=null,v=null,y=null,w=null,_=null,b=null,x=null,C.destroy(),C=null,T.destroy(),T=null,S.destroy(),S=null,A=null,O=null,N=null,D=null,M=null,ht=null,dt=null,ut=null,u.html(""),i=0;i<s.length;i++)s[i]==e&&s.splice(i,1)},vt=c.images,yt=c.localization,wt={active:new o("string"==(typeof c.c.active).toString().toLowerCase()?{ahex:!c.window.alphaSupport&&c.c.active?c.c.active.substring(0,6)+"ff":c.c.active}:{ahex:!c.window.alphaSupport&&c.c.active.val("ahex")?c.c.active.val("ahex").substring(0,6)+"ff":c.c.active.val("ahex")}),current:new o("string"==(typeof c.c.active).toString().toLowerCase()?{ahex:!c.window.alphaSupport&&c.c.active?c.c.active.substring(0,6)+"ff":c.c.active}:{ahex:!c.window.alphaSupport&&c.c.active.val("ahex")?c.c.active.val("ahex").substring(0,6)+"ff":c.c.active.val("ahex")}),quickList:c.c.quickList};t.extend(!0,e,{commitCallback:ht,liveCallback:ut,cancelCallback:dt,color:wt,show:ft,hide:pt,destroy:mt}),s.push(e),setTimeout(function(){gt.call(e)},0)})},t.fn.jPicker.defaults={}}(jQuery,"1.1.6")},{}],"jquery.classygradient":[function(t,e,i){!function(t){t.ClassyGradient=function(e,i){var n,r,o,s,a,l,c,h,u,d,f,p={gradient:'0% #F1b916,100% #9d6126"',width:300,height:18,point:8,orientation:"vertical",target:"",tooltip:"0% #feffff,100% #ededed",onChange:function(){},onInit:function(){}},g=this,m=t(e),e=e,v=new Array;g.settings={},g.__constructor=function(){g.settings=t.extend({},p,i),g.update(),g.settings.onInit()},g.update=function(){y(),w(),_()},g.getCSS=function(){var e="",i="0%",n="100%",r="left bottom",o="top",s="0";"horizontal"==g.settings.orientation&&(i="100%",n="0%",r="right top",o="left",s="1");var a='<svg xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="gradient" x1="0%" y1="0%" x2="'+i+'" y2="'+n+'">',l=("progid:DXImageTransform.Microsoft.gradient( startColorstr='"+v[0][1]+"', endColorstr='"+v[v.length-1][1]+"',GradientType="+s+")","-webkit-gradient(linear, left top, "+r),c="";return t.each(v,function(t,e){l+=", color-stop("+e[0]+", "+e[1]+")",c+=","+e[1]+" "+e[0],a+='<stop offset="'+e[0]+'" style="stop-color:'+e[1]+';" />'}),l+=")",c=c.substr(1),a+='</linearGradient></defs><rect fill="url(#gradient)" height="100%" width="100%" /></svg>',a=A(a),e+="background: url(data:image/svg+xml;base64,"+a+");\n",e+="background: "+l+";\n",e+="background: -moz-linear-gradient("+o+","+c+");\n",e+="background: -webkit-linear-gradient("+o+","+c+");\n",e+="background: -o-linear-gradient("+o+","+c+");\n",e+="background: -ms-linear-gradient("+o+","+c+");\n",e+="background: linear-gradient("+o+","+c+");"},g.getArray=function(){return v},g.getString=function(){var e="";return t.each(v,function(t,i){e+=i[0]+" "+i[1]+","}),e=e.substr(0,e.length-1)},g.setOrientation=function(t){g.settings.orientation=t,S()};var y=function(){v=new Array,v=t.isArray(g.settings.gradient)?g.settings.gradient:k(g.settings.gradient)},w=function(){m.html(""),n=t('<div class="ClassyGradient"></div>'),r=t('<canvas class="canvas" width="'+g.settings.width+'" height="'+g.settings.height+'"></canvas>'),n.append(r),u=r.get(0).getContext("2d"),o=t('<div class="points"></div>'),o.css("width",g.settings.width+Math.round(g.settings.point/2+1)+"px"),n.append(o),s=t('<div class="info"></div>'),s.append('<div class="arrow"></div>'),n.append(s),a=t('<div class="content"></div>'),s.append(a),f=k(g.settings.tooltip),T(a,f),a.css("color",g.settings.tooltipTextColor),s.find(".arrow").css("borderColor","transparent transparent "+f[0][1]+" transparent"),m.hover(function(){m.addClass("hover")},function(){m.removeClass("hover")}),l=t('<div class="point-color"><div style="background-color: #00ff00"></div></div>'),c=t('<span class="point-position">%</span>'),h=t('<a href="javascript:" class="delete"></a>'),a.append(l,c,h),m.append(n);var e=function(e){t(".point-color div").css("backgroundColor",e),d.css("backgroundColor",e),C(),S()};l.click(function(){return app.trigger("request-color",l,e),!1}),t(document).bind("click",function(){m.is(".hover")||s.hide("fast")}),r.unbind("click"),r.bind("click",function(e){var i=r.offset(),n=e.pageX-i.left;n=Math.round(100*n/g.settings.width);var s="#000000",a=999999999999;t.each(v,function(t,e){parseInt(e[0])<n&&n-parseInt(e[0])<a?(a=n-parseInt(e[0]),s=e[1]):parseInt(e[0])>n&&parseInt(e[0])-n<a&&(a=parseInt(e[0])-n,s=e[1])}),v.push([n+"%",s]),v.sort(P),_(),t.each(v,function(t,e){e[0]==n+"%"&&x(o.find(".point:eq("+t+")"))})})},_=function(){b(),C(),S()},b=function(){o.html(""),t.each(v,function(t,e){o.append('<div class="point" style="background-color: '+e[1]+"; left:"+parseInt(e[0])*g.settings.width/100+"px; top:-"+t*(g.settings.point+2)+'px"><div class="arrow"></div></div>')}),o.find(".point").css("width",g.settings.point+"px"),o.find(".point").css("height",g.settings.point+"px"),o.find(".point").mouseup(function(){x(this)}),o.find(".point").draggable({axis:"x",containment:"parent",drag:function(){x(this),C(),S()}})},x=function(e){d=t(e);var i=t(e).css("backgroundColor"),n=parseInt(t(e).css("left"));n=Math.round(n/g.settings.width*100),i=i.substr(4,i.length),i=i.substr(0,i.length-1),l.ColorPickerSetColor(R(i.split(","))),l.find("div").css("backgroundColor",R(i.split(","))),c.html("Position: "+n+"%"),h.unbind("click"),h.bind("click",function(){v.length>1&&(v.splice(d.index(),1),_(),m.find(".info").hide("fast"))});var r=parseInt(t(e).css("left"))-30;m.find(".info").css("marginLeft",r+"px"),m.find(".info").show("fast")},C=function(){v=new Array,m.find(".point").each(function(e,i){var n=Math.round(parseInt(t(i).css("left"))/g.settings.width*100),r=t(i).css("backgroundColor").substr(4,t(i).css("backgroundColor").length-5);r=R(r.split(",")),v.push([n+"%",r])}),v.sort(P),E(),g.settings.onChange(g.getString(),g.getCSS(),g.getArray())},T=function(e,i){var n="0%",o="100%",s="left bottom",l="top",c="0";e!=r&&"horizontal"!=g.settings.orientation||(n="100%",o="0%",s="right top",l="left",c="1");var h='<svg xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="gradient" x1="0%" y1="0%" x2="'+n+'" y2="'+o+'">',u=("progid:DXImageTransform.Microsoft.gradient( startColorstr='"+i[0][1]+"', endColorstr='"+i[i.length-1][1]+"',GradientType="+c+")","-webkit-gradient(linear, left top, "+s),d="";if(t.each(i,function(t,e){u+=", color-stop("+e[0]+", "+e[1]+")",d+=","+e[1]+" "+e[0],h+='<stop offset="'+e[0]+'" style="stop-color:'+e[1]+';" />'}),u+=")",d=d.substr(1),h+="</linearGradient></defs>",e==a){var f=parseInt(a.css("borderRadius"));h+='<rect fill="url(#gradient)" height="100%" width="100%" rx="'+f+'" ry="'+f+'" />'}else h+='<rect fill="url(#gradient)" height="100%" width="100%" />';h+="</svg>",h=A(h),e.css("background","url(data:image/svg+xml;base64,"+h+")"),e.css("background",u),e.css("background","-moz-linear-gradient("+l+","+d+")"),e.css("background","-webkit-linear-gradient("+l+","+d+")"),e.css("background","-o-linear-gradient("+l+","+d+")"),e.css("background","-ms-linear-gradient("+l+","+d+")"),e.css("background","linear-gradient("+l+","+d+")")},S=function(){if(""!=g.settings.target){var e=t(g.settings.target);T(e,v)}},E=function(){var e=u.createLinearGradient(0,0,g.settings.width,0);t.each(v,function(t,i){e.addColorStop(parseInt(i[0])/100,i[1])}),u.clearRect(0,0,g.settings.width,g.settings.height),u.fillStyle=e,u.fillRect(0,0,g.settings.width,g.settings.height),g.settings.onChange(g.getString(),g.getCSS(),g.getArray())},k=function(e){var i=new Array,n=e.split(",");return t.each(n,function(t,e){var n;"100"==e.substr(e.indexOf("%")-3,e.indexOf("%"))||"100%"==e.substr(e.indexOf("%")-3,e.indexOf("%"))?n="100%":e.indexOf("%")>1?(n=parseInt(e.substr(e.indexOf("%")-2,e.indexOf("%"))),n+="%"):(n=parseInt(e.substr(e.indexOf("%")-1,e.indexOf("%"))),n+="%");var r=e.substr(e.indexOf("#"),7);i.push([n,r])}),i},R=function(t){function e(t){return t=parseInt(t,10),isNaN(t)?"00":(t=Math.max(0,Math.min(t,255)),"0123456789ABCDEF".charAt((t-t%16)/16)+"0123456789ABCDEF".charAt(t%16))}var i=t[0],n=t[1],r=t[2];return"#"+e(i)+e(n)+e(r)},P=function(t,e){return parseInt(t[0])<parseInt(e[0])?-1:parseInt(t[0])>parseInt(e[0])?1:0},A=function(t){for(var e,i,n,r,o,s,a,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",h=0;h<t.length;)e=t.charCodeAt(h++),i=t.charCodeAt(h++),n=t.charCodeAt(h++),r=e>>2,o=(3&e)<<4|i>>4,s=(15&i)<<2|n>>6,a=63&n,isNaN(i)?s=a=64:isNaN(n)&&(a=64),c+=l.charAt(r)+l.charAt(o)+l.charAt(s)+l.charAt(a);return c};g.__constructor()},t.fn.ClassyGradient=function(e){return this.each(function(){if(void 0==t(this).data("ClassyGradient")){var i=new t.ClassyGradient(this,e);t(this).data("ClassyGradient",i)}})}}(jQuery)},{}],"jquery.colorpicker":[function(t,e,i){!function(t){var e=function(){var e=65,i='<div class="colorpicker"><div class="colorpicker_color"><div><div></div></div></div><div class="colorpicker_hue"><div></div></div><div class="colorpicker_new_color"></div><div class="colorpicker_current_color"></div><div class="colorpicker_hex"><input type="text" maxlength="6" size="6" /></div><div class="colorpicker_rgb_r colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_g colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_rgb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_h colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_s colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_hsb_b colorpicker_field"><input type="text" maxlength="3" size="3" /><span></span></div><div class="colorpicker_submit"></div></div>',n={eventName:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},color:"ff0000",livePreview:!0,flat:!1},r=function(e,i){var n=L(e);t(i).data("colorpicker").fields.eq(1).val(n.r).end().eq(2).val(n.g).end().eq(3).val(n.b).end()},o=function(e,i){t(i).data("colorpicker").fields.eq(4).val(e.h).end().eq(5).val(e.s).end().eq(6).val(e.b).end()},s=function(e,i){t(i).data("colorpicker").fields.eq(0).val(z(e)).end()},a=function(e,i){t(i).data("colorpicker").selector.css("backgroundColor","#"+z({h:e.h,s:100,b:100})),t(i).data("colorpicker").selectorIndic.css({left:parseInt(150*e.s/100,10),top:parseInt(150*(100-e.b)/100,10)})},l=function(e,i){t(i).data("colorpicker").hue.css("top",parseInt(150-150*e.h/360,10))},c=function(e,i){t(i).data("colorpicker").currentColor.css("backgroundColor","#"+z(e))},h=function(e,i){t(i).data("colorpicker").newColor.css("backgroundColor","#"+z(e))},u=function(i){var n=i.charCode||i.keyCode||-1;if(n>e&&90>=n||32==n)return!1;var r=t(this).parent().parent();r.data("colorpicker").livePreview===!0&&d.apply(this)},d=function(e){var i,n=t(this).parent().parent();this.parentNode.className.indexOf("_hex")>0?n.data("colorpicker").color=i=I(D(this.value)):this.parentNode.className.indexOf("_hsb")>0?n.data("colorpicker").color=i=O({h:parseInt(n.data("colorpicker").fields.eq(4).val(),10),s:parseInt(n.data("colorpicker").fields.eq(5).val(),10),b:parseInt(n.data("colorpicker").fields.eq(6).val(),10)}):n.data("colorpicker").color=i=H(N({r:parseInt(n.data("colorpicker").fields.eq(1).val(),10),g:parseInt(n.data("colorpicker").fields.eq(2).val(),10),b:parseInt(n.data("colorpicker").fields.eq(3).val(),10)})),e&&(r(i,n.get(0)),s(i,n.get(0)),o(i,n.get(0))),a(i,n.get(0)),l(i,n.get(0)),h(i,n.get(0)),n.data("colorpicker").onChange.apply(n,[i,z(i),L(i)])},f=function(e){var i=t(this).parent().parent();i.data("colorpicker").fields.parent().removeClass("colorpicker_focus")},p=function(){e=this.parentNode.className.indexOf("_hex")>0?70:65,t(this).parent().parent().data("colorpicker").fields.parent().removeClass("colorpicker_focus"),t(this).parent().addClass("colorpicker_focus")},g=function(e){var i=t(this).parent().find("input").focus(),n={el:t(this).parent().addClass("colorpicker_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:this.parentNode.className.indexOf("_hsb")>0?100:255,y:e.pageY,field:i,val:parseInt(i.val(),10),preview:t(this).parent().parent().data("colorpicker").livePreview};t(document).bind("mouseup",n,v),t(document).bind("mousemove",n,m)},m=function(t){return t.data.field.val(Math.max(0,Math.min(t.data.max,parseInt(t.data.val+t.pageY-t.data.y,10)))),t.data.preview&&d.apply(t.data.field.get(0),[!0]),!1},v=function(e){return d.apply(e.data.field.get(0),[!0]),e.data.el.removeClass("colorpicker_slider").find("input").focus(),t(document).unbind("mouseup",v),t(document).unbind("mousemove",m),!1},y=function(e){var i={cal:t(this).parent(),y:t(this).offset().top};i.preview=i.cal.data("colorpicker").livePreview,t(document).bind("mouseup",i,_),t(document).bind("mousemove",i,w)},w=function(t){return d.apply(t.data.cal.data("colorpicker").fields.eq(4).val(parseInt(360*(150-Math.max(0,Math.min(150,t.pageY-t.data.y)))/150,10)).get(0),[t.data.preview]),!1},_=function(e){return r(e.data.cal.data("colorpicker").color,e.data.cal.get(0)),s(e.data.cal.data("colorpicker").color,e.data.cal.get(0)),t(document).unbind("mouseup",_),t(document).unbind("mousemove",w),!1},b=function(e){var i={cal:t(this).parent(),pos:t(this).offset()};i.preview=i.cal.data("colorpicker").livePreview,t(document).bind("mouseup",i,C),t(document).bind("mousemove",i,x)},x=function(t){return d.apply(t.data.cal.data("colorpicker").fields.eq(6).val(parseInt(100*(150-Math.max(0,Math.min(150,t.pageY-t.data.pos.top)))/150,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(150,t.pageX-t.data.pos.left))/150,10)).get(0),[t.data.preview]),!1},C=function(e){return r(e.data.cal.data("colorpicker").color,e.data.cal.get(0)),s(e.data.cal.data("colorpicker").color,e.data.cal.get(0)),t(document).unbind("mouseup",C),t(document).unbind("mousemove",x),!1},T=function(e){t(this).addClass("colorpicker_focus")},S=function(e){t(this).removeClass("colorpicker_focus")},E=function(e){var i=t(this).parent(),n=i.data("colorpicker").color;i.data("colorpicker").origColor=n,c(n,i.get(0)),i.data("colorpicker").onSubmit(n,z(n),L(n),i.data("colorpicker").el)},k=function(e){var i=t("#"+t(this).data("colorpickerId"));i.data("colorpicker").onBeforeShow.apply(this,[i.get(0)]);var n=t(this).offset(),r=A(),o=n.top+this.offsetHeight,s=n.left;return o+176>r.t+r.h&&(o-=this.offsetHeight+176),s+356>r.l+r.w&&(s-=356),i.css({left:s+"px",top:o+"px"}),0!=i.data("colorpicker").onShow.apply(this,[i.get(0)])&&i.show(),t(document).bind("mousedown",{cal:i},R),!1},R=function(e){P(e.data.cal.get(0),e.target,e.data.cal.get(0))||(0!=e.data.cal.data("colorpicker").onHide.apply(this,[e.data.cal.get(0)])&&e.data.cal.hide(),t(document).unbind("mousedown",R))},P=function(t,e,i){if(t==e)return!0;if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return!!(16&t.compareDocumentPosition(e));for(var n=e.parentNode;n&&n!=i;){if(n==t)return!0;n=n.parentNode}return!1},A=function(){var t="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(t?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(t?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(t?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(t?document.documentElement.clientHeight:document.body.clientHeight)}},O=function(t){return{h:Math.min(360,Math.max(0,t.h)),s:Math.min(100,Math.max(0,t.s)),b:Math.min(100,Math.max(0,t.b))}},N=function(t){return{r:Math.min(255,Math.max(0,t.r)),g:Math.min(255,Math.max(0,t.g)),b:Math.min(255,Math.max(0,t.b))}},D=function(t){var e=6-t.length;if(e>0){for(var i=[],n=0;e>n;n++)i.push("0");i.push(t),t=i.join("")}return t},M=function(t){var t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16);return{r:t>>16,g:(65280&t)>>8,b:255&t}},I=function(t){return H(M(t))},H=function(t){var e={h:0,s:0,b:0},i=Math.min(t.r,t.g,t.b),n=Math.max(t.r,t.g,t.b),r=n-i;return e.b=n,e.s=0!=n?255*r/n:0,0!=e.s?t.r==n?e.h=(t.g-t.b)/r:t.g==n?e.h=2+(t.b-t.r)/r:e.h=4+(t.r-t.g)/r:e.h=-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e},L=function(t){var e={},i=Math.round(t.h),n=Math.round(255*t.s/100),r=Math.round(255*t.b/100);if(0==n)e.r=e.g=e.b=r;else{var o=r,s=(255-n)*r/255,a=(o-s)*(i%60)/60;360==i&&(i=0),60>i?(e.r=o,e.b=s,e.g=s+a):120>i?(e.g=o,e.b=s,e.r=o-a):180>i?(e.g=o,e.r=s,e.b=s+a):240>i?(e.b=o,e.r=s,e.g=o-a):300>i?(e.b=o,e.g=s,e.r=s+a):360>i?(e.r=o,e.g=s,e.b=o-a):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}},F=function(e){var i=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return t.each(i,function(t,e){1==e.length&&(i[t]="0"+e)}),i.join("")},z=function(t){return F(L(t))},B=function(){var e=t(this).parent(),i=e.data("colorpicker").origColor;e.data("colorpicker").color=i,r(i,e.get(0)),s(i,e.get(0)),o(i,e.get(0)),a(i,e.get(0)),l(i,e.get(0)),h(i,e.get(0))};return{init:function(e){if(e=t.extend({},n,e||{}),"string"==typeof e.color)e.color=I(e.color);else if(void 0!=e.color.r&&void 0!=e.color.g&&void 0!=e.color.b)e.color=H(e.color);else{if(void 0==e.color.h||void 0==e.color.s||void 0==e.color.b)return this;e.color=O(e.color)}return this.each(function(){if(!t(this).data("colorpickerId")){var n=t.extend({},e);n.origColor=e.color;
var m="collorpicker_"+parseInt(1e3*Math.random());t(this).data("colorpickerId",m);var v=t(i).attr("id",m);n.flat?v.appendTo(this).show():v.appendTo(document.body),n.fields=v.find("input").bind("keyup",u).bind("change",d).bind("blur",f).bind("focus",p),v.find("span").bind("mousedown",g).end().find(">div.colorpicker_current_color").bind("click",B),n.selector=v.find("div.colorpicker_color").bind("mousedown",b),n.selectorIndic=n.selector.find("div div"),n.el=this,n.hue=v.find("div.colorpicker_hue div"),v.find("div.colorpicker_hue").bind("mousedown",y),n.newColor=v.find("div.colorpicker_new_color"),n.currentColor=v.find("div.colorpicker_current_color"),v.data("colorpicker",n),v.find("div.colorpicker_submit").bind("mouseenter",T).bind("mouseleave",S).bind("click",E),r(n.color,v.get(0)),o(n.color,v.get(0)),s(n.color,v.get(0)),l(n.color,v.get(0)),a(n.color,v.get(0)),c(n.color,v.get(0)),h(n.color,v.get(0)),n.flat?v.css({position:"relative",display:"block"}):t(this).bind(n.eventName,k)}})},showPicker:function(){return this.each(function(){t(this).data("colorpickerId")&&k.apply(this)})},hidePicker:function(){return this.each(function(){t(this).data("colorpickerId")&&t("#"+t(this).data("colorpickerId")).hide()})},setColor:function(e){if("string"==typeof e)e=I(e);else if(void 0!=e.r&&void 0!=e.g&&void 0!=e.b)e=H(e);else{if(void 0==e.h||void 0==e.s||void 0==e.b)return this;e=O(e)}return this.each(function(){if(t(this).data("colorpickerId")){var i=t("#"+t(this).data("colorpickerId"));i.data("colorpicker").color=e,i.data("colorpicker").origColor=e,r(e,i.get(0)),o(e,i.get(0)),s(e,i.get(0)),l(e,i.get(0)),a(e,i.get(0)),c(e,i.get(0)),h(e,i.get(0))}})}}}();t.fn.extend({ColorPicker:e.init,ColorPickerHide:e.hidePicker,ColorPickerShow:e.showPicker,ColorPickerSetColor:e.setColor})}($)},{}],kdTree:[function(t,e,i){!function(t,e){"function"==typeof define&&define.amd?define(["exports"],e):e("object"==typeof i?i:t.commonJsStrict={})}(this,function(t){function e(t,e,i){this.obj=t,this.left=null,this.right=null,this.parent=i,this.dimension=e}function i(t,i,r){function o(t,i,n){var s,a,l=i%r.length;return 0===t.length?null:1===t.length?new e(t[0],l,n):(t.sort(function(t,e){return t[r[l]]-e[r[l]]}),s=Math.floor(t.length/2),a=new e(t[s],l,n),a.left=o(t.slice(0,s),i+1,a),a.right=o(t.slice(s+1),i+1,a),a)}function s(t){function e(t){t.left&&(t.left.parent=t,e(t.left)),t.right&&(t.right.parent=t,e(t.right))}a.root=t,e(a.root)}var a=this;Array.isArray(t)?this.root=o(t,0,null):s(t,i,r),this.toJSON=function(t){t||(t=this.root);var i=new e(t.obj,t.dimension,null);return t.left&&(i.left=a.toJSON(t.left)),t.right&&(i.right=a.toJSON(t.right)),i},this.insert=function(t){function i(e,n){if(null===e)return n;var o=r[e.dimension];return t[o]<e.obj[o]?i(e.left,e):i(e.right,e)}var n,o,s=i(this.root,null);return null===s?void(this.root=new e(t,0,null)):(n=new e(t,(s.dimension+1)%r.length,s),o=r[s.dimension],void(t[o]<s.obj[o]?s.left=n:s.right=n))},this.remove=function(t){function e(i){if(null===i)return null;if(i.obj===t)return i;var n=r[i.dimension];return t[n]<i.obj[n]?e(i.left,i):e(i.right,i)}function i(t){function e(t,i){var n,o,s,a,l;return null===t?null:(n=r[i],t.dimension===i?null!==t.left?e(t.left,i):t:(o=t.obj[n],s=e(t.left,i),a=e(t.right,i),l=t,null!==s&&s.obj[n]<o&&(l=s),null!==a&&a.obj[n]<l.obj[n]&&(l=a),l))}var n,o,s;return null===t.left&&null===t.right?null===t.parent?void(a.root=null):(s=r[t.parent.dimension],void(t.obj[s]<t.parent.obj[s]?t.parent.left=null:t.parent.right=null)):void(null!==t.right?(n=e(t.right,t.dimension),o=n.obj,i(n),t.obj=o):(n=e(t.left,t.dimension),o=n.obj,i(n),t.right=t.left,t.left=null,t.obj=o))}var n;n=e(a.root),null!==n&&i(n)},this.nearest=function(t,e,o){function s(n){function o(t,i){h.push([t,i]),h.size()>e&&h.pop()}var a,l,c,u,d=r[n.dimension],f=i(t,n.obj),p={};for(u=0;u<r.length;u+=1)u===n.dimension?p[r[u]]=t[r[u]]:p[r[u]]=n.obj[r[u]];return l=i(p,n.obj),null===n.right&&null===n.left?void((h.size()<e||f<h.peek()[1])&&o(n,f)):(a=null===n.right?n.left:null===n.left?n.right:t[d]<n.obj[d]?n.left:n.right,s(a),(h.size()<e||f<h.peek()[1])&&o(n,f),void((h.size()<e||Math.abs(l)<h.peek()[1])&&(c=a===n.left?n.right:n.left,null!==c&&s(c))))}var l,c,h;if(h=new n(function(t){return-t[1]}),o)for(l=0;e>l;l+=1)h.push([null,o]);for(a.root&&s(a.root),c=[],l=0;l<Math.min(e,h.content.length);l+=1)h.content[l][0]&&c.push([h.content[l][0].obj,h.content[l][1]]);return c},this.balanceFactor=function(){function t(e){return null===e?0:Math.max(t(e.left),t(e.right))+1}function e(t){return null===t?0:e(t.left)+e(t.right)+1}return t(a.root)/(Math.log(e(a.root))/Math.log(2))}}function n(t){this.content=[],this.scoreFunction=t}n.prototype={push:function(t){this.content.push(t),this.bubbleUp(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.sinkDown(0)),t},peek:function(){return this.content[0]},remove:function(t){for(var e=this.content.length,i=0;e>i;i++)if(this.content[i]==t){var n=this.content.pop();return void(i!=e-1&&(this.content[i]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.bubbleUp(i):this.sinkDown(i)))}throw new Error("Node not found.")},size:function(){return this.content.length},bubbleUp:function(t){for(var e=this.content[t];t>0;){var i=Math.floor((t+1)/2)-1,n=this.content[i];if(!(this.scoreFunction(e)<this.scoreFunction(n)))break;this.content[i]=e,this.content[t]=n,t=i}},sinkDown:function(t){for(var e=this.content.length,i=this.content[t],n=this.scoreFunction(i);;){var r=2*(t+1),o=r-1,s=null;if(e>o){var a=this.content[o],l=this.scoreFunction(a);n>l&&(s=o)}if(e>r){var c=this.content[r],h=this.scoreFunction(c);(null==s?n:l)>h&&(s=r)}if(null==s)break;this.content[t]=this.content[s],this.content[s]=i,t=s}}},this.kdTree=i,t.kdTree=i,t.BinaryHeap=n})},{}],medium:[function(t,e,i){(function(i,n){"use strict";var r=t("rangy"),o=t("undo"),s=i.Key={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capsLock:20,escape:27,pageUp:33,pageDown:34,end:35,home:36,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40,insert:45,"delete":46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftWindow:91,rightWindowKey:92,select:93,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,multiply:106,add:107,subtract:109,decimalPoint:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numLock:144,scrollLock:145,semiColon:186,equalSign:187,comma:188,dash:189,period:190,forwardSlash:191,graveAccent:192,openBracket:219,backSlash:220,closeBracket:221,singleQuote:222},a=function(){var t=function(e){var i,n,r,o=this,a=l.deepExtend({},t.defaultSettings),c=this.settings=l.deepExtend(a,e),h=new t.Cache,u=new t.Selection,d=new t.Action(this),f=new t.Cursor(this),p=new t.Undoable(this);for(r in a)a.hasOwnProperty(r)&&"object"!=typeof a[r]&&a.hasOwnProperty(r)&&c.element.getAttribute("data-medium-"+s)&&(n=c.element.getAttribute("data-medium-"+s),"false"!==n.toLowerCase()&&"true"!==n.toLowerCase()||(n="true"===n.toLowerCase()),c[r]=n);if(c.modifiers)for(r in c.modifiers)c.modifiers.hasOwnProperty(r)&&"undefined"!=typeof s[r]&&(c.modifiers[s[r]]=c.modifiers[r]);if(c.keyContext)for(r in c.keyContext)c.keyContext.hasOwnProperty(r)&&"undefined"!=typeof s[r]&&(c.keyContext[s[r]]=c.keyContext[r]);i=c.element,i.contentEditable=!0,i.className+=" "+c.cssClasses.editor+(" "+c.cssClasses.editor+"-"+c.mode),c.tags=c.tags||{},c.tags.outerLevel&&(c.tags.outerLevel=c.tags.outerLevel.concat([c.tags.paragraph,c.tags.horizontalRule])),this.settings=c,this.element=i,i.medium=this,this.action=d,this.cache=h,this.cursor=f,this.utils=l,this.selection=u,o.clean(),o.placeholders(),d.preserveElementFocus(),this.dirty=!1,this.undoable=p,this.makeUndoable=p.makeUndoable,c.drag&&(o.drag=new t.Drag(o),o.drag.setup()),d.setup(),h.initialized=!0,this.makeUndoable(!0)};return t.prototype={placeholders:function(){if(i.getComputedStyle){var e=this.settings,r=this.placeholder||(this.placeholder=n.createElement("div")),o=this.element,s=r.style,a=i.getComputedStyle(o,null),c=function(t){return a.getPropertyValue(t)},h=l.text(o),u=this.cursor,d=o.children.length,f=t.activeElement===o;if(o.placeholder=r,!f&&h.length<1&&2>d){if(o.placeHolderActive)return;o.innerHTML.match("<"+e.tags.paragraph)||(o.innerHTML=""),e.placeholder.length>0&&(r.setup||(r.setup=!0,s.background=c("background"),s.backgroundColor=c("background-color"),s.fontSize=c("font-size"),s.color=a.color,s.marginTop=c("margin-top"),s.marginBottom=c("margin-bottom"),s.marginLeft=c("margin-left"),s.marginRight=c("margin-right"),s.paddingTop=c("padding-top"),s.paddingBottom=c("padding-bottom"),s.paddingLeft=c("padding-left"),s.paddingRight=c("padding-right"),s.borderTopWidth=c("border-top-width"),s.borderTopColor=c("border-top-color"),s.borderTopStyle=c("border-top-style"),s.borderBottomWidth=c("border-bottom-width"),s.borderBottomColor=c("border-bottom-color"),s.borderBottomStyle=c("border-bottom-style"),s.borderLeftWidth=c("border-left-width"),s.borderLeftColor=c("border-left-color"),s.borderLeftStyle=c("border-left-style"),s.borderRightWidth=c("border-right-width"),s.borderRightColor=c("border-right-color"),s.borderRightStyle=c("border-right-style"),r.className=e.cssClasses.placeholder+" "+e.cssClasses.placeholder+"-"+e.mode,r.innerHTML="<div>"+e.placeholder+"</div>",o.parentNode.insertBefore(r,o)),o.className+=" "+e.cssClasses.clear,s.display="",s.minHeight=o.clientHeight+"px",s.minWidth=o.clientWidth+"px",e.mode!==t.inlineMode&&e.mode!==t.inlineRichMode&&(this.setupContents(),0===d&&o.firstChild&&u.set(this,0,o.firstChild))),o.placeHolderActive=!0}else o.placeHolderActive&&(o.placeHolderActive=!1,s.display="none",o.className=l.trim(o.className.replace(e.cssClasses.clear,"")),this.setupContents())}},clean:function(e){var r,o,s,a=this.settings,c=a.cssClasses.placeholder,h=(a.attributes||{}).remove||[],u=a.tags||{},d=u.outerLevel||null,f=u.innerLevel||null,p={},g={},m=(u.paragraph||"").toUpperCase();this.html;if(e=e||a.element,a.mode===t.inlineRichMode&&(d=a.tags.innerLevel),null!==d)for(s=0;s<d.length;s++)p[d[s].toUpperCase()]=!0;if(null!==f)for(s=0;s<f.length;s++)g[f[s].toUpperCase()]=!0;l.traverseAll(e,{element:function(t,e,a,u){var v,y=t.nodeName,w=!0;for(s=0;s<h.length;s++)r=h[s],t.hasAttribute(r)&&(v=t.getAttribute(r),v===c||v.match("medium-")||"class"!==r||t.removeAttribute(r));if((null!==d||null!==f)&&(1===a&&void 0!==p[y]?w=!1:a>1&&void 0!==g[y]&&(w=!1),w))if("block"===i.getComputedStyle(t,null).getPropertyValue("display")){if(m.length>0&&m!==y&&l.changeTag(t,m),a>1)for(;u.childNodes.length>e;)u.parentNode.insertBefore(u.lastChild,u.nextSibling)}else switch(y){case"BR":if(t===t.parentNode.lastChild){if(t===t.parentNode.firstChild)break;o=n.createTextNode(""),o.innerHTML="&nbsp",t.parentNode.insertBefore(o,t);break}default:for(;null!==t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);l.detachNode(t)}}})},insertHtml:function(e,i,n){var r=new t.Html(this,e).insert(this.settings.beforeInsertHtml),o=r[r.length-1];switch(n===!0&&l.triggerEvent(this.element,"change"),i&&i.apply(r),o.nodeName){case"UL":case"OL":case"DL":if(null!==o.lastChild){this.cursor.moveCursorToEnd(o.lastChild);break}default:this.cursor.moveCursorToEnd(o)}return this},addTag:function(t,e,i,r){if(!this.settings.beforeAddTag(t,e,i,r)){var o,s=n.createElement(t);return"undefined"!=typeof i&&i===!1&&(s.contentEditable=!1),0==s.innerHTML.length&&(s.innerHTML=" "),r&&r.nextSibling?(r.parentNode.insertBefore(s,r.nextSibling),o=r.nextSibling):(this.element.appendChild(s),o=this.lastChild()),e&&(this.cache.focusedElement=o,this.cursor.set(this,0,o)),s}return null},invokeElement:function(e,i,n){var r=this.settings,o=i.remove||[];switch(i=i||{},r.mode){case t.inlineMode:case t.partialMode:return this}return o.length>0&&(l.arrayContains(r,"class")||o.push("class")),new t.Element(this,e,i).invoke(this.settings.beforeInvokeElement),n===!0&&l.triggerEvent(this.element,"change"),this},value:function(t){return"undefined"==typeof t?this.element.innerHTML:(this.element.innerHTML=t,this.clean(),this.placeholders(),this.makeUndoable(),this)},focus:function(){var t=this.element;return t.focus(),this},select:function(){return l.selectNode(t.activeElement=this.element),this},isActive:function(){return t.activeElement===this.element},setupContents:function(){var e,i=this.element,r=i.children,o=i.childNodes,s=this.settings;return!s.tags.paragraph||r.length>0||s.mode===t.inlineMode||s.mode===t.inlineRichMode?t.Utilities:(o.length>0?(e=n.createElement(s.tags.paragraph),i.innerHTML.match("^[&]nbsp[;]")&&(i.innerHTML=i.innerHTML.substring(6,i.innerHTML.length-1)),e.innerHTML=i.innerHTML,i.innerHTML="",i.appendChild(e)):(e=n.createElement(s.tags.paragraph),e.innerHTML="&nbsp;",i.appendChild(e),this.cursor.set(this,0,i.firstChild)),this)},destroy:function(){var t=this.element,e=this.settings,i=this.placeholder||null;null!==i&&i.setup&&null!==i.parentNode&&(i.parentNode.removeChild(i),delete t.placeHolderActive),t.removeAttribute("contenteditable"),t.className=l.trim(t.className.replace(e.cssClasses.editor,"").replace(e.cssClasses.clear,"").replace(e.cssClasses.editor+"-"+e.mode,"")),this.action.destroy(),this.settings.drag&&this.drag.destroy()},clear:function(){this.element.innerHTML="",this.placeholders()},splitAtCaret:function(){if(!this.isActive())return null;var t,e=i.getSelection||n.selection,r=e(),o=r.focusOffset,s=r.focusNode,a=this.element,l=n.createRange(),c=n.createRange();return l.setStart(s,o),c.selectNodeContents(a),l.setEnd(c.endContainer,c.endOffset),t=l.extractContents()},deleteSelection:function(){if(this.isActive()){var t,e=r.getSelection();e.rangeCount>0&&(t=e.getRangeAt(0),t.deleteContents())}},lastChild:function(){return this.element.lastChild},bold:function(){switch(this.settings.mode){case t.partialMode:case t.inlineMode:return this}return new t.Element(this,"bold").setClean(!1).invoke(this.settings.beforeInvokeElement),this},underline:function(){switch(this.settings.mode){case t.partialMode:case t.inlineMode:return this}return new t.Element(this,"underline").setClean(!1).invoke(this.settings.beforeInvokeElement),this},italicize:function(){switch(this.settings.mode){case t.partialMode:case t.inlineMode:return this}return new t.Element(this,"italic").setClean(!1).invoke(this.settings.beforeInvokeElement),this},quote:function(){return this},paste:function(e){var i,n=this.value(),r=n.length,o=this.settings,s=this.selection,a=this.element,c=this,h=function(e){e=e||"",e.length>0&&(a.focus(),t.activeElement=a,s.restoreSelection(u),e=l.encodeHtml(e),i=e.length+r,o.maxLength>0&&i>o.maxLength&&(e=e.substring(0,o.maxLength-r)),o.mode!==t.inlineMode&&(e=e.replace(/\n/g,"<br>")),new t.Html(c,e).setClean(!1).insert(o.beforeInsertHtml,!0),c.clean(),c.placeholders())};if(c.makeUndoable(),void 0!==e)h(e);else if(o.pasteAsText){var u=s.saveSelection();l.pasteHook(this,h)}else setTimeout(function(){c.clean(),c.placeholders()},20);return!0},undo:function(){var t=this.undoable,e=t.stack,i=e.canUndo();return i&&e.undo(),this},redo:function(){var t=this.undoable,e=t.stack,i=e.canRedo();return i&&e.redo(),this}},t.inlineMode="inline",t.partialMode="partial",t.richMode="rich",t.inlineRichMode="inlineRich",t.Messages={pastHere:"Paste Here"},t.defaultSettings={element:null,modifier:"auto",placeholder:"",autofocus:!1,autoHR:!0,mode:t.richMode,maxLength:-1,modifiers:{b:"bold",i:"italicize",u:"underline"},tags:{"break":"br",horizontalRule:"hr",paragraph:"p",outerLevel:["pre","blockquote","figure"],innerLevel:["a","b","u","i","img","strong"]},cssClasses:{editor:"Medium",pasteHook:"Medium-paste-hook",placeholder:"Medium-placeholder",clear:"Medium-clear"},attributes:{remove:["style","class"]},pasteAsText:!0,beforeInvokeElement:function(){},beforeInsertHtml:function(){},maxLengthReached:function(t){},beforeAddTag:function(t,e,i,n){},onBlur:function(){},onFocus:function(){},keyContext:null,drag:!1},function(t,e,i){function n(t){return t.hasOwnProperty("target")&&"false"===t.target.getAttribute("contenteditable")?(l.preventDefaultEvent(t),!1):!0}t.Action=function(t){this.medium=t,this.handledEvents={keydown:null,keyup:null,blur:null,focus:null,paste:null,click:null}},t.Action.prototype={setup:function(){this.handleFocus().handleBlur().handleKeyDown().handleKeyUp().handlePaste().handleClick()},destroy:function(){var t=this.medium.element;l.removeEvent(t,"focus",this.handledEvents.focus).removeEvent(t,"blur",this.handledEvents.blur).removeEvent(t,"keydown",this.handledEvents.keydown).removeEvent(t,"keyup",this.handledEvents.keyup).removeEvent(t,"paste",this.handledEvents.paste).removeEvent(t,"click",this.handledEvents.click)},handleFocus:function(){var i=this.medium,r=i.element;return l.addEvent(r,"focus",this.handledEvents.focus=function(o){return o=o||e.event,n(o)?(t.activeElement=r,i.cache.originalVal=o.target.textContent,i.settings.onFocus(o),void i.placeholders()):!1}),this},handleBlur:function(){var i=this.medium,n=i.element;return l.addEvent(n,"blur",this.handledEvents.blur=function(r){r=r||e.event,t.activeElement===n&&(t.activeElement=null),i.settings.onBlur(r),i.placeholders()}),this},handleKeyDown:function(){var i=this,r=this.medium,o=r.settings,a=r.cache,c=r.element;return l.addEvent(c,"keydown",this.handledEvents.keydown=function(h){if(h=h||e.event,!n(h))return!1;var u=!0;if(229!==h.keyCode){if(l.isCommand(o,h,function(){a.cmd=!0},function(){a.cmd=!1}),l.isShift(h,function(){a.shift=!0},function(){a.shift=!1}),l.isModifier(o,h,function(e){if(a.cmd){if(o.mode===t.inlineMode||o.mode===t.partialMode)return l.preventDefaultEvent(h),!1;var i=typeof e,n=null;return n="function"===i?e:r[e],u=n.call(r,h),u!==!1&&u!==r||(l.preventDefaultEvent(h),l.stopPropagation(h)),!0}return!1}),-1!==o.maxLength){var d=l.text(c).length,f=!1,p=e.getSelection(),g=l.isSpecial(h),m=l.isNavigational(h);if(p&&(f=!p.isCollapsed),g||m)return!0;if(d>=o.maxLength&&!f)return o.maxLengthReached(c),l.preventDefaultEvent(h),!1}switch(h.keyCode){case s.enter:i.enterKey(h)===!1&&l.preventDefaultEvent(h);break;case s.escape:i.escKey(h)===!1&&l.preventDefaultEvent(h);break;case s.backspace:case s["delete"]:i.backspaceOrDeleteKey(h)}return u}}),this},handleKeyUp:function(){var t=this,i=this.medium,r=i.settings,o=i.cache,s=i.cursor,a=i.element;return l.addEvent(a,"keyup",this.handledEvents.keyup=function(a){if(a=a||e.event,!n(a))return!1;l.isCommand(r,a,function(){o.cmd=!1},function(){o.cmd=!0}),i.clean(),i.placeholders();var c;if(null!==r.keyContext&&(c=r.keyContext[a.keyCode])){var h=s.parent();h&&c.call(i,a,h)}t.preserveElementFocus()}),this},handlePaste:function(){var t,i,r,o,s,a,c,h=this.medium,u=h.element;return l.addEvent(u,"paste",this.handledEvents.paste=function(u){if(u=u||e.event,!n(u))return!1;if(i=0,l.preventDefaultEvent(u),t="",s=u.clipboardData,window.clipboardData)return s=window.clipboardData,o=s.getData("text"),h.paste(o);if(s&&(o=s.getData))for(c=s.types,r=c.length,i=0;r>i;i++)switch(a=c[i]){case"text/plain":return h.paste(s.getData("text/plain"))}h.paste()}),this},handleClick:function(){var t=this.medium,e=t.element,i=t.cursor;return l.addEvent(e,"click",this.handledEvents.click=function(t){n(t)||i.caretToAfter(t.target)}),this},escKey:function(e){var i=this.medium,n=(i.element,i.settings),r=i.cache;return n.mode===t.inlineMode||n.mode===t.inlineRichMode?(e.target.textContent=r.originalVal,n.element.blur?n.element.blur():n.element.onblur&&n.element.onblur(),!1):void 0},enterKey:function(e){var i=this.medium,n=i.element,r=i.settings,o=i.cache,s=i.cursor;if(r.mode===t.inlineMode||r.mode===t.inlineRichMode)return r.element.blur?r.element.blur():r.element.onblur&&r.element.onblur(),!1;if(o.shift){if(r.tags["break"])return i.addTag(r.tags["break"],!0),!1}else{var a,c,h,u=l.atCaret(i)||{},d=n.children,f=u===n.lastChild?n.lastChild:null;f&&f!==n.firstChild&&r.autoHR&&r.mode!==t.partialMode&&r.tags.horizontalRule&&(l.preventDefaultEvent(e),a=""===l.text(f)&&f.nodeName.toLowerCase()===r.tags.paragraph,a&&d.length>=2&&(c=d[d.length-2],c.nodeName.toLowerCase()===r.tags.horizontalRule&&(a=!1)),a&&(i.addTag(r.tags.horizontalRule,!1,!0,u),u=u.nextSibling),null!==(h=i.addTag(r.tags.paragraph,!0,null,u))&&(h.innerHTML="",s.set(i,0,h)))}return!0},backspaceOrDeleteKey:function(t){var e=this.medium,i=e.cursor,n=e.settings,o=e.element;if(void 0!==n.onBackspaceOrDelete){var s=n.onBackspaceOrDelete.call(e,t,o);if(s)return}if(null!==o.lastChild){var a=o.lastChild,c=a.previousSibling,h=r.getSelection().anchorNode;a&&n.tags.horizontalRule&&a.nodeName.toLocaleLowerCase()===n.tags.horizontalRule?o.removeChild(a):a&&c&&l.text(a).length<1&&c.nodeName.toLowerCase()===n.tags.horizontalRule&&a.nodeName.toLowerCase()===n.tags.paragraph?(o.removeChild(a),o.removeChild(c)):1===o.childNodes.length&&a&&!l.text(a).length?(l.preventDefaultEvent(t),e.setupContents()):h&&h===o&&(e.deleteSelection(),e.setupContents(),i.set(e,0,o.firstChild))}},preserveElementFocus:function(){var t=e.getSelection?e.getSelection().anchorNode:document.activeElement;if(t){var i,n=this.medium,r=n.cache,o=n.element,s=n.settings,a=t.parentNode,l=o.children,c=a!==r.focusedElement,h=0;for(a===s.element&&(a=t),i=0;i<l.length;i++)if(a===l[i]){h=i;break}c&&(r.focusedElement=a,r.focusedElementIndex=h)}}}}(t,i,n),function(t){t.Cache=function(){this.initialized=!1,this.cmd=!1,this.focusedElement=null,this.originalVal=null}}(t),function(t){t.Cursor=function(t){this.medium=t},t.Cursor.prototype={set:function(t,e){var r;if(n.createRange){var o=i.getSelection(),s=this.medium.lastChild(),a=l.text(s).length-1,c=e?e:s,h="undefined"!=typeof t&&null!==t?t:a;r=n.createRange(),r.setStart(c,h),r.collapse(!0),o.removeAllRanges(),o.addRange(r)}else r=n.body.createTextRange(),r.moveToElementText(e),r.collapse(!1),r.select()},moveCursorToEnd:function(t){var e=r.getSelection(),i=r.createRange();i.setStartAfter(t),i.setEnd(t,t.length||t.childNodes.length),e.removeAllRanges(),e.addRange(i)},moveCursorToAfter:function(t){var e=r.getSelection();if(e.rangeCount){var i=e.getRangeAt(0);i.collapse(!1),i.collapseAfter(t),e.setSingleRange(i)}},parent:function(){var t,e=null;return i.getSelection?(t=i.getSelection().getRangeAt(0),e=t.commonAncestorContainer,e=1===e.nodeType?e:e.parentNode):n.selection&&(e=n.selection.createRange().parentElement()),"SPAN"==e.tagName&&(e=e.parentNode),e},caretToBeginning:function(t){this.set(0,t)},caretToEnd:function(t){this.moveCursorToEnd(t)},caretToAfter:function(t){this.moveCursorToAfter(t)}}}(t),function(t){t.Drag=function(t){this.medium=t;var e=this,i=this.iconSrc.replace(/[{][{]([a-zA-Z]+)[}][}]/g,function(t,i){return e.hasOwnProperty(i)?e[i]:t}),r=this.icon=n.createElement("img");r.className=this.buttonClass,r.setAttribute("contenteditable","false"),r.setAttribute("src",i),this.hide(),this.element=null,this.protectedElement=null,this.handledEvents={dragstart:null,dragend:null,mouseover:null,mouseout:null,mousemove:null}},t.Drag.prototype={elementClass:"Medium-focused",buttonClass:"Medium-drag",iconSrc:'data:image/svg+xml;utf8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="21.424px" height="21.424px" viewBox="0 0 21.424 21.424" style="enable-background:new 0 0 21.424 21.424;" xml:space="preserve">	<g>		<g>			<path style="fill:{{iconColor}};" d="M13.616,17.709L13.616,17.709h0.781l-3.686,3.715l-3.685-3.715h0.781l0,0H13.616z M13.616,17.709 M14.007,17.709 M12.555,19.566 M8.87,19.566 M7.418,17.709 M7.809,17.709 M10.712,17.709"/>			<path style="fill:{{iconColor}};" d="M13.616,3.715L13.616,3.715h0.781L10.712,0L7.027,3.715h0.781l0,0H13.616z M13.616,3.715 M14.007,3.715 M12.555,1.858 M8.87,1.858 M7.418,3.715 M7.809,3.715 M10.712,3.715"/>			<path style="fill:{{iconColor}};" d="M3.716,13.616L3.716,13.616v0.781L0,10.712l3.716-3.685v0.781l0,0V13.616z M3.716,13.616 M3.716,14.007 M1.858,12.555 M1.858,8.87 M3.716,7.417 M3.716,7.808 M3.716,10.712"/>			<path style="fill:{{iconColor}};" d="M17.709,13.616L17.709,13.616v0.781l3.715-3.685l-3.715-3.685v0.781l0,0V13.616z M17.709,13.616 M17.709,14.007 M19.566,12.555 M19.566,8.87 M17.709,7.417 M17.709,7.808 M17.709,10.712"/>		</g>		<path style="fill-rule:evenodd;clip-rule:evenodd;fill:{{iconColor}};" d="M10.712,6.608c2.267,0,4.104,1.838,4.104,4.104 c0,2.266-1.837,4.104-4.104,4.104c-2.266,0-4.104-1.837-4.104-4.104C6.608,8.446,8.446,6.608,10.712,6.608L10.712,6.608z M10.712,7.515c-1.765,0-3.196,1.432-3.196,3.197s1.432,3.197,3.196,3.197c1.766,0,3.197-1.432,3.197-3.197 S12.478,7.515,10.712,7.515z"/>	</g></svg>',iconColor:"#231F20",setup:function(){return this.handleDragstart().handleDragend().handleMouseover().handleMouseout().handleMousemove(),this},destroy:function(){return l.removeEvent(this.icon,"dragstart",this.handledEvents.dragstart).removeEvent(this.icon,"dragend",this.handledEvents.dragend).removeEvent(this.icon,"mouseover",this.handledEvents.mouseover).removeEvent(this.icon,"mouseout",this.handledEvents.mouseout).removeEvent(this.medium.element,"mousemove",this.handledEvents.mousemove),this},hide:function(){return l.hide(this.icon),this},handleDragstart:function(){var t=this;return l.addEvent(this.icon,"dragstart",this.handledEvents.dragstart=function(e){null===t.protectedElement&&(e=e||i.event,t.protectedElement=l.detachNode(t.element),t.icon.style.opacity=0)}),this},handleDragend:function(){var t=this;return l.addEvent(this.icon,"dragend",this.handledEvents.dragend=n.body.ondragend=function(e){null!==t.protectedElement&&setTimeout(function(){t.cleanCanvas(),t.protectedElement=null},1)}),this},handleMouseover:function(){var t=this;return l.addEvent(this.icon,"mouseover",this.handledEvents.mouseover=function(e){null===t.protectedElement&&l.stopPropagation(e).addClass(t.element,t.elementClass)}),this},handleMouseout:function(){var t=this;return l.addEvent(this.icon,"mouseout",this.handledEvents.mouseout=function(e){null===t.protectedElement&&l.stopPropagation(e).removeClass(t.element,t.elementClass)}),this},handleMousemove:function(){var t=this;return l.addEvent(this.medium.element,"mousemove",this.handledEvents.mousemove=function(e){e=e||i.event;var n=e.target||{};"false"===n.getAttribute("contenteditable")&&t.show(n)}),this},show:function(t){if(t!==this.icon||null!==this.protectedElement){this.element=t;var e=this.icon.style,i=t.offsetLeft,n=t.offsetTop;return t.dragIcon=this.icon,t.parentNode.appendChild(this.icon),e.opacity=1,e.left=i+"px",e.top=n+"px",l.show(this.icon),this}},cleanCanvas:function(){var t,e=!1,i=n.getElementsByClassName(this.buttonClass);for(this.icon.style.opacity=1;i.length>0;)l.isVisible(t=i[0])&&(e||(t.parentNode.insertBefore(this.element,t),e=!0),l.detachNode(t));return l.detachNode(this.icon),this}}}(t),function(t){t.Element=function(t,e,i){switch(this.medium=t,this.element=t.element,e.toLowerCase()){case"bold":this.tagName="b";break;case"italic":this.tagName="i";break;case"underline":this.tagName="u";break;default:this.tagName=e}this.attributes=i||{},this.clean=!0},t.Element.prototype={invoke:function(e){if(t.activeElement===this.element){e&&e.apply(this);var n,o,s=this.attributes,a=this.tagName.toLowerCase();void 0!==s.className?(o=(s.className.split[" "]||[s.className]).shift(),delete s.className):o="medium-"+a,n=r.createClassApplier(o,{elementTagName:a,elementAttributes:this.attributes}),this.medium.makeUndoable(),n.toggleSelection(i),this.clean&&(this.medium.clean(),this.medium.placeholders())}},setClean:function(t){return this.clean=t,this}}}(t),function(t){t.Html=function(e,i){this.html=i,this.medium=e,this.clean=!0,this.injector=new t.Injector},t.Html.prototype={insert:function(e,i){if(t.activeElement===this.medium.element){e&&e.apply(this);var n=this.injector.inject(this.html,i);return this.clean&&(this.medium.clean(),this.medium.placeholders()),this.medium.makeUndoable(),n}return null},setClean:function(t){return this.clean=t,this}}}(t),function(t){t.Injector=function(){},t.Injector.prototype={inject:function(t){var e,i=[],r=!1;if("string"==typeof t){var o=n.createElement("div");o.innerHTML=t,e=o.childNodes,r=!0}else e=t;this.insertHTML('<span id="Medium-wedge"></span>');var s=n.getElementById("Medium-wedge"),a=s.parentNode,l=0;if(s.removeAttribute("id"),r){for(;l<e.length;)i.push(e[l]),l++;for(;e.length>0;)a.insertBefore(e[0],s)}else i.push(e),a.insertBefore(e,s);return a.removeChild(s),s=null,i},insertHTML:function(t,e){var r,o;if(i.getSelection){if(r=i.getSelection(),r.getRangeAt&&r.rangeCount){o=r.getRangeAt(0),o.deleteContents();var s=n.createElement("div");s.innerHTML=t;for(var a,l,c=n.createDocumentFragment();a=s.firstChild;)l=c.appendChild(a);var h=c.firstChild;o.insertNode(c),l&&(o=o.cloneRange(),o.setStartAfter(l),e?o.setStartBefore(h):o.collapse(!0),r.removeAllRanges(),r.addRange(o))}}else if((r=n.selection)&&"Control"!=r.type){var u=r.createRange();u.collapse(!0),r.createRange().pasteHTML(t),e&&(o=r.createRange(),o.setEndPoint("StartToStart",u),o.select())}}}}(t),function(t){t.Selection=function(){},t.Selection.prototype={saveSelection:function(){if(i.getSelection){var t=i.getSelection();if(t.rangeCount>0)return t.getRangeAt(0)}else if(n.selection&&n.selection.createRange)return n.selection.createRange();return null},restoreSelection:function(t){if(t)if(i.getSelection){var e=i.getSelection();e.removeAllRanges(),e.addRange(t)}else n.selection&&t.select&&t.select()}}}(t),function(t){t.Toolbar=function(t,e){this.medium=t;var i=n.createElement("div");i.innerHTML=this.html,this.buttons=e,this.element=i.children[0],n.body.appendChild(this.element),this.active=!1,this.busy=!0,this.handledEvents={scroll:null,mouseup:null,keyup:null}},t.Toolbar.prototype={fixedClass:"Medium-toolbar-fixed",showClass:"Medium-toolbar-show",hideClass:"Medium-toolbar-hide",html:'<div class="Medium-toolbar">				<div class="Medium-tail-outer">					<div class="Medium-tail-inner"></div>				</div>				<div id="Medium-buttons"></div>				<table id="Medium-options">					<tbody>						<tr>						</tr>					</tbody>				</table>			</div>',setup:function(){this.handleScroll().handleMouseup().handleKeyup()},destroy:function(){l.removeEvent(i,"scroll",this.handledEvents.scroll).removeEvent(n,"mouseup",this.handledEvents.mouseup).removeEvent(n,"keyup",this.handledEvents.keyup)},handleScroll:function(){var t=this;return l.addEvent(i,"scroll",this.handledEvents.scroll=function(){t.active&&t.goToSelection()}),this},handleMouseup:function(){var e=this;return l.addEvent(n,"mouseup",this.handledEvents.mouseup=function(){t.activeElement!==e.medium.element||e.busy||e.goToSelection()}),this},handleKeyup:function(){var e=this;return l.addEvent(n,"keyup",this.handledEvents.keyup=function(){t.activeElement!==e.medium.element||e.busy||e.goToSelection()}),this},goToSelection:function(){var t=this.getHighlighted(),e=t.boundary.top-5,n=this.element,r=n.style;i.scrollTop>0?l.addClass(n,this.fixedClass):l.removeClass(n,this.fixedClass),null!==t&&(t.range.startOffset!==t.range.endOffset||t.text?(l.removeClass(n,this.hideClass).removeClass(n,this.showClass),r.opacity=.01,l.addClass(n,this.showClass),r.opacity=1,r.top=e-65+"px",r.left=t.boundary.left+t.boundary.width/2-n.clientWidth/2+"px",this.active=!0):(l.removeClass(n,this.showClass).addClass(n,this.hideClass),this.active=!1))},getHighlighted:function(){var t=i.getSelection(),e=t.anchorNode?t.getRangeAt(0):!1;return e?{selection:t,range:e,text:l.trim(e.toString()),boundary:e.getBoundingClientRect()}:null}}}(t),function(t){t.Undoable=function(t){var e,i,n=this,r=t.settings.element,a=new o.Stack,c=o.Command.extend({constructor:function(t,e){this.oldValue=t,this.newValue=e},execute:function(){},undo:function(){r.innerHTML=this.oldValue,t.canUndo=a.canUndo(),t.canRedo=a.canRedo(),t.dirty=a.dirty()},redo:function(){r.innerHTML=this.newValue,t.canUndo=a.canUndo(),t.canRedo=a.canRedo(),t.dirty=a.dirty();
}}),h=function(e){var o=r.innerHTML;e?(i=r.innerHTML,a.execute(new c(i,i))):o!=i&&(n.movingThroughStack||(a.execute(new c(i,o)),i=o,t.dirty=a.dirty()),l.triggerEvent(t.settings.element,"change"))};this.medium=t,this.timer=e,this.stack=a,this.makeUndoable=h,this.EditCommand=c,this.movingThroughStack=!1,l.addEvent(r,"keyup",function(t){return t.ctrlKey||t.keyCode===s.z?void l.preventDefaultEvent(t):(clearTimeout(e),void(e=setTimeout(function(){h()},250)))}).addEvent(r,"keydown",function(t){return t.ctrlKey&&t.keyCode===s.z?(l.preventDefaultEvent(t),n.movingThroughStack=!0,void(t.shiftKey?a.canRedo()&&a.redo():a.canUndo()&&a.undo())):void(n.movingThroughStack=!1)})}}(t),function(t){t.Utilities={isCommand:function(t,e,i,n){return"ctrl"===t.modifier&&e.ctrlKey||"cmd"===t.modifier&&e.metaKey||"auto"===t.modifier&&(e.ctrlKey||e.metaKey)?i.call():n.call()},isShift:function(t,e,i){return t.shiftKey?e.call():i.call()},isModifier:function(t,e,i){var n=t.modifiers[e.keyCode];return n?i.call(null,n):!1},special:function(){var t={};return t[s.backspace]=!0,t[s.shift]=!0,t[s.ctrl]=!0,t[s.alt]=!0,t[s["delete"]]=!0,t[s.cmd]=!0,t}(),isSpecial:function(e){return"undefined"!=typeof t.Utilities.special[e.keyCode]},navigational:function(){var t={};return t[s.upArrow]=!0,t[s.downArrow]=!0,t[s.leftArrow]=!0,t[s.rightArrow]=!0,t}(),isNavigational:function(e){return"undefined"!=typeof t.Utilities.navigational[e.keyCode]},addEvents:function(e,i,n){for(var r,o=0,s=i.split(" "),a=s.length,l=t.Utilities;a>o;o++)r=s[o],r.length>0&&l.addEvent(e,r,n);return t.Utilities},addEvent:function(e,i,n){return e.addEventListener?e.addEventListener(i,n,!1):e.attachEvent?e.attachEvent("on"+i,n):e["on"+i]=n,t.Utilities},removeEvent:function(e,i,n){return e.removeEventListener?e.removeEventListener(i,n,!1):e.detachEvent?e.detachEvent("on"+i,n):e["on"+i]=null,t.Utilities},preventDefaultEvent:function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,t.Utilities},stopPropagation:function(e){return e=e||window.event,e.cancelBubble=!0,void 0!==e.stopPropagation&&e.stopPropagation(),t.Utilities},isEventSupported:function(t,e){e="on"+e;var i=n.createElement(t.tagName),r=e in i;return r||(i.setAttribute(e,"return;"),r="function"==typeof i[e]),i=null,r},triggerEvent:function(e,i){var r;return n.createEvent?(r=n.createEvent("HTMLEvents"),r.initEvent(i,!0,!0),r.eventName=i,e.dispatchEvent(r)):(r=n.createEventObject(),e.fireEvent("on"+i,r)),t.Utilities},deepExtend:function(e,i){var n,r;for(n in i)i.hasOwnProperty(n)&&(r=i[n],void 0!==r&&null!==r&&void 0!==r.constructor&&r.constructor===Object?(e[n]=e[n]||{},t.Utilities.deepExtend(e[n],r)):e[n]=r);return e},pasteHook:function(e,i){e.makeUndoable();var r,o,s,a,c=n.createElement("div"),h=e.element,u=e.settings,d=n.body,f=d.parentNode,p=f.scrollTop,g=f.scrollLeft;return c.className=u.cssClasses.pasteHook,c.setAttribute("contenteditable",!0),d.appendChild(c),l.selectNode(c),f.scrollTop=p,f.scrollLeft=g,setTimeout(function(){a=l.text(c),h.focus(),u.maxLength>0&&(r=l.text(h),o=r.length,s=o+a.length,s>o&&(a=a.substring(0,u.maxLength-o))),l.detachNode(c),f.scrollTop=p,f.scrollLeft=g,i(a)},0),t.Utilities},traverseAll:function(e,i,n){var r,o=e.childNodes,s=o.length,a=0;if(n=n||1,i=i||{},s>0)for(;s>a;a++){switch(r=o[a],r.nodeType){case 1:t.Utilities.traverseAll(r,i,n+1),void 0!==i.element&&i.element(r,a,n,e);break;case 3:void 0!==i.fragment&&i.fragment(r,a,n,e)}s=o.length,r===e.lastChild&&(a=s)}return t.Utilities},trim:function(t){return t.replace(/^[\s]+|\s+$/g,"")},arrayContains:function(t,e){for(var i=t.length;i--;)if(t[i]===e)return!0;return!1},addClass:function(e,i){return e.classList?e.classList.add(i):e.className+=" "+i,t.Utilities},removeClass:function(e,i){return e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "),t.Utilities},hasClass:function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},isHidden:function(t){return 0===t.offsetWidth||0===t.offsetHeight},isVisible:function(t){return 0!==t.offsetWidth||0!==t.offsetHeight},encodeHtml:function(t){return n.createElement("a").appendChild(n.createTextNode(t)).parentNode.innerHTML},text:function(t,e){return void 0!==e?null===t?this:(void 0!==t.textContent?t.textContent=e:t.innerText=e,this):null===t?this:void 0!==t.innerText?l.trim(t.innerText):void 0!==t.textContent?l.trim(t.textContent):void 0!==t.data?l.trim(t.data):""},changeTag:function(t,e){var i,r,o=n.createElement(e);for(i=t.firstChild;i;)r=i.nextSibling,o.appendChild(i),i=r;return t.parentNode.insertBefore(o,t),t.parentNode.removeChild(t),o},detachNode:function(t){return null!==t.parentNode&&t.parentNode.removeChild(t),this},selectNode:function(t){var e,r;return t.focus(),n.body.createTextRange?(e=n.body.createTextRange(),e.moveToElementText(t),e.select()):i.getSelection&&(r=i.getSelection(),e=n.createRange(),e.selectNodeContents(t),r.removeAllRanges(),r.addRange(e)),this},baseAtCaret:function(t){if(!t.isActive())return null;var e=i.getSelection?i.getSelection():document.selection;if(e.rangeCount){var n=e.getRangeAt(0),r=n.endContainer;switch(r.nodeType){case 3:if(r.data&&r.data.length!=n.endOffset)return!1}return r}return null},atCaret:function(t){var e=this.baseAtCaret(t)||{},i=t.element;if(e===!1)return null;for(;e&&e.parentNode!==i;)e=e.parentNode;return e&&1==e.nodeType?e:null},hide:function(t){t.style.display="none"},show:function(t){t.style.display=""},hideAnim:function(t){t.style.opacity=1},showAnim:function(t){t.style.opacity=.01,t.style.display=""}}}(t),r.rangePrototype.insertNodeAtEnd=function(t){var e=this.cloneRange();e.collapse(!1),e.insertNode(t),e.detach(),this.setEndAfter(t)},t}(),l=a.Utilities;"function"==typeof define&&define.amd?define(function(){return a}):"undefined"!=typeof e&&e.exports?e.exports=a:"undefined"!=typeof this&&(this.Medium=a)}).call(this,window,document)},{rangy:"rangy",undo:"undo"}],minicolors:[function(t,e,i){jQuery&&function(t){function e(e,i){var n=t('<div class="minicolors" />'),o=t.minicolors.defaults;e.data("minicolors-initialized")||(i=t.extend(!0,{},o,i),n.addClass("minicolors-theme-"+i.theme).toggleClass("minicolors-with-opacity",i.opacity).toggleClass("minicolors-no-data-uris",i.dataUris!==!0),void 0!==i.position&&t.each(i.position.split(" "),function(){n.addClass("minicolors-position-"+this)}),e.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",i).prop("size",7).wrap(n).after('<div class="minicolors-panel minicolors-slider-'+i.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div> </div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div><input type="text" class="hex_picker"/><input type="button" value="OK" class="b ok_but"/></div>'),t(".hex_picker").on("focus",function(e){t(this).select()}),t(".hex_picker").on("blur",function(e){var i=t(this).val();"#"!=i.charAt(0)&&(i="#"+i),t(this).val(i)}),t(".hex_picker").on("keyup",function(e){var n=t(this).val();"#"!=n.charAt(0)&&(n="#"+n),t(this).parents(".minicolors").find("input[type=hidden]").val(n),a(t(this).parents(".minicolors").find("input[type=hidden]"),!0);var o=e.keyCode?e.keyCode:e.which;"13"==o&&(r(),t(this).parents(".cpicker").css("background",n),t(this).parents(".cpicker").attr("data-color",n),i.change.call(t(this).parents(".minicolors").find("input[type=hidden]").get(0),n,1))}),t(".ok_but").click(function(){r(),t(this).parents(".cpicker").css("background",t(".hex_picker").val()),t(this).parents(".cpicker").attr("data-color",t(".hex_picker").val()),i.change.call(t(this).parents(".minicolors").find("input[type=hidden]").get(0),t(".hex_picker").val(),1)}),i.inline||(e.after('<span class="minicolors-swatch"><a  class="del_clr">X</a><span class="minicolors-swatch-color"></span></span>'),e.next(".minicolors-swatch").on("click",function(t){t.preventDefault(),e.focus()})),e.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end(),i.inline&&e.parent().addClass("minicolors-inline"),a(e,!1),e.data("minicolors-initialized",!0))}function i(t){var e=t.parent();t.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),e.before(t).remove()}function n(e){t("input.hex_picker").val(e.val());var i=e.parent(),n=i.find(".minicolors-panel"),o=e.data("minicolors-settings");!e.data("minicolors-initialized")||e.prop("disabled")||i.hasClass("minicolors-inline")||i.hasClass("minicolors-focus")||(r(),i.addClass("minicolors-focus"),n.css({top:i.offset().top-t(".cpkr_div").offset().top+30,left:i.offset().left-t(".cpkr_div").offset().left}),n.stop(!0,!0).fadeIn(o.showSpeed,function(){o.show&&o.show.call(e.get(0))}))}function r(){t(".minicolors-focus").each(function(){var e=t(this),i=e.find(".minicolors-input"),n=e.find(".minicolors-panel"),r=i.data("minicolors-settings");n.fadeOut(r.hideSpeed,function(){r.hide&&r.hide.call(i.get(0)),e.removeClass("minicolors-focus")})}),t(".minicolors input[type='hidden']").data("minicolors-initialized",!1),t(".minicolors_active").addClass("minicolors_set").removeClass("minicolors_active")}function o(t,e,i){var n,r,o,a,l=t.parents(".minicolors").find(".minicolors-input"),c=l.data("minicolors-settings"),h=t.find("[class$=-picker]"),u=t.offset().left,d=t.offset().top,f=Math.round(e.pageX-u),p=Math.round(e.pageY-d),g=i?c.animationSpeed:0;e.originalEvent.changedTouches&&(f=e.originalEvent.changedTouches[0].pageX-u,p=e.originalEvent.changedTouches[0].pageY-d),0>f&&(f=0),0>p&&(p=0),f>t.width()&&(f=t.width()),p>t.height()&&(p=t.height()),t.parent().is(".minicolors-slider-wheel")&&h.parent().is(".minicolors-grid")&&(n=75-f,r=75-p,o=Math.sqrt(n*n+r*r),a=Math.atan2(r,n),0>a&&(a+=2*Math.PI),o>75&&(o=75,f=75-75*Math.cos(a),p=75-75*Math.sin(a)),f=Math.round(f),p=Math.round(p)),t.is(".minicolors-grid")?h.stop(!0).animate({top:p+"px",left:f+"px"},g,c.animationEasing,function(){s(l,t)}):h.stop(!0).animate({top:p+"px"},g,c.animationEasing,function(){s(l,t)})}function s(t,e){function i(t,e){var i,n;return t.length&&e?(i=t.offset().left,n=t.offset().top,{x:i-e.offset().left+t.outerWidth()/2,y:n-e.offset().top+t.outerHeight()/2}):null}var n,r,o,s,a,c,h,d=t.val(),p=t.attr("data-opacity"),g=t.parent(),v=t.data("minicolors-settings"),y=g.find(".minicolors-swatch"),w=g.find(".minicolors-grid"),_=g.find(".minicolors-slider"),b=g.find(".minicolors-opacity-slider"),x=w.find("[class$=-picker]"),C=_.find("[class$=-picker]"),T=b.find("[class$=-picker]"),S=i(x,w),E=i(C,_),k=i(T,b);if(e.is(".minicolors-grid, .minicolors-slider")){switch(v.control){case"wheel":s=w.width()/2-S.x,a=w.height()/2-S.y,c=Math.sqrt(s*s+a*a),h=Math.atan2(a,s),0>h&&(h+=2*Math.PI),c>75&&(c=75,S.x=69-75*Math.cos(h),S.y=69-75*Math.sin(h)),r=f(c/.75,0,100),n=f(180*h/Math.PI,0,360),o=f(100-Math.floor(E.y*(100/_.height())),0,100),d=m({h:n,s:r,b:o}),_.css("backgroundColor",m({h:n,s:r,b:100}));break;case"saturation":n=f(parseInt(S.x*(360/w.width()),10),0,360),r=f(100-Math.floor(E.y*(100/_.height())),0,100),o=f(100-Math.floor(S.y*(100/w.height())),0,100),d=m({h:n,s:r,b:o}),_.css("backgroundColor",m({h:n,s:100,b:o})),g.find(".minicolors-grid-inner").css("opacity",r/100);break;case"brightness":n=f(parseInt(S.x*(360/w.width()),10),0,360),r=f(100-Math.floor(S.y*(100/w.height())),0,100),o=f(100-Math.floor(E.y*(100/_.height())),0,100),d=m({h:n,s:r,b:o}),_.css("backgroundColor",m({h:n,s:r,b:100})),g.find(".minicolors-grid-inner").css("opacity",1-o/100);break;default:n=f(360-parseInt(E.y*(360/_.height()),10),0,360),r=f(Math.floor(S.x*(100/w.width())),0,100),o=f(100-Math.floor(S.y*(100/w.height())),0,100),d=m({h:n,s:r,b:o}),w.css("backgroundColor",m({h:n,s:100,b:100}))}t.val(u(d,v.letterCase))}e.is(".minicolors-opacity-slider")&&(p=v.opacity?parseFloat(1-k.y/b.height()).toFixed(2):1,v.opacity&&t.attr("data-opacity",p)),y.find("SPAN").css({backgroundColor:d,opacity:p}),l(t,d,p)}function a(t,e){var i,n,r,o,s,a,c,h=t.parent(),p=t.data("minicolors-settings"),g=h.find(".minicolors-swatch"),y=h.find(".minicolors-grid"),w=h.find(".minicolors-slider"),_=h.find(".minicolors-opacity-slider"),b=y.find("[class$=-picker]"),x=w.find("[class$=-picker]"),C=_.find("[class$=-picker]");switch(i=u(d(t.val(),!0),p.letterCase),i||(i=u(d(p.defaultValue,!0),p.letterCase)),n=v(i),e||t.val(i),p.opacity&&(r=""===t.attr("data-opacity")?1:f(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),isNaN(r)&&(r=1),t.attr("data-opacity",r),g.find("SPAN").css("opacity",r),s=f(_.height()-_.height()*r,0,_.height()),C.css("top",s+"px")),g.find("SPAN").css("backgroundColor",i),p.control){case"wheel":a=f(Math.ceil(.75*n.s),0,y.height()/2),c=n.h*Math.PI/180,o=f(75-Math.cos(c)*a,0,y.width()),s=f(75-Math.sin(c)*a,0,y.height()),b.css({top:s+"px",left:o+"px"}),s=150-n.b/(100/y.height()),""===i&&(s=0),x.css("top",s+"px"),w.css("backgroundColor",m({h:n.h,s:n.s,b:100}));break;case"saturation":o=f(5*n.h/12,0,150),s=f(y.height()-Math.ceil(n.b/(100/y.height())),0,y.height()),b.css({top:s+"px",left:o+"px"}),s=f(w.height()-n.s*(w.height()/100),0,w.height()),x.css("top",s+"px"),w.css("backgroundColor",m({h:n.h,s:100,b:n.b})),h.find(".minicolors-grid-inner").css("opacity",n.s/100);break;case"brightness":o=f(5*n.h/12,0,150),s=f(y.height()-Math.ceil(n.s/(100/y.height())),0,y.height()),b.css({top:s+"px",left:o+"px"}),s=f(w.height()-n.b*(w.height()/100),0,w.height()),x.css("top",s+"px"),w.css("backgroundColor",m({h:n.h,s:n.s,b:100})),h.find(".minicolors-grid-inner").css("opacity",1-n.b/100);break;default:o=f(Math.ceil(n.s/(100/y.width())),0,y.width()),s=f(y.height()-Math.ceil(n.b/(100/y.height())),0,y.height()),b.css({top:s+"px",left:o+"px"}),s=f(w.height()-n.h/(360/w.height()),0,w.height()),x.css("top",s+"px"),y.css("backgroundColor",m({h:n.h,s:100,b:100}))}t.data("minicolors-initialized")&&!e&&l(t,i,r)}function l(e,i,n){var r=e.data("minicolors-settings"),o=e.data("minicolors-lastChange");o&&o.hex===i&&o.opacity===n||(e.data("minicolors-lastChange",{hex:i,opacity:n}),t("input.hex_picker").val(i),e.parents(".cpicker").css("background",i),e.parents(".cpicker").attr("data-color",i),r.change&&(r.changeDelay?(clearTimeout(e.data("minicolors-changeTimeout")),e.data("minicolors-changeTimeout",setTimeout(function(){r.change.call(e.get(0),i,n)},r.changeDelay))):r.change.call(e.get(0),i,n)),e.trigger("change").trigger("input"))}function c(e){var i=d(t(e).val(),!0),n=w(i),r=t(e).attr("data-opacity");return n?(void 0!==r&&t.extend(n,{a:parseFloat(r)}),n):null}function h(e,i){var n=d(t(e).val(),!0),r=w(n),o=t(e).attr("data-opacity");return r?(void 0===o&&(o=1),i?"rgba("+r.r+", "+r.g+", "+r.b+", "+parseFloat(o)+")":"rgb("+r.r+", "+r.g+", "+r.b+")"):null}function u(t,e){return"uppercase"===e?t.toUpperCase():t.toLowerCase()}function d(t,e){return t=t.replace(/[^A-F0-9]/gi,""),3!==t.length&&6!==t.length?"":(3===t.length&&e&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),"#"+t)}function f(t,e,i){return e>t&&(t=e),t>i&&(t=i),t}function p(t){var e={},i=Math.round(t.h),n=Math.round(255*t.s/100),r=Math.round(255*t.b/100);if(0===n)e.r=e.g=e.b=r;else{var o=r,s=(255-n)*r/255,a=(o-s)*(i%60)/60;360===i&&(i=0),60>i?(e.r=o,e.b=s,e.g=s+a):120>i?(e.g=o,e.b=s,e.r=o-a):180>i?(e.g=o,e.r=s,e.b=s+a):240>i?(e.b=o,e.r=s,e.g=o-a):300>i?(e.b=o,e.g=s,e.r=s+a):360>i?(e.r=o,e.g=s,e.b=o-a):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}}function g(e){var i=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return t.each(i,function(t,e){1===e.length&&(i[t]="0"+e)}),"#"+i.join("")}function m(t){return g(p(t))}function v(t){var e=y(w(t));return 0===e.s&&(e.h=360),e}function y(t){var e={h:0,s:0,b:0},i=Math.min(t.r,t.g,t.b),n=Math.max(t.r,t.g,t.b),r=n-i;return e.b=n,e.s=0!==n?255*r/n:0,0!==e.s?t.r===n?e.h=(t.g-t.b)/r:t.g===n?e.h=2+(t.b-t.r)/r:e.h=4+(t.r-t.g)/r:e.h=-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e}function w(t){return t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16),{r:t>>16,g:(65280&t)>>8,b:255&t}}t.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",dataUris:!0,defaultValue:"",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default"}},t.extend(t.fn,{minicolors:function(o,s){switch(o){case"destroy":return t(this).each(function(){i(t(this))}),t(this);case"hide":return r(),t(this);case"opacity":return void 0===s?t(this).attr("data-opacity"):(t(this).each(function(){a(t(this).attr("data-opacity",s))}),t(this));case"rgbObject":return c(t(this),"rgbaObject"===o);case"rgbString":case"rgbaString":return h(t(this),"rgbaString"===o);case"settings":return void 0===s?t(this).data("minicolors-settings"):(t(this).each(function(){var e=t(this).data("minicolors-settings")||{};i(t(this)),t(this).minicolors(t.extend(!0,e,s))}),t(this));case"show":return n(t(this).eq(0)),t(this);case"value":return void 0===s?t(this).val():(t(this).each(function(){a(t(this).val(s))}),t(this));default:return"create"!==o&&(s=o),t(this).each(function(){e(t(this),s)}),t(this)}}}),t(document).on("mousedown.minicolors touchstart.minicolors",function(e){t(e.target).parents().add(e.target).hasClass("minicolors")||r()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(e){var i=t(this);e.preventDefault(),t(document).data("minicolors-target",i),o(i,e,!0)}).on("mousemove.minicolors touchmove.minicolors",function(e){var i=t(document).data("minicolors-target");i&&o(i,e)}).on("mouseup.minicolors touchend.minicolors",function(){t(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(e){var i=t(this).parent().find(".minicolors-input");e.preventDefault(),n(i)}).on("focus.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&n(e)}).on("blur.minicolors",".minicolors-input",function(){var e=t(this),i=e.data("minicolors-settings");e.data("minicolors-initialized")&&(e.val(d(e.val(),!0)),""===e.val()&&e.val(d(i.defaultValue,!0)),e.val(u(e.val(),i.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(e){var i=t(this);if(i.data("minicolors-initialized"))switch(e.keyCode){case 9:r();break;case 13:case 27:r(),i.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&a(e,!0)}).on("paste.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&setTimeout(function(){a(e,!0)},1)})}(jQuery)},{}],"rangy-classapplier":[function(t,e,n){!function(i,r){"function"==typeof define&&define.amd?define(["./rangy-core"],i):"undefined"!=typeof e&&"object"==typeof n?e.exports=i(t("rangy")):i(r.rangy)}(function(t){return t.createModule("ClassApplier",["WrappedSelection"],function(t,e){function n(t,e){for(var i in t)if(t.hasOwnProperty(i)&&e(i,t[i])===!1)return!1;return!0}function r(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function o(t,e){return!!t&&new RegExp("(?:^|\\s)"+e+"(?:\\s|$)").test(t)}function s(t,e){if("object"==typeof t.classList)return t.classList.contains(e);var i="string"==typeof t.className,n=i?t.className:t.getAttribute("class");return o(n,e)}function a(t,e){if("object"==typeof t.classList)t.classList.add(e);else{var i="string"==typeof t.className,n=i?t.className:t.getAttribute("class");n?o(n,e)||(n+=" "+e):n=e,i?t.className=n:t.setAttribute("class",n)}}function l(t){var e="string"==typeof t.className;return e?t.className:t.getAttribute("class")}function c(t){return t&&t.split(/\s+/).sort().join(" ")}function h(t){return c(l(t))}function u(t,e){return h(t)==h(e)}function d(t,e){for(var i=e.split(/\s+/),n=0,o=i.length;o>n;++n)if(!s(t,r(i[n])))return!1;return!0}function f(t){var e=t.parentNode;return e&&1==e.nodeType&&!/^(textarea|style|script|select|iframe)$/i.test(e.nodeName)}function p(t,e,i,n,r){var o=t.node,s=t.offset,a=o,l=s;o==n&&s>r&&++l,o!=e||s!=i&&s!=i+1||(a=n,l+=r-i),o==e&&s>i+1&&--l,t.node=a,t.offset=l}function g(t,e,i){t.node==e&&t.offset>i&&--t.offset}function m(t,e,i,n){-1==i&&(i=e.childNodes.length);var r=t.parentNode,o=L.getNodeIndex(t);V(n,function(t){p(t,r,o,e,i)}),e.childNodes.length==i?e.appendChild(t):e.insertBefore(t,e.childNodes[i])}function v(t,e){var i=t.parentNode,n=L.getNodeIndex(t);V(e,function(t){g(t,i,n)}),L.removeNode(t)}function y(t,e,i,n,r){for(var o,s=[];o=t.firstChild;)m(o,e,i++,r),s.push(o);return n&&v(t,r),s}function w(t,e){return y(t,t.parentNode,L.getNodeIndex(t),!0,e)}function _(t,e){var i=t.cloneRange();i.selectNodeContents(e);var n=i.intersection(t),r=n?n.toString():"";return""!=r}function b(t){for(var e,i=t.getNodes([3]),n=0;(e=i[n])&&!_(t,e);)++n;for(var r=i.length-1;(e=i[r])&&!_(t,e);)--r;return i.slice(n,r+1)}function x(t,e){if(t.attributes.length!=e.attributes.length)return!1;for(var i,n,r,o=0,s=t.attributes.length;s>o;++o)if(i=t.attributes[o],r=i.name,"class"!=r){if(n=e.attributes.getNamedItem(r),null===i!=(null===n))return!1;if(i.specified!=n.specified)return!1;if(i.specified&&i.nodeValue!==n.nodeValue)return!1}return!0}function C(t,e){for(var i,n=0,r=t.attributes.length;r>n;++n)if(i=t.attributes[n].name,(!e||!z(e,i))&&t.attributes[n].specified&&"class"!=i)return!0;return!1}function T(t){var e;return t&&1==t.nodeType&&((e=t.parentNode)&&9==e.nodeType&&"on"==e.designMode||Y(t)&&!Y(t.parentNode))}function S(t){return(Y(t)||1!=t.nodeType&&Y(t.parentNode))&&!T(t)}function E(t){return t&&1==t.nodeType&&!q.test(U(t,"display"))}function k(t){if(0==t.data.length)return!0;if(G.test(t.data))return!1;var e=U(t.parentNode,"whiteSpace");switch(e){case"pre":case"pre-wrap":case"-moz-pre-wrap":return!1;case"pre-line":if(/[\r\n]/.test(t.data))return!1}return E(t.previousSibling)||E(t.nextSibling)}function R(t){var e,i,n=[];for(e=0;i=t[e++];)n.push(new F(i.startContainer,i.startOffset),new F(i.endContainer,i.endOffset));return n}function P(t,e){for(var i,n,r,o=0,s=t.length;s>o;++o)i=t[o],n=e[2*o],r=e[2*o+1],i.setStartAndEnd(n.node,n.offset,r.node,r.offset)}function A(t,e){return L.isCharacterDataNode(t)?0==e?!!t.previousSibling:e==t.length?!!t.nextSibling:!0:e>0&&e<t.childNodes.length}function O(t,i,n,r){var o,s,a=0==n;if(L.isAncestorOf(i,t))return t;if(L.isCharacterDataNode(i)){var l=L.getNodeIndex(i);if(0==n)n=l;else{if(n!=i.length)throw e.createError("splitNodeAt() should not be called with offset in the middle of a data node ("+n+" in "+i.data);n=l+1}i=i.parentNode}if(A(i,n)){o=i.cloneNode(!1),s=i.parentNode,o.id&&o.removeAttribute("id");for(var c,h=0;c=i.childNodes[n];)m(c,o,h++,r);return m(o,s,L.getNodeIndex(i)+1,r),i==t?o:O(t,s,L.getNodeIndex(o),r)}if(t!=i){o=i.parentNode;var u=L.getNodeIndex(i);return a||u++,O(t,o,u,r)}return t}function N(t,e){return t.namespaceURI==e.namespaceURI&&t.tagName.toLowerCase()==e.tagName.toLowerCase()&&u(t,e)&&x(t,e)&&"inline"==U(t,"display")&&"inline"==U(e,"display")}function D(t){var e=t?"nextSibling":"previousSibling";return function(i,n){var r=i.parentNode,o=i[e];if(o){if(o&&3==o.nodeType)return o}else if(n&&(o=r[e],o&&1==o.nodeType&&N(r,o))){var s=o[t?"firstChild":"lastChild"];if(s&&3==s.nodeType)return s}return null}}function M(t){this.isElementMerge=1==t.nodeType,this.textNodes=[];var e=this.isElementMerge?t.lastChild:t;e&&(this.textNodes[0]=e)}function I(t,e,i){var o,s,a,l,h=this;h.cssClass=h.className=t;var u=null,d={};if("object"==typeof e&&null!==e){for("undefined"!=typeof e.elementTagName&&(e.elementTagName=e.elementTagName.toLowerCase()),i=e.tagNames,u=e.elementProperties,d=e.elementAttributes,s=0;l=K[s++];)e.hasOwnProperty(l)&&(h[l]=e[l]);o=e.normalize}else o=e;h.normalize="undefined"==typeof o?!0:o,h.attrExceptions=[];var f=document.createElement(h.elementTagName);h.elementProperties=h.copyPropertiesToElement(u,f,!0),n(d,function(t,e){h.attrExceptions.push(t),d[t]=""+e}),h.elementAttributes=d,h.elementSortedClassName=h.elementProperties.hasOwnProperty("className")?c(h.elementProperties.className+" "+t):t,h.applyToAnyTagName=!1;var p=typeof i;if("string"==p)"*"==i?h.applyToAnyTagName=!0:h.tagNames=r(i.toLowerCase()).split(/\s*,\s*/);else if("object"==p&&"number"==typeof i.length)for(h.tagNames=[],s=0,a=i.length;a>s;++s)"*"==i[s]?h.applyToAnyTagName=!0:h.tagNames.push(i[s].toLowerCase());else h.tagNames=[h.elementTagName]}function H(t,e,i){return new I(t,e,i)}var L=t.dom,F=L.DomPosition,z=L.arrayContains,B=t.util,V=B.forEach,W="span",j=B.isHostMethod(document,"createElementNS"),X=function(){function t(t,e,i){return e&&i?" ":""}return function(e,i){if("object"==typeof e.classList)e.classList.remove(i);else{var n="string"==typeof e.className,r=n?e.className:e.getAttribute("class");r=r.replace(new RegExp("(^|\\s)"+i+"(\\s|$)"),t),n?e.className=r:e.setAttribute("class",r)}}}(),U=L.getComputedStyleProperty,Y=function(){var t=document.createElement("div");return"boolean"==typeof t.isContentEditable?function(t){return t&&1==t.nodeType&&t.isContentEditable}:function(t){return t&&1==t.nodeType&&"false"!=t.contentEditable?"true"==t.contentEditable||Y(t.parentNode):!1}}(),q=/^inline(-block|-table)?$/i,G=/[^\r\n\t\f \u200B]/,$=D(!1),Q=D(!0);M.prototype={doMerge:function(t){var e=this.textNodes,i=e[0];if(e.length>1){var n,r=L.getNodeIndex(i),o=[],s=0;V(e,function(e,a){n=e.parentNode,a>0&&(n.removeChild(e),n.hasChildNodes()||L.removeNode(n),t&&V(t,function(t){t.node==e&&(t.node=i,t.offset+=s),t.node==n&&t.offset>r&&(--t.offset,t.offset==r+1&&a<len-1&&(t.node=i,t.offset=s))})),o[a]=e.data,s+=e.data.length}),i.data=o.join("")}return i.data},getLength:function(){for(var t=this.textNodes.length,e=0;t--;)e+=this.textNodes[t].length;return e},toString:function(){var t=[];return V(this.textNodes,function(e,i){t[i]="'"+e.data+"'"}),"[Merge("+t.join(",")+")]"}};var K=["elementTagName","ignoreWhiteSpace","applyToEditableOnly","useExistingElements","removeEmptyElements","onElementCreate"],Z={};I.prototype={elementTagName:W,elementProperties:{},elementAttributes:{},ignoreWhiteSpace:!0,applyToEditableOnly:!1,useExistingElements:!0,removeEmptyElements:!0,onElementCreate:null,copyPropertiesToElement:function(t,e,i){var n,r,o,s,l,h,u={};for(var d in t)if(t.hasOwnProperty(d))if(s=t[d],l=e[d],"className"==d)a(e,s),a(e,this.className),e[d]=c(e[d]),i&&(u[d]=s);else if("style"==d){r=l,i&&(u[d]=o={});for(n in t[d])t[d].hasOwnProperty(n)&&(r[n]=s[n],i&&(o[n]=r[n]));this.attrExceptions.push(d)}else e[d]=s,i&&(u[d]=e[d],h=Z.hasOwnProperty(d)?Z[d]:d,this.attrExceptions.push(h));return i?u:""},copyAttributesToElement:function(t,e){for(var i in t)t.hasOwnProperty(i)&&!/^class(?:Name)?$/i.test(i)&&e.setAttribute(i,t[i])},appliesToElement:function(t){return z(this.tagNames,t.tagName.toLowerCase())},getEmptyElements:function(t){var e=this;return t.getNodes([1],function(t){return e.appliesToElement(t)&&!t.hasChildNodes()})},hasClass:function(t){return 1==t.nodeType&&(this.applyToAnyTagName||this.appliesToElement(t))&&s(t,this.className)},getSelfOrAncestorWithClass:function(t){for(;t;){if(this.hasClass(t))return t;t=t.parentNode}return null},isModifiable:function(t){return!this.applyToEditableOnly||S(t)},isIgnorableWhiteSpaceNode:function(t){return this.ignoreWhiteSpace&&t&&3==t.nodeType&&k(t)},postApply:function(t,e,n,r){var o,s,a=t[0],l=t[t.length-1],c=[],h=a,u=l,d=0,f=l.length;V(t,function(t){s=$(t,!r),s?(o||(o=new M(s),c.push(o)),o.textNodes.push(t),t===a&&(h=o.textNodes[0],d=h.length),t===l&&(u=o.textNodes[0],f=o.getLength())):o=null});var p=Q(l,!r);if(p&&(o||(o=new M(l),c.push(o)),o.textNodes.push(p)),c.length){for(i=0,len=c.length;i<len;++i)c[i].doMerge(n);e.setStartAndEnd(h,d,u,f)}},createContainer:function(t){var e,i=L.getDocument(t),n=j&&!L.isHtmlNamespace(t)&&(e=t.namespaceURI)?i.createElementNS(t.namespaceURI,this.elementTagName):i.createElement(this.elementTagName);return this.copyPropertiesToElement(this.elementProperties,n,!1),this.copyAttributesToElement(this.elementAttributes,n),a(n,this.className),this.onElementCreate&&this.onElementCreate(n,this),n},elementHasProperties:function(t,e){var i=this;return n(e,function(e,n){if("className"==e)return d(t,n);if("object"==typeof n){if(!i.elementHasProperties(t[e],n))return!1}else if(t[e]!==n)return!1})},elementHasAttributes:function(t,e){return n(e,function(e,i){return t.getAttribute(e)!==i?!1:void 0})},applyToTextNode:function(t,e){if(f(t)){var i=t.parentNode;if(1==i.childNodes.length&&this.useExistingElements&&this.appliesToElement(i)&&this.elementHasProperties(i,this.elementProperties)&&this.elementHasAttributes(i,this.elementAttributes))a(i,this.className);else{var n=t.parentNode,r=this.createContainer(n);n.insertBefore(r,t),r.appendChild(t)}}},isRemovable:function(t){return t.tagName.toLowerCase()==this.elementTagName&&h(t)==this.elementSortedClassName&&this.elementHasProperties(t,this.elementProperties)&&!C(t,this.attrExceptions)&&this.elementHasAttributes(t,this.elementAttributes)&&this.isModifiable(t)},isEmptyContainer:function(t){var e=t.childNodes.length;return 1==t.nodeType&&this.isRemovable(t)&&(0==e||1==e&&this.isEmptyContainer(t.firstChild))},removeEmptyContainers:function(t){var e=this,i=t.getNodes([1],function(t){return e.isEmptyContainer(t)}),n=[t],r=R(n);V(i,function(t){v(t,r)}),P(n,r)},undoToTextNode:function(t,e,i,n){if(!e.containsNode(i)){var r=e.cloneRange();r.selectNode(i),r.isPointInRange(e.endContainer,e.endOffset)&&(O(i,e.endContainer,e.endOffset,n),e.setEndAfter(i)),r.isPointInRange(e.startContainer,e.startOffset)&&(i=O(i,e.startContainer,e.startOffset,n))}this.isRemovable(i)?w(i,n):X(i,this.className)},splitAncestorWithClass:function(t,e,i){var n=this.getSelfOrAncestorWithClass(t);n&&O(n,t,e,i)},undoToAncestor:function(t,e){this.isRemovable(t)?w(t,e):X(t,this.className)},applyToRange:function(t,e){var i=this;e=e||[];var n=R(e||[]);t.splitBoundariesPreservingPositions(n),i.removeEmptyElements&&i.removeEmptyContainers(t);var r=b(t);if(r.length){V(r,function(t){i.isIgnorableWhiteSpaceNode(t)||i.getSelfOrAncestorWithClass(t)||!i.isModifiable(t)||i.applyToTextNode(t,n)});var o=r[r.length-1];t.setStartAndEnd(r[0],0,o,o.length),i.normalize&&i.postApply(r,t,n,!1),P(e,n)}var s=i.getEmptyElements(t);V(s,function(t){a(t,i.className)})},applyToRanges:function(t){for(var e=t.length;e--;)this.applyToRange(t[e],t);return t},applyToSelection:function(e){var i=t.getSelection(e);i.setRanges(this.applyToRanges(i.getAllRanges()))},undoToRange:function(t,e){var i=this;e=e||[];var n=R(e);t.splitBoundariesPreservingPositions(n),i.removeEmptyElements&&i.removeEmptyContainers(t,n);var r,o,s=b(t),a=s[s.length-1];if(s.length){i.splitAncestorWithClass(t.endContainer,t.endOffset,n),i.splitAncestorWithClass(t.startContainer,t.startOffset,n);for(var l=0,c=s.length;c>l;++l)r=s[l],o=i.getSelfOrAncestorWithClass(r),o&&i.isModifiable(r)&&i.undoToAncestor(o,n);t.setStartAndEnd(s[0],0,a,a.length),i.normalize&&i.postApply(s,t,n,!0),P(e,n)}var h=i.getEmptyElements(t);V(h,function(t){X(t,i.className)})},undoToRanges:function(t){for(var e=t.length;e--;)this.undoToRange(t[e],t);return t},undoToSelection:function(e){var i=t.getSelection(e),n=t.getSelection(e).getAllRanges();this.undoToRanges(n),i.setRanges(n)},isAppliedToRange:function(t){if(t.collapsed||""==t.toString())return!!this.getSelfOrAncestorWithClass(t.commonAncestorContainer);var e=t.getNodes([3]);if(e.length)for(var i,n=0;i=e[n++];)if(!this.isIgnorableWhiteSpaceNode(i)&&_(t,i)&&this.isModifiable(i)&&!this.getSelfOrAncestorWithClass(i))return!1;return!0},isAppliedToRanges:function(t){var e=t.length;if(0==e)return!1;for(;e--;)if(!this.isAppliedToRange(t[e]))return!1;return!0},isAppliedToSelection:function(e){var i=t.getSelection(e);return this.isAppliedToRanges(i.getAllRanges())},toggleRange:function(t){this.isAppliedToRange(t)?this.undoToRange(t):this.applyToRange(t)},toggleSelection:function(t){this.isAppliedToSelection(t)?this.undoToSelection(t):this.applyToSelection(t);
},getElementsWithClassIntersectingRange:function(t){var e=[],i=this;return t.getNodes([3],function(t){var n=i.getSelfOrAncestorWithClass(t);n&&!z(e,n)&&e.push(n)}),e},detach:function(){}},I.util={hasClass:s,addClass:a,removeClass:X,getClass:l,hasSameClasses:u,hasAllClasses:d,replaceWithOwnChildren:w,elementsHaveSameNonClassAttributes:x,elementHasNonClassAttributes:C,splitNodeAt:O,isEditableElement:Y,isEditingHost:T,isEditable:S},t.CssClassApplier=t.ClassApplier=I,t.createClassApplier=H,B.createAliasForDeprecatedMethod(t,"createCssClassApplier","createClassApplier",e)}),t},this)},{rangy:"rangy"}],"rangy-selectionsavestore":[function(t,e,i){var n=t("rangy");n.createModule("SaveRestore",["WrappedRange"],function(t,e){function i(t,e){return(e||document).getElementById(t)}function n(t,e){var i,n="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),r=p.getDocument(t.startContainer),o=t.cloneRange();return o.collapse(e),i=r.createElement("span"),i.id=n,i.style.lineHeight="0",i.style.display="none",i.className="rangySelectionBoundary",i.appendChild(r.createTextNode(v)),o.insertNode(i),i}function r(t,n,r,o){var s=i(r,t);s?(n[o?"setStartBefore":"setEndBefore"](s),g(s)):e.warn("Marker element has been removed. Cannot restore selection.")}function o(t,e){return e.compareBoundaryPoints(t.START_TO_START,t)}function s(e,i){var r,o,s=t.DomRange.getRangeDocument(e),a=e.toString(),l=m(i);return e.collapsed?(o=n(e,!1),{document:s,markerId:o.id,collapsed:!0}):(o=n(e,!1),r=n(e,!0),{document:s,startMarkerId:r.id,endMarkerId:o.id,collapsed:!1,backward:l,toString:function(){return"original text: '"+a+"', new text: '"+e.toString()+"'"}})}function a(n,o){var s=n.document;"undefined"==typeof o&&(o=!0);var a=t.createRange(s);if(n.collapsed){var l=i(n.markerId,s);if(l){l.style.display="inline";var c=l.previousSibling;c&&3==c.nodeType?(g(l),a.collapseToPoint(c,c.length)):(a.collapseBefore(l),g(l))}else e.warn("Marker element has been removed. Cannot restore selection.")}else r(s,a,n.startMarkerId,!0),r(s,a,n.endMarkerId,!1);return o&&a.normalizeBoundaries(),a}function l(e,n){var r,a,l=[],c=m(n);e=e.slice(0),e.sort(o);for(var h=0,u=e.length;u>h;++h)l[h]=s(e[h],c);for(h=u-1;h>=0;--h)r=e[h],a=t.DomRange.getRangeDocument(r),r.collapsed?r.collapseAfter(i(l[h].markerId,a)):(r.setEndBefore(i(l[h].endMarkerId,a)),r.setStartAfter(i(l[h].startMarkerId,a)));return l}function c(i){if(!t.isSelectionValid(i))return e.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var n=t.getSelection(i),r=n.getAllRanges(),o=1==r.length&&n.isBackward(),s=l(r,o);return o?n.setSingleRange(r[0],o):n.setRanges(r),{win:i,rangeInfos:s,restored:!1}}function h(t){for(var e=[],i=t.length,n=i-1;n>=0;n--)e[n]=a(t[n],!0);return e}function u(e,i){if(!e.restored){var n=e.rangeInfos,r=t.getSelection(e.win),o=h(n),s=n.length;1==s&&i&&t.features.selectionHasExtend&&n[0].backward?(r.removeAllRanges(),r.addRange(o[0],!0)):r.setRanges(o),e.restored=!0}}function d(t,e){var n=i(e,t);n&&g(n)}function f(t){for(var e,i=t.rangeInfos,n=0,r=i.length;r>n;++n)e=i[n],e.collapsed?d(t.doc,e.markerId):(d(t.doc,e.startMarkerId),d(t.doc,e.endMarkerId))}var p=t.dom,g=p.removeNode,m=t.Selection.isDirectionBackward,v="\ufeff";t.util.extend(t,{saveRange:s,restoreRange:a,saveRanges:l,restoreRanges:h,saveSelection:c,restoreSelection:u,removeMarkerElement:d,removeMarkers:f})})},{rangy:"rangy"}],rangy:[function(t,e,i){!function(t,n){"function"==typeof define&&define.amd?define(t):"undefined"!=typeof e&&"object"==typeof i?e.exports=t():n.rangy=t()}(function(){function t(t,e){var i=typeof t[e];return i==_||!(i!=w||!t[e])||"unknown"==i}function e(t,e){return!(typeof t[e]!=w||!t[e])}function i(t,e){return typeof t[e]!=b}function n(t){return function(e,i){for(var n=i.length;n--;)if(!t(e,i[n]))return!1;return!0}}function r(t){return t&&E(t,S)&&R(t,T)}function o(t){return e(t,"body")?t.body:t.getElementsByTagName("body")[0]}function s(e){typeof console!=b&&t(console,"log")&&console.log(e)}function a(t,e){O&&e?alert(t):s(t)}function l(t){D.initialized=!0,D.supported=!1,a("Rangy is not supported in this environment. Reason: "+t,D.config.alertOnFail)}function c(t){a("Rangy warning: "+t,D.config.alertOnWarn)}function h(t){return t.message||t.description||String(t)}function u(){if(O&&!D.initialized){var e,i=!1,n=!1;t(document,"createRange")&&(e=document.createRange(),E(e,C)&&R(e,x)&&(i=!0));var a=o(document);if(!a||"body"!=a.nodeName.toLowerCase())return void l("No body element found");if(a&&t(a,"createTextRange")&&(e=a.createTextRange(),r(e)&&(n=!0)),!i&&!n)return void l("Neither Range nor TextRange are available");D.initialized=!0,D.features={implementsDomRange:i,implementsTextRange:n};var c,u;for(var d in A)(c=A[d])instanceof g&&c.init(c,D);for(var f=0,p=H.length;p>f;++f)try{H[f](D)}catch(m){u="Rangy init listener threw an exception. Continuing. Detail: "+h(m),s(u)}}}function d(t,e,i){i&&(t+=" in module "+i.name),D.warn("DEPRECATED: "+t+" is deprecated. Please use "+e+" instead.")}function f(t,e,i,n){t[e]=function(){return d(e,i,n),t[i].apply(t,N.toArray(arguments))}}function p(t){t=t||window,u();for(var e=0,i=L.length;i>e;++e)L[e](t)}function g(t,e,i){this.name=t,this.dependencies=e,this.initialized=!1,this.supported=!1,this.initializer=i}function m(t,e,i){var n=new g(t,e,function(e){if(!e.initialized){e.initialized=!0;try{i(D,e),e.supported=!0}catch(n){var r="Module '"+t+"' failed to load: "+h(n);s(r),n.stack&&s(n.stack)}}});return A[t]=n,n}function v(){}function y(){}var w="object",_="function",b="undefined",x=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],C=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],T=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],S=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],E=n(t),k=n(e),R=n(i),P=[].forEach?function(t,e){t.forEach(e)}:function(t,e){for(var i=0,n=t.length;n>i;++i)e(t[i],i)},A={},O=typeof window!=b&&typeof document!=b,N={isHostMethod:t,isHostObject:e,isHostProperty:i,areHostMethods:E,areHostObjects:k,areHostProperties:R,isTextRange:r,getBody:o,forEach:P},D={version:"1.3.1-dev",initialized:!1,isBrowser:O,supported:!0,util:N,features:{},modules:A,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==b?!0:rangyAutoInitialize}};D.fail=l,D.warn=c;var M;({}).hasOwnProperty?(N.extend=M=function(t,e,i){var n,r;for(var o in e)e.hasOwnProperty(o)&&(n=t[o],r=e[o],i&&null!==n&&"object"==typeof n&&null!==r&&"object"==typeof r&&M(n,r,!0),t[o]=r);return e.hasOwnProperty("toString")&&(t.toString=e.toString),t},N.createOptions=function(t,e){var i={};return M(i,e),t&&M(i,t),i}):l("hasOwnProperty not supported"),O||l("Rangy can only run in a browser"),function(){var t;if(O){var e=document.createElement("div");e.appendChild(document.createElement("span"));var i=[].slice;try{1==i.call(e.childNodes,0)[0].nodeType&&(t=function(t){return i.call(t,0)})}catch(n){}}t||(t=function(t){for(var e=[],i=0,n=t.length;n>i;++i)e[i]=t[i];return e}),N.toArray=t}();var I;O&&(t(document,"addEventListener")?I=function(t,e,i){t.addEventListener(e,i,!1)}:t(document,"attachEvent")?I=function(t,e,i){t.attachEvent("on"+e,i)}:l("Document does not have required addEventListener or attachEvent method"),N.addListener=I);var H=[];N.deprecationNotice=d,N.createAliasForDeprecatedMethod=f,D.init=u,D.addInitListener=function(t){D.initialized?t(D):H.push(t)};var L=[];D.addShimListener=function(t){L.push(t)},O&&(D.shim=D.createMissingNativeApi=p,f(D,"createMissingNativeApi","shim")),g.prototype={init:function(){for(var t,e,i=this.dependencies||[],n=0,r=i.length;r>n;++n){if(e=i[n],t=A[e],!(t&&t instanceof g))throw new Error("required module '"+e+"' not found");if(t.init(),!t.supported)throw new Error("required module '"+e+"' not supported")}this.initializer(this)},fail:function(t){throw this.initialized=!0,this.supported=!1,new Error(t)},warn:function(t){D.warn("Module "+this.name+": "+t)},deprecationNotice:function(t,e){D.warn("DEPRECATED: "+t+" in module "+this.name+" is deprecated. Please use "+e+" instead")},createError:function(t){return new Error("Error in Rangy "+this.name+" module: "+t)}},D.createModule=function(t){var e,i;2==arguments.length?(e=arguments[1],i=[]):(e=arguments[2],i=arguments[1]);var n=m(t,i,e);D.initialized&&D.supported&&n.init()},D.createCoreModule=function(t,e,i){m(t,e,i)},D.RangePrototype=v,D.rangePrototype=new v,D.selectionPrototype=new y,D.createCoreModule("DomUtil",[],function(t,e){function i(t){var e;return typeof t.namespaceURI==O||null===(e=t.namespaceURI)||"http://www.w3.org/1999/xhtml"==e}function n(t){var e=t.parentNode;return 1==e.nodeType?e:null}function r(t){for(var e=0;t=t.previousSibling;)++e;return e}function o(t){switch(t.nodeType){case 7:case 10:return 0;case 3:case 8:return t.length;default:return t.childNodes.length}}function s(t,e){var i,n=[];for(i=t;i;i=i.parentNode)n.push(i);for(i=e;i;i=i.parentNode)if(H(n,i))return i;return null}function a(t,e,i){for(var n=i?e:e.parentNode;n;){if(n===t)return!0;n=n.parentNode}return!1}function l(t,e){return a(t,e,!0)}function c(t,e,i){for(var n,r=i?t:t.parentNode;r;){if(n=r.parentNode,n===e)return r;r=n}return null}function h(t){var e=t.nodeType;return 3==e||4==e||8==e}function u(t){if(!t)return!1;var e=t.nodeType;return 3==e||8==e}function d(t,e){var i=e.nextSibling,n=e.parentNode;return i?n.insertBefore(t,i):n.appendChild(t),t}function f(t,e,i){var n=t.cloneNode(!1);if(n.deleteData(0,e),t.deleteData(e,t.length-e),d(n,t),i)for(var o,s=0;o=i[s++];)o.node==t&&o.offset>e?(o.node=n,o.offset-=e):o.node==t.parentNode&&o.offset>r(t)&&++o.offset;return n}function p(t){if(9==t.nodeType)return t;if(typeof t.ownerDocument!=O)return t.ownerDocument;if(typeof t.document!=O)return t.document;if(t.parentNode)return p(t.parentNode);throw e.createError("getDocument: no document found for node")}function g(t){var i=p(t);if(typeof i.defaultView!=O)return i.defaultView;if(typeof i.parentWindow!=O)return i.parentWindow;throw e.createError("Cannot get a window object for node")}function m(t){if(typeof t.contentDocument!=O)return t.contentDocument;if(typeof t.contentWindow!=O)return t.contentWindow.document;throw e.createError("getIframeDocument: No Document object found for iframe element")}function v(t){if(typeof t.contentWindow!=O)return t.contentWindow;if(typeof t.contentDocument!=O)return t.contentDocument.defaultView;throw e.createError("getIframeWindow: No Window object found for iframe element")}function y(t){return t&&N.isHostMethod(t,"setTimeout")&&N.isHostObject(t,"document")}function w(t,e,i){var n;if(t?N.isHostProperty(t,"nodeType")?n=1==t.nodeType&&"iframe"==t.tagName.toLowerCase()?m(t):p(t):y(t)&&(n=t.document):n=document,!n)throw e.createError(i+"(): Parameter must be a Window object or DOM node");return n}function _(t){for(var e;e=t.parentNode;)t=e;return t}function b(t,i,n,o){var a,l,h,u,d;if(t==n)return i===o?0:o>i?-1:1;if(a=c(n,t,!0))return i<=r(a)?-1:1;if(a=c(t,n,!0))return r(a)<o?-1:1;if(l=s(t,n),!l)throw new Error("comparePoints error: nodes have no common ancestor");if(h=t===l?l:c(t,l,!0),u=n===l?l:c(n,l,!0),h===u)throw e.createError("comparePoints got to case 4 and childA and childB are the same!");for(d=l.firstChild;d;){if(d===h)return-1;if(d===u)return 1;d=d.nextSibling}}function x(t){var e;try{return e=t.parentNode,!1}catch(i){return!0}}function C(t){if(!t)return"[No node]";if(L&&x(t))return"[Broken node]";if(h(t))return'"'+t.data+'"';if(1==t.nodeType){var e=t.id?' id="'+t.id+'"':"";return"<"+t.nodeName+e+">[index:"+r(t)+",length:"+t.childNodes.length+"]["+(t.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return t.nodeName}function T(t){for(var e,i=p(t).createDocumentFragment();e=t.firstChild;)i.appendChild(e);return i}function S(t,e,i){var n=D(t),r=t.createElement("div");r.contentEditable=""+!!i,e&&(r.innerHTML=e);var o=n.firstChild;return o?n.insertBefore(r,o):n.appendChild(r),r}function E(t){return t.parentNode.removeChild(t)}function k(t){this.root=t,this._next=t}function R(t){return new k(t)}function P(t,e){this.node=t,this.offset=e}function A(t){this.code=this[t],this.codeName=t,this.message="DOMException: "+this.codeName}var O="undefined",N=t.util,D=N.getBody;N.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||e.fail("document missing a Node creation method"),N.isHostMethod(document,"getElementsByTagName")||e.fail("document missing getElementsByTagName method");var M=document.createElement("div");N.areHostMethods(M,["insertBefore","appendChild","cloneNode"]||!N.areHostObjects(M,["previousSibling","nextSibling","childNodes","parentNode"]))||e.fail("Incomplete Element implementation"),N.isHostProperty(M,"innerHTML")||e.fail("Element is missing innerHTML property");var I=document.createTextNode("test");N.areHostMethods(I,["splitText","deleteData","insertData","appendData","cloneNode"]||!N.areHostObjects(M,["previousSibling","nextSibling","childNodes","parentNode"])||!N.areHostProperties(I,["data"]))||e.fail("Incomplete Text Node implementation");var H=function(t,e){for(var i=t.length;i--;)if(t[i]===e)return!0;return!1},L=!1;!function(){var e=document.createElement("b");e.innerHTML="1";var i=e.firstChild;e.innerHTML="<br />",L=x(i),t.features.crashyTextNodes=L}();var F;typeof window.getComputedStyle!=O?F=function(t,e){return g(t).getComputedStyle(t,null)[e]}:typeof document.documentElement.currentStyle!=O?F=function(t,e){return t.currentStyle?t.currentStyle[e]:""}:e.fail("No means of obtaining computed style properties found"),k.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var t,e,i=this._current=this._next;if(this._current)if(t=i.firstChild)this._next=t;else{for(e=null;i!==this.root&&!(e=i.nextSibling);)i=i.parentNode;this._next=e}return this._current},detach:function(){this._current=this._next=this.root=null}},P.prototype={equals:function(t){return!!t&&this.node===t.node&&this.offset==t.offset},inspect:function(){return"[DomPosition("+C(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},A.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},A.prototype.toString=function(){return this.message},t.dom={arrayContains:H,isHtmlNamespace:i,parentElement:n,getNodeIndex:r,getNodeLength:o,getCommonAncestor:s,isAncestorOf:a,isOrIsAncestorOf:l,getClosestAncestorIn:c,isCharacterDataNode:h,isTextOrCommentNode:u,insertAfter:d,splitDataNode:f,getDocument:p,getWindow:g,getIframeWindow:v,getIframeDocument:m,getBody:D,isWindow:y,getContentDocument:w,getRootContainer:_,comparePoints:b,isBrokenNode:x,inspectNode:C,getComputedStyleProperty:F,createTestElement:S,removeNode:E,fragmentFromNodeChildren:T,createIterator:R,DomPosition:P},t.DOMException=A}),D.createCoreModule("DomRange",["DomUtil"],function(t,e){function i(t,e){return 3!=t.nodeType&&(V(t,e.startContainer)||V(t,e.endContainer))}function n(t){return t.document||W(t.startContainer)}function r(t){return G(t.startContainer)}function o(t){return new L(t.parentNode,B(t))}function s(t){return new L(t.parentNode,B(t)+1)}function a(t,e,i){var n=11==t.nodeType?t.firstChild:t;return z(e)?i==e.length?I.insertAfter(t,e):e.parentNode.insertBefore(t,0==i?e:X(e,i)):i>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[i]),n}function l(t,e,i){if(S(t),S(e),n(e)!=n(t))throw new F("WRONG_DOCUMENT_ERR");var r=j(t.startContainer,t.startOffset,e.endContainer,e.endOffset),o=j(t.endContainer,t.endOffset,e.startContainer,e.startOffset);return i?0>=r&&o>=0:0>r&&o>0}function c(t){for(var e,i,r,o=n(t.range).createDocumentFragment();i=t.next();){if(e=t.isPartiallySelectedSubtree(),i=i.cloneNode(!e),e&&(r=t.getSubtreeIterator(),i.appendChild(c(r)),r.detach()),10==i.nodeType)throw new F("HIERARCHY_REQUEST_ERR");o.appendChild(i)}return o}function h(t,e,i){var n,r;i=i||{stop:!1};for(var o,s;o=t.next();)if(t.isPartiallySelectedSubtree()){if(e(o)===!1)return void(i.stop=!0);if(s=t.getSubtreeIterator(),h(s,e,i),s.detach(),i.stop)return}else for(n=I.createIterator(o);r=n.next();)if(e(r)===!1)return void(i.stop=!0)}function u(t){for(var e;t.next();)t.isPartiallySelectedSubtree()?(e=t.getSubtreeIterator(),u(e),e.detach()):t.remove()}function d(t){for(var e,i,r=n(t.range).createDocumentFragment();e=t.next();){if(t.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),i=t.getSubtreeIterator(),e.appendChild(d(i)),i.detach()):t.remove(),10==e.nodeType)throw new F("HIERARCHY_REQUEST_ERR");r.appendChild(e)}return r}function f(t,e,i){var n,r=!(!e||!e.length),o=!!i;r&&(n=new RegExp("^("+e.join("|")+")$"));var s=[];return h(new g(t,!1),function(e){if((!r||n.test(e.nodeType))&&(!o||i(e))){var a=t.startContainer;if(e!=a||!z(a)||t.startOffset!=a.length){var l=t.endContainer;e==l&&z(l)&&0==t.endOffset||s.push(e)}}}),s}function p(t){var e="undefined"==typeof t.getName?"Range":t.getName();return"["+e+"("+I.inspectNode(t.startContainer)+":"+t.startOffset+", "+I.inspectNode(t.endContainer)+":"+t.endOffset+")]"}function g(t,e){if(this.range=t,this.clonePartiallySelectedTextNodes=e,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var i=t.commonAncestorContainer;this.sc===this.ec&&z(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==i||z(this.sc)?U(this.sc,i,!0):this.sc.childNodes[this.so],this._last=this.ec!==i||z(this.ec)?U(this.ec,i,!0):this.ec.childNodes[this.eo-1])}}function m(t){return function(e,i){for(var n,r=i?e:e.parentNode;r;){if(n=r.nodeType,q(t,n))return r;r=r.parentNode}return null}}function v(t,e){if(rt(t,e))throw new F("INVALID_NODE_TYPE_ERR")}function y(t,e){if(!q(e,t.nodeType))throw new F("INVALID_NODE_TYPE_ERR")}function w(t,e){if(0>e||e>(z(t)?t.length:t.childNodes.length))throw new F("INDEX_SIZE_ERR")}function _(t,e){if(it(t,!0)!==it(e,!0))throw new F("WRONG_DOCUMENT_ERR")}function b(t){if(nt(t,!0))throw new F("NO_MODIFICATION_ALLOWED_ERR")}function x(t,e){if(!t)throw new F(e)}function C(t,e){return e<=(z(t)?t.length:t.childNodes.length)}function T(t){return!!t.startContainer&&!!t.endContainer&&!($&&(I.isBrokenNode(t.startContainer)||I.isBrokenNode(t.endContainer)))&&G(t.startContainer)==G(t.endContainer)&&C(t.startContainer,t.startOffset)&&C(t.endContainer,t.endOffset)}function S(t){if(!T(t))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+t.inspect()+")")}function E(t,e){S(t);var i=t.startContainer,n=t.startOffset,r=t.endContainer,o=t.endOffset,s=i===r;z(r)&&o>0&&o<r.length&&X(r,o,e),z(i)&&n>0&&n<i.length&&(i=X(i,n,e),s?(o-=n,r=i):r==i.parentNode&&o>=B(i)&&o++,n=0),t.setStartAndEnd(i,n,r,o)}function k(t){S(t);var e=t.commonAncestorContainer.parentNode.cloneNode(!1);return e.appendChild(t.cloneContents()),e.innerHTML}function R(t){t.START_TO_START=ht,t.START_TO_END=ut,t.END_TO_END=dt,t.END_TO_START=ft,t.NODE_BEFORE=pt,t.NODE_AFTER=gt,t.NODE_BEFORE_AND_AFTER=mt,t.NODE_INSIDE=vt}function P(t){R(t),R(t.prototype)}function A(t,e){return function(){S(this);var i,n,r=this.startContainer,o=this.startOffset,a=this.commonAncestorContainer,l=new g(this,!0);r!==a&&(i=U(r,a,!0),n=s(i),r=n.node,o=n.offset),h(l,b),l.reset();var c=t(l);return l.detach(),e(this,r,o,r,o),c}}function O(e,n){function r(t,e){return function(i){y(i,K),y(G(i),Z);var n=(t?o:s)(i);(e?a:l)(this,n.node,n.offset)}}function a(t,e,i){var r=t.endContainer,o=t.endOffset;e===t.startContainer&&i===t.startOffset||(G(e)==G(r)&&1!=j(e,i,r,o)||(r=e,o=i),n(t,e,i,r,o))}function l(t,e,i){var r=t.startContainer,o=t.startOffset;e===t.endContainer&&i===t.endOffset||(G(e)==G(r)&&-1!=j(e,i,r,o)||(r=e,o=i),n(t,r,o,e,i))}var c=function(){};c.prototype=t.rangePrototype,e.prototype=new c,H.extend(e.prototype,{setStart:function(t,e){v(t,!0),w(t,e),a(this,t,e)},setEnd:function(t,e){v(t,!0),w(t,e),l(this,t,e)},setStartAndEnd:function(){var t=arguments,e=t[0],i=t[1],r=e,o=i;switch(t.length){case 3:o=t[2];break;case 4:r=t[2],o=t[3]}n(this,e,i,r,o)},setBoundary:function(t,e,i){this["set"+(i?"Start":"End")](t,e)},setStartBefore:r(!0,!0),setStartAfter:r(!1,!0),setEndBefore:r(!0,!1),setEndAfter:r(!1,!1),collapse:function(t){S(this),t?n(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):n(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(t){v(t,!0),n(this,t,0,t,Y(t))},selectNode:function(t){v(t,!1),y(t,K);var e=o(t),i=s(t);n(this,e.node,e.offset,i.node,i.offset)},extractContents:A(d,n),deleteContents:A(u,n),canSurroundContents:function(){S(this),b(this.startContainer),b(this.endContainer);var t=new g(this,!0),e=t._first&&i(t._first,this)||t._last&&i(t._last,this);return t.detach(),!e},splitBoundaries:function(){E(this)},splitBoundariesPreservingPositions:function(t){E(this,t)},normalizeBoundaries:function(){S(this);var t,e=this.startContainer,i=this.startOffset,r=this.endContainer,o=this.endOffset,s=function(t){var e=t.nextSibling;e&&e.nodeType==t.nodeType&&(r=t,o=t.length,t.appendData(e.data),Q(e))},a=function(t){var n=t.previousSibling;if(n&&n.nodeType==t.nodeType){e=t;var s=t.length;if(i=n.length,t.insertData(0,n.data),Q(n),e==r)o+=i,r=e;else if(r==t.parentNode){var a=B(t);o==a?(r=t,o=s):o>a&&o--}}},l=!0;if(z(r))o==r.length?s(r):0==o&&(t=r.previousSibling,t&&t.nodeType==r.nodeType&&(o=t.length,e==r&&(l=!1),t.appendData(r.data),Q(r),r=t));else{if(o>0){var c=r.childNodes[o-1];c&&z(c)&&s(c)}l=!this.collapsed}if(l){if(z(e))0==i?a(e):i==e.length&&(t=e.nextSibling,t&&t.nodeType==e.nodeType&&(r==t&&(r=e,o+=e.length),e.appendData(t.data),Q(t)));else if(i<e.childNodes.length){var h=e.childNodes[i];h&&z(h)&&a(h)}}else e=r,i=o;n(this,e,i,r,o)},collapseToPoint:function(t,e){v(t,!0),w(t,e),this.setStartAndEnd(t,e)}}),P(e)}function N(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:I.getCommonAncestor(t.startContainer,t.endContainer)}function D(t,e,i,n,r){t.startContainer=e,t.startOffset=i,t.endContainer=n,t.endOffset=r,t.document=I.getDocument(e),N(t)}function M(t){this.startContainer=t,this.startOffset=0,this.endContainer=t,this.endOffset=0,this.document=t,N(this)}var I=t.dom,H=t.util,L=I.DomPosition,F=t.DOMException,z=I.isCharacterDataNode,B=I.getNodeIndex,V=I.isOrIsAncestorOf,W=I.getDocument,j=I.comparePoints,X=I.splitDataNode,U=I.getClosestAncestorIn,Y=I.getNodeLength,q=I.arrayContains,G=I.getRootContainer,$=t.features.crashyTextNodes,Q=I.removeNode;g.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,z(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},remove:function(){var t,e,i=this._current;!z(i)||i!==this.sc&&i!==this.ec?i.parentNode&&Q(i):(t=i===this.sc?this.so:0,e=i===this.ec?this.eo:i.length,t!=e&&i.deleteData(t,e-t))},isPartiallySelectedSubtree:function(){var t=this._current;return i(t,this.range)},getSubtreeIterator:function(){var t;if(this.isSingleCharacterDataNode)t=this.range.cloneRange(),t.collapse(!1);else{t=new M(n(this.range));var e=this._current,i=e,r=0,o=e,s=Y(e);V(e,this.sc)&&(i=this.sc,r=this.so),V(e,this.ec)&&(o=this.ec,s=this.eo),D(t,i,r,o,s)}return new g(t,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var K=[1,3,4,5,7,8,10],Z=[2,9,11],J=[5,6,10,12],tt=[1,3,4,5,7,8,10,11],et=[1,3,4,5,7,8],it=m([9,11]),nt=m(J),rt=m([6,10,12]),ot=document.createElement("style"),st=!1;try{ot.innerHTML="<b>x</b>",st=3==ot.firstChild.nodeType}catch(at){}t.features.htmlParsingConforms=st;var lt=st?function(t){var e=this.startContainer,i=W(e);if(!e)throw new F("INVALID_STATE_ERR");var n=null;return 1==e.nodeType?n=e:z(e)&&(n=I.parentElement(e)),n=null===n||"HTML"==n.nodeName&&I.isHtmlNamespace(W(n).documentElement)&&I.isHtmlNamespace(n)?i.createElement("body"):n.cloneNode(!1),n.innerHTML=t,I.fragmentFromNodeChildren(n)}:function(t){var e=n(this),i=e.createElement("body");return i.innerHTML=t,I.fragmentFromNodeChildren(i)},ct=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],ht=0,ut=1,dt=2,ft=3,pt=0,gt=1,mt=2,vt=3;H.extend(t.rangePrototype,{compareBoundaryPoints:function(t,e){S(this),_(this.startContainer,e.startContainer);var i,n,r,o,s=t==ft||t==ht?"start":"end",a=t==ut||t==ht?"start":"end";return i=this[s+"Container"],n=this[s+"Offset"],r=e[a+"Container"],o=e[a+"Offset"],j(i,n,r,o)},insertNode:function(t){if(S(this),y(t,tt),b(this.startContainer),V(t,this.startContainer))throw new F("HIERARCHY_REQUEST_ERR");var e=a(t,this.startContainer,this.startOffset);this.setStartBefore(e)},cloneContents:function(){S(this);var t,e;if(this.collapsed)return n(this).createDocumentFragment();if(this.startContainer===this.endContainer&&z(this.startContainer))return t=this.startContainer.cloneNode(!0),t.data=t.data.slice(this.startOffset,this.endOffset),e=n(this).createDocumentFragment(),e.appendChild(t),e;var i=new g(this,!0);return t=c(i),i.detach(),t},canSurroundContents:function(){S(this),b(this.startContainer),b(this.endContainer);var t=new g(this,!0),e=t._first&&i(t._first,this)||t._last&&i(t._last,this);return t.detach(),!e},surroundContents:function(t){if(y(t,et),!this.canSurroundContents())throw new F("INVALID_STATE_ERR");var e=this.extractContents();if(t.hasChildNodes())for(;t.lastChild;)t.removeChild(t.lastChild);a(t,this.startContainer,this.startOffset),t.appendChild(e),this.selectNode(t)},cloneRange:function(){S(this);for(var t,e=new M(n(this)),i=ct.length;i--;)t=ct[i],e[t]=this[t];return e},toString:function(){S(this);var t=this.startContainer;if(t===this.endContainer&&z(t))return 3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"";var e=[],i=new g(this,!0);return h(i,function(t){3!=t.nodeType&&4!=t.nodeType||e.push(t.data)}),i.detach(),e.join("")},compareNode:function(t){S(this);var e=t.parentNode,i=B(t);if(!e)throw new F("NOT_FOUND_ERR");var n=this.comparePoint(e,i),r=this.comparePoint(e,i+1);return 0>n?r>0?mt:pt:r>0?gt:vt},comparePoint:function(t,e){return S(this),x(t,"HIERARCHY_REQUEST_ERR"),_(t,this.startContainer),j(t,e,this.startContainer,this.startOffset)<0?-1:j(t,e,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:lt,toHtml:function(){return k(this)},intersectsNode:function(t,e){if(S(this),G(t)!=r(this))return!1;var i=t.parentNode,n=B(t);if(!i)return!0;var o=j(i,n,this.endContainer,this.endOffset),s=j(i,n+1,this.startContainer,this.startOffset);return e?0>=o&&s>=0:0>o&&s>0},isPointInRange:function(t,e){return S(this),x(t,"HIERARCHY_REQUEST_ERR"),_(t,this.startContainer),j(t,e,this.startContainer,this.startOffset)>=0&&j(t,e,this.endContainer,this.endOffset)<=0},intersectsRange:function(t){return l(this,t,!1)},intersectsOrTouchesRange:function(t){return l(this,t,!0)},intersection:function(t){if(this.intersectsRange(t)){var e=j(this.startContainer,this.startOffset,t.startContainer,t.startOffset),i=j(this.endContainer,this.endOffset,t.endContainer,t.endOffset),n=this.cloneRange();return-1==e&&n.setStart(t.startContainer,t.startOffset),1==i&&n.setEnd(t.endContainer,t.endOffset),n}return null},union:function(t){if(this.intersectsOrTouchesRange(t)){var e=this.cloneRange();return-1==j(t.startContainer,t.startOffset,this.startContainer,this.startOffset)&&e.setStart(t.startContainer,t.startOffset),1==j(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&e.setEnd(t.endContainer,t.endOffset),e}throw new F("Ranges do not intersect")},containsNode:function(t,e){return e?this.intersectsNode(t,!1):this.compareNode(t)==vt},containsNodeContents:function(t){return this.comparePoint(t,0)>=0&&this.comparePoint(t,Y(t))<=0},containsRange:function(t){var e=this.intersection(t);return null!==e&&t.equals(e)},containsNodeText:function(t){var e=this.cloneRange();e.selectNode(t);var i=e.getNodes([3]);if(i.length>0){e.setStart(i[0],0);var n=i.pop();return e.setEnd(n,n.length),this.containsRange(e)}return this.containsNodeContents(t)},getNodes:function(t,e){return S(this),f(this,t,e)},getDocument:function(){return n(this)},collapseBefore:function(t){this.setEndBefore(t),this.collapse(!1)},collapseAfter:function(t){this.setStartAfter(t),this.collapse(!0)},getBookmark:function(e){var i=n(this),r=t.createRange(i);e=e||I.getBody(i),r.selectNodeContents(e);var o=this.intersection(r),s=0,a=0;return o&&(r.setEnd(o.startContainer,o.startOffset),s=r.toString().length,a=s+o.toString().length),{start:s,end:a,containerNode:e}},moveToBookmark:function(t){var e=t.containerNode,i=0;this.setStart(e,0),this.collapse(!0);for(var n,r,o,s,a=[e],l=!1,c=!1;!c&&(n=a.pop());)if(3==n.nodeType)r=i+n.length,!l&&t.start>=i&&t.start<=r&&(this.setStart(n,t.start-i),l=!0),l&&t.end>=i&&t.end<=r&&(this.setEnd(n,t.end-i),c=!0),i=r;else for(s=n.childNodes,o=s.length;o--;)a.push(s[o])},getName:function(){return"DomRange"},equals:function(t){return M.rangesEqual(this,t)},isValid:function(){return T(this)},inspect:function(){return p(this)},detach:function(){}}),O(M,D),H.extend(M,{rangeProperties:ct,RangeIterator:g,copyComparisonConstants:P,createPrototypeRange:O,inspect:p,toHtml:k,getRangeDocument:n,rangesEqual:function(t,e){return t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}}),t.DomRange=M}),D.createCoreModule("WrappedRange",["DomRange"],function(t,e){var i,n,r=t.dom,o=t.util,s=r.DomPosition,a=t.DomRange,l=r.getBody,c=r.getContentDocument,h=r.isCharacterDataNode;if(t.features.implementsDomRange&&!function(){function n(t){for(var e,i=d.length;i--;)e=d[i],t[e]=t.nativeRange[e];t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset}function s(t,e,i,n,r){var o=t.startContainer!==e||t.startOffset!=i,s=t.endContainer!==n||t.endOffset!=r,a=!t.equals(t.nativeRange);(o||s||a)&&(t.setEnd(n,r),t.setStart(e,i))}var h,u,d=a.rangeProperties;i=function(t){if(!t)throw e.createError("WrappedRange: Range must be specified");this.nativeRange=t,n(this)},a.createPrototypeRange(i,s),h=i.prototype,h.selectNode=function(t){this.nativeRange.selectNode(t),n(this)},h.cloneContents=function(){return this.nativeRange.cloneContents()},h.surroundContents=function(t){this.nativeRange.surroundContents(t),n(this)},h.collapse=function(t){this.nativeRange.collapse(t),n(this)},h.cloneRange=function(){return new i(this.nativeRange.cloneRange())},h.refresh=function(){n(this)},h.toString=function(){return this.nativeRange.toString()};var f=document.createTextNode("test");l(document).appendChild(f);var p=document.createRange();p.setStart(f,0),p.setEnd(f,0);try{p.setStart(f,1),h.setStart=function(t,e){this.nativeRange.setStart(t,e),n(this)},h.setEnd=function(t,e){this.nativeRange.setEnd(t,e),n(this)},u=function(t){return function(e){this.nativeRange[t](e),n(this)}}}catch(g){h.setStart=function(t,e){try{this.nativeRange.setStart(t,e)}catch(i){this.nativeRange.setEnd(t,e),this.nativeRange.setStart(t,e)}n(this)},h.setEnd=function(t,e){try{this.nativeRange.setEnd(t,e)}catch(i){this.nativeRange.setStart(t,e),this.nativeRange.setEnd(t,e)}n(this)},u=function(t,e){return function(i){try{this.nativeRange[t](i)}catch(r){this.nativeRange[e](i),
this.nativeRange[t](i)}n(this)}}}h.setStartBefore=u("setStartBefore","setEndBefore"),h.setStartAfter=u("setStartAfter","setEndAfter"),h.setEndBefore=u("setEndBefore","setStartBefore"),h.setEndAfter=u("setEndAfter","setStartAfter"),h.selectNodeContents=function(t){this.setStartAndEnd(t,0,r.getNodeLength(t))},p.selectNodeContents(f),p.setEnd(f,3);var m=document.createRange();m.selectNodeContents(f),m.setEnd(f,4),m.setStart(f,2),-1==p.compareBoundaryPoints(p.START_TO_END,m)&&1==p.compareBoundaryPoints(p.END_TO_START,m)?h.compareBoundaryPoints=function(t,e){return e=e.nativeRange||e,t==e.START_TO_END?t=e.END_TO_START:t==e.END_TO_START&&(t=e.START_TO_END),this.nativeRange.compareBoundaryPoints(t,e)}:h.compareBoundaryPoints=function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)};var v=document.createElement("div");v.innerHTML="123";var y=v.firstChild,w=l(document);w.appendChild(v),p.setStart(y,1),p.setEnd(y,2),p.deleteContents(),"13"==y.data&&(h.deleteContents=function(){this.nativeRange.deleteContents(),n(this)},h.extractContents=function(){var t=this.nativeRange.extractContents();return n(this),t}),w.removeChild(v),w=null,o.isHostMethod(p,"createContextualFragment")&&(h.createContextualFragment=function(t){return this.nativeRange.createContextualFragment(t)}),l(document).removeChild(f),h.getName=function(){return"WrappedRange"},t.WrappedRange=i,t.createNativeRange=function(t){return t=c(t,e,"createNativeRange"),t.createRange()}}(),t.features.implementsTextRange){var u=function(t){var e=t.parentElement(),i=t.duplicate();i.collapse(!0);var n=i.parentElement();i=t.duplicate(),i.collapse(!1);var o=i.parentElement(),s=n==o?n:r.getCommonAncestor(n,o);return s==e?s:r.getCommonAncestor(e,s)},d=function(t){return 0==t.compareEndPoints("StartToEnd",t)},f=function(t,e,i,n,o){var a=t.duplicate();a.collapse(i);var l=a.parentElement();if(r.isOrIsAncestorOf(e,l)||(l=e),!l.canHaveHTML){var c=new s(l.parentNode,r.getNodeIndex(l));return{boundaryPosition:c,nodeInfo:{nodeIndex:c.offset,containerElement:c.node}}}var u=r.getDocument(l).createElement("span");u.parentNode&&r.removeNode(u);for(var d,f,p,g,m,v=i?"StartToStart":"StartToEnd",y=o&&o.containerElement==l?o.nodeIndex:0,w=l.childNodes.length,_=w,b=_;;){if(b==w?l.appendChild(u):l.insertBefore(u,l.childNodes[b]),a.moveToElementText(u),d=a.compareEndPoints(v,t),0==d||y==_)break;if(-1==d){if(_==y+1)break;y=b}else _=_==y+1?y:b;b=Math.floor((y+_)/2),l.removeChild(u)}if(m=u.nextSibling,-1==d&&m&&h(m)){a.setEndPoint(i?"EndToStart":"EndToEnd",t);var x;if(/[\r\n]/.test(m.data)){var C=a.duplicate(),T=C.text.replace(/\r\n/g,"\r").length;for(x=C.moveStart("character",T);-1==(d=C.compareEndPoints("StartToEnd",C));)x++,C.moveStart("character",1)}else x=a.text.length;g=new s(m,x)}else f=(n||!i)&&u.previousSibling,p=(n||i)&&u.nextSibling,g=p&&h(p)?new s(p,0):f&&h(f)?new s(f,f.data.length):new s(l,r.getNodeIndex(u));return r.removeNode(u),{boundaryPosition:g,nodeInfo:{nodeIndex:b,containerElement:l}}},p=function(t,e){var i,n,o,s,a=t.offset,c=r.getDocument(t.node),u=l(c).createTextRange(),d=h(t.node);return d?(i=t.node,n=i.parentNode):(s=t.node.childNodes,i=a<s.length?s[a]:null,n=t.node),o=c.createElement("span"),o.innerHTML="&#feff;",i?n.insertBefore(o,i):n.appendChild(o),u.moveToElementText(o),u.collapse(!e),n.removeChild(o),d&&u[e?"moveStart":"moveEnd"]("character",a),u};n=function(t){this.textRange=t,this.refresh()},n.prototype=new a(document),n.prototype.refresh=function(){var t,e,i,n=u(this.textRange);d(this.textRange)?e=t=f(this.textRange,n,!0,!0).boundaryPosition:(i=f(this.textRange,n,!0,!1),t=i.boundaryPosition,e=f(this.textRange,n,!1,!1,i.nodeInfo).boundaryPosition),this.setStart(t.node,t.offset),this.setEnd(e.node,e.offset)},n.prototype.getName=function(){return"WrappedTextRange"},a.copyComparisonConstants(n);var g=function(t){if(t.collapsed)return p(new s(t.startContainer,t.startOffset),!0);var e=p(new s(t.startContainer,t.startOffset),!0),i=p(new s(t.endContainer,t.endOffset),!1),n=l(a.getRangeDocument(t)).createTextRange();return n.setEndPoint("StartToStart",e),n.setEndPoint("EndToEnd",i),n};if(n.rangeToTextRange=g,n.prototype.toTextRange=function(){return g(this)},t.WrappedTextRange=n,!t.features.implementsDomRange||t.config.preferTextRange){var m=function(t){return t("return this;")()}(Function);"undefined"==typeof m.Range&&(m.Range=n),t.createNativeRange=function(t){return t=c(t,e,"createNativeRange"),l(t).createTextRange()},t.WrappedRange=n}}t.createRange=function(i){return i=c(i,e,"createRange"),new t.WrappedRange(t.createNativeRange(i))},t.createRangyRange=function(t){return t=c(t,e,"createRangyRange"),new a(t)},o.createAliasForDeprecatedMethod(t,"createIframeRange","createRange"),o.createAliasForDeprecatedMethod(t,"createIframeRangyRange","createRangyRange"),t.addShimListener(function(e){var i=e.document;"undefined"==typeof i.createRange&&(i.createRange=function(){return t.createRange(i)}),i=e=null})}),D.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(t,e){function i(t){return"string"==typeof t?/^backward(s)?$/i.test(t):!!t}function n(t,i){if(t){if(R.isWindow(t))return t;if(t instanceof v)return t.win;var n=R.getContentDocument(t,e,i);return R.getWindow(n)}return window}function r(t){return n(t,"getWinSelection").getSelection()}function o(t){return n(t,"getDocSelection").document.selection}function s(t){var e=!1;return t.anchorNode&&(e=1==R.comparePoints(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)),e}function a(t,e,i){var n=i?"end":"start",r=i?"start":"end";t.anchorNode=e[n+"Container"],t.anchorOffset=e[n+"Offset"],t.focusNode=e[r+"Container"],t.focusOffset=e[r+"Offset"]}function l(t){var e=t.nativeSelection;t.anchorNode=e.anchorNode,t.anchorOffset=e.anchorOffset,t.focusNode=e.focusNode,t.focusOffset=e.focusOffset}function c(t){t.anchorNode=t.focusNode=null,t.anchorOffset=t.focusOffset=0,t.rangeCount=0,t.isCollapsed=!0,t._ranges.length=0}function h(e){var i;return e instanceof O?(i=t.createNativeRange(e.getDocument()),i.setEnd(e.endContainer,e.endOffset),i.setStart(e.startContainer,e.startOffset)):e instanceof N?i=e.nativeRange:I.implementsDomRange&&e instanceof R.getWindow(e.startContainer).Range&&(i=e),i}function u(t){if(!t.length||1!=t[0].nodeType)return!1;for(var e=1,i=t.length;i>e;++e)if(!R.isAncestorOf(t[0],t[e]))return!1;return!0}function d(t){var i=t.getNodes();if(!u(i))throw e.createError("getSingleElementFromRange: range "+t.inspect()+" did not consist of a single element");return i[0]}function f(t){return!!t&&"undefined"!=typeof t.text}function p(t,e){var i=new N(e);t._ranges=[i],a(t,i,!1),t.rangeCount=1,t.isCollapsed=i.collapsed}function g(e){if(e._ranges.length=0,"None"==e.docSelection.type)c(e);else{var i=e.docSelection.createRange();if(f(i))p(e,i);else{e.rangeCount=i.length;for(var n,r=L(i.item(0)),o=0;o<e.rangeCount;++o)n=t.createRange(r),n.selectNode(i.item(o)),e._ranges.push(n);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,a(e,e._ranges[e.rangeCount-1],!1)}}}function m(t,i){for(var n=t.docSelection.createRange(),r=d(i),o=L(n.item(0)),s=F(o).createControlRange(),a=0,l=n.length;l>a;++a)s.add(n.item(a));try{s.add(r)}catch(c){throw e.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}s.select(),g(t)}function v(t,e,i){this.nativeSelection=t,this.docSelection=e,this._ranges=[],this.win=i,this.refresh()}function y(t){t.win=t.anchorNode=t.focusNode=t._ranges=null,t.rangeCount=t.anchorOffset=t.focusOffset=0,t.detached=!0}function w(t,e){for(var i,n,r=et.length;r--;)if(i=et[r],n=i.selection,"deleteAll"==e)y(n);else if(i.win==t)return"delete"==e?(et.splice(r,1),!0):n;return"deleteAll"==e&&(et.length=0),null}function _(t,i){for(var n,r=L(i[0].startContainer),o=F(r).createControlRange(),s=0,a=i.length;a>s;++s){n=d(i[s]);try{o.add(n)}catch(l){throw e.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}o.select(),g(t)}function b(t,e){if(t.win.document!=L(e))throw new D("WRONG_DOCUMENT_ERR")}function x(e){return function(i,n){var r;this.rangeCount?(r=this.getRangeAt(0),r["set"+(e?"Start":"End")](i,n)):(r=t.createRange(this.win.document),r.setStartAndEnd(i,n)),this.setSingleRange(r,this.isBackward())}}function C(t){var e=[],i=new M(t.anchorNode,t.anchorOffset),n=new M(t.focusNode,t.focusOffset),r="function"==typeof t.getName?t.getName():"Selection";if("undefined"!=typeof t.rangeCount)for(var o=0,s=t.rangeCount;s>o;++o)e[o]=O.inspect(t.getRangeAt(o));return"["+r+"(Ranges: "+e.join(", ")+")(anchor: "+i.inspect()+", focus: "+n.inspect()+"]"}t.config.checkSelectionRanges=!0;var T,S,E="boolean",k="number",R=t.dom,P=t.util,A=P.isHostMethod,O=t.DomRange,N=t.WrappedRange,D=t.DOMException,M=R.DomPosition,I=t.features,H="Control",L=R.getDocument,F=R.getBody,z=O.rangesEqual,B=A(window,"getSelection"),V=P.isHostObject(document,"selection");I.implementsWinGetSelection=B,I.implementsDocSelection=V;var W=V&&(!B||t.config.preferTextRange);if(W)T=o,t.isSelectionValid=function(t){var e=n(t,"isSelectionValid").document,i=e.selection;return"None"!=i.type||L(i.createRange().parentElement())==e};else{if(!B)return e.fail("Neither document.selection or window.getSelection() detected."),!1;T=r,t.isSelectionValid=function(){return!0}}t.getNativeSelection=T;var j=T();if(!j)return e.fail("Native selection was null (possibly issue 138?)"),!1;var X=t.createNativeRange(document),U=F(document),Y=P.areHostProperties(j,["anchorNode","focusNode","anchorOffset","focusOffset"]);I.selectionHasAnchorAndFocus=Y;var q=A(j,"extend");I.selectionHasExtend=q;var G=typeof j.rangeCount==k;I.selectionHasRangeCount=G;var $=!1,Q=!0,K=q?function(e,i){var n=O.getRangeDocument(i),r=t.createRange(n);r.collapseToPoint(i.endContainer,i.endOffset),e.addRange(h(r)),e.extend(i.startContainer,i.startOffset)}:null;P.areHostMethods(j,["addRange","getRangeAt","removeAllRanges"])&&typeof j.rangeCount==k&&I.implementsDomRange&&!function(){var e=window.getSelection();if(e){for(var i=e.rangeCount,n=i>1,r=[],o=s(e),a=0;i>a;++a)r[a]=e.getRangeAt(a);var l=R.createTestElement(document,"",!1),c=l.appendChild(document.createTextNode("")),h=document.createRange();if(h.setStart(c,1),h.collapse(!0),e.removeAllRanges(),e.addRange(h),Q=1==e.rangeCount,e.removeAllRanges(),!n){var u=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(u&&parseInt(u[1])>=36)$=!1;else{var d=h.cloneRange();h.setStart(c,0),d.setEnd(c,3),d.setStart(c,2),e.addRange(h),e.addRange(d),$=2==e.rangeCount}}for(R.removeNode(l),e.removeAllRanges(),a=0;i>a;++a)0==a&&o?K?K(e,r[a]):(t.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),e.addRange(r[a])):e.addRange(r[a])}}(),I.selectionSupportsMultipleRanges=$,I.collapsedNonEditableSelectionsSupported=Q;var Z,J=!1;U&&A(U,"createControlRange")&&(Z=U.createControlRange(),P.areHostProperties(Z,["item","add"])&&(J=!0)),I.implementsControlRange=J,S=Y?function(t){return t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset}:function(t){return t.rangeCount?t.getRangeAt(t.rangeCount-1).collapsed:!1};var tt;A(j,"getRangeAt")?tt=function(t,e){try{return t.getRangeAt(e)}catch(i){return null}}:Y&&(tt=function(e){var i=L(e.anchorNode),n=t.createRange(i);return n.setStartAndEnd(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),n.collapsed!==this.isCollapsed&&n.setStartAndEnd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset),n}),v.prototype=t.selectionPrototype;var et=[],it=function(t){if(t&&t instanceof v)return t.refresh(),t;t=n(t,"getNativeSelection");var e=w(t),i=T(t),r=V?o(t):null;return e?(e.nativeSelection=i,e.docSelection=r,e.refresh()):(e=new v(i,r,t),et.push({win:t,selection:e})),e};t.getSelection=it,P.createAliasForDeprecatedMethod(t,"getIframeSelection","getSelection");var nt=v.prototype;if(!W&&Y&&P.areHostMethods(j,["removeAllRanges","addRange"])){nt.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),c(this)};var rt=function(t,e){K(t.nativeSelection,e),t.refresh()};G?nt.addRange=function(e,n){if(J&&V&&this.docSelection.type==H)m(this,e);else if(i(n)&&q)rt(this,e);else{var r;$?r=this.rangeCount:(this.removeAllRanges(),r=0);var o=h(e).cloneRange();try{this.nativeSelection.addRange(o)}catch(s){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==r+1){if(t.config.checkSelectionRanges){var l=tt(this.nativeSelection,this.rangeCount-1);l&&!z(l,e)&&(e=new N(l))}this._ranges[this.rangeCount-1]=e,a(this,e,at(this.nativeSelection)),this.isCollapsed=S(this)}else this.refresh()}}:nt.addRange=function(t,e){i(e)&&q?rt(this,t):(this.nativeSelection.addRange(h(t)),this.refresh())},nt.setRanges=function(t){if(J&&V&&t.length>1)_(this,t);else{this.removeAllRanges();for(var e=0,i=t.length;i>e;++e)this.addRange(t[e])}}}else{if(!(A(j,"empty")&&A(X,"select")&&J&&W))return e.fail("No means of selecting a Range or TextRange was found"),!1;nt.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var t;if(this.anchorNode)t=L(this.anchorNode);else if(this.docSelection.type==H){var e=this.docSelection.createRange();e.length&&(t=L(e.item(0)))}if(t){var i=F(t).createTextRange();i.select(),this.docSelection.empty()}}}catch(n){}c(this)},nt.addRange=function(e){this.docSelection.type==H?m(this,e):(t.WrappedTextRange.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,a(this,e,!1))},nt.setRanges=function(t){this.removeAllRanges();var e=t.length;e>1?_(this,t):e&&this.addRange(t[0])}}nt.getRangeAt=function(t){if(0>t||t>=this.rangeCount)throw new D("INDEX_SIZE_ERR");return this._ranges[t].cloneRange()};var ot;if(W)ot=function(e){var i;t.isSelectionValid(e.win)?i=e.docSelection.createRange():(i=F(e.win.document).createTextRange(),i.collapse(!0)),e.docSelection.type==H?g(e):f(i)?p(e,i):c(e)};else if(A(j,"getRangeAt")&&typeof j.rangeCount==k)ot=function(e){if(J&&V&&e.docSelection.type==H)g(e);else if(e._ranges.length=e.rangeCount=e.nativeSelection.rangeCount,e.rangeCount){for(var i=0,n=e.rangeCount;n>i;++i)e._ranges[i]=new t.WrappedRange(e.nativeSelection.getRangeAt(i));a(e,e._ranges[e.rangeCount-1],at(e.nativeSelection)),e.isCollapsed=S(e)}else c(e)};else{if(!Y||typeof j.isCollapsed!=E||typeof X.collapsed!=E||!I.implementsDomRange)return e.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;ot=function(t){var e,i=t.nativeSelection;i.anchorNode?(e=tt(i,0),t._ranges=[e],t.rangeCount=1,l(t),t.isCollapsed=S(t)):c(t)}}nt.refresh=function(t){var e=t?this._ranges.slice(0):null,i=this.anchorNode,n=this.anchorOffset;if(ot(this),t){var r=e.length;if(r!=this._ranges.length)return!0;if(this.anchorNode!=i||this.anchorOffset!=n)return!0;for(;r--;)if(!z(e[r],this._ranges[r]))return!0;return!1}};var st=function(t,e){var i=t.getAllRanges();t.removeAllRanges();for(var n=0,r=i.length;r>n;++n)z(e,i[n])||t.addRange(i[n]);t.rangeCount||c(t)};J&&V?nt.removeRange=function(t){if(this.docSelection.type==H){for(var e,i=this.docSelection.createRange(),n=d(t),r=L(i.item(0)),o=F(r).createControlRange(),s=!1,a=0,l=i.length;l>a;++a)e=i.item(a),e!==n||s?o.add(i.item(a)):s=!0;o.select(),g(this)}else st(this,t)}:nt.removeRange=function(t){st(this,t)};var at;!W&&Y&&I.implementsDomRange?(at=s,nt.isBackward=function(){return at(this)}):at=nt.isBackward=function(){return!1},nt.isBackwards=nt.isBackward,nt.toString=function(){for(var t=[],e=0,i=this.rangeCount;i>e;++e)t[e]=""+this._ranges[e];return t.join("")},nt.collapse=function(e,i){b(this,e);var n=t.createRange(e);n.collapseToPoint(e,i),this.setSingleRange(n),this.isCollapsed=!0},nt.collapseToStart=function(){if(!this.rangeCount)throw new D("INVALID_STATE_ERR");var t=this._ranges[0];this.collapse(t.startContainer,t.startOffset)},nt.collapseToEnd=function(){if(!this.rangeCount)throw new D("INVALID_STATE_ERR");var t=this._ranges[this.rangeCount-1];this.collapse(t.endContainer,t.endOffset)},nt.selectAllChildren=function(e){b(this,e);var i=t.createRange(e);i.selectNodeContents(e),this.setSingleRange(i)},nt.deleteFromDocument=function(){if(J&&V&&this.docSelection.type==H){for(var t,e=this.docSelection.createRange();e.length;)t=e.item(0),e.remove(t),R.removeNode(t);this.refresh()}else if(this.rangeCount){var i=this.getAllRanges();if(i.length){this.removeAllRanges();for(var n=0,r=i.length;r>n;++n)i[n].deleteContents();this.addRange(i[r-1])}}},nt.eachRange=function(t,e){for(var i=0,n=this._ranges.length;n>i;++i)if(t(this.getRangeAt(i)))return e},nt.getAllRanges=function(){var t=[];return this.eachRange(function(e){t.push(e)}),t},nt.setSingleRange=function(t,e){this.removeAllRanges(),this.addRange(t,e)},nt.callMethodOnEachRange=function(t,e){var i=[];return this.eachRange(function(n){i.push(n[t].apply(n,e||[]))}),i},nt.setStart=x(!0),nt.setEnd=x(!1),t.rangePrototype.select=function(t){it(this.getDocument()).setSingleRange(this,t)},nt.changeEachRange=function(t){var e=[],i=this.isBackward();this.eachRange(function(i){t(i),e.push(i)}),this.removeAllRanges(),i&&1==e.length?this.addRange(e[0],"backward"):this.setRanges(e)},nt.containsNode=function(t,e){return this.eachRange(function(i){return i.containsNode(t,e)},!0)||!1},nt.getBookmark=function(t){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[t])}},nt.moveToBookmark=function(e){for(var i,n,r=[],o=0;i=e.rangeBookmarks[o++];)n=t.createRange(this.win),n.moveToBookmark(i),r.push(n);e.backward?this.setSingleRange(r[0],"backward"):this.setRanges(r)},nt.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},nt.restoreRanges=function(t){this.removeAllRanges();for(var e,i=0;e=t.ranges[i];++i)this.addRange(e,t.backward&&0==i)},nt.toHtml=function(){var t=[];return this.eachRange(function(e){t.push(O.toHtml(e))}),t.join("")},I.implementsTextRange&&(nt.getNativeTextRange=function(){var i;if(i=this.docSelection){var n=i.createRange();if(f(n))return n;throw e.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return t.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw e.createError("getNativeTextRange: selection contains no range")}),nt.getName=function(){return"WrappedSelection"},nt.inspect=function(){return C(this)},nt.detach=function(){w(this.win,"delete"),y(this)},v.detachAll=function(){w(null,"deleteAll")},v.inspect=C,v.isDirectionBackward=i,t.Selection=v,t.selectionPrototype=nt,t.addShimListener(function(t){"undefined"==typeof t.getSelection&&(t.getSelection=function(){return it(t)}),t=null})});var F=!1,z=function(t){F||(F=!0,!D.initialized&&D.config.autoInitialize&&u())};return O&&("complete"==document.readyState?z():(t(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",z,!1),I(window,"load",z))),D},this)},{}],undo:[function(t,e,i){(function(){function t(t,e){var i,n;for(i in e)n=e[i],void 0!==n&&(t[i]=n);return t}var e,n=function(){},r=function(e,i){var r;return r=i&&i.hasOwnProperty("constructor")?i.constructor:function(){return e.apply(this,arguments)},n.prototype=e.prototype,r.prototype=new n,i&&t(r.prototype,i),r.prototype.constructor=r,r.__super__=e.prototype,r};e="undefined"!=typeof i?i:this.Undo={},e.Stack=function(){this.commands=[],this.stackPosition=-1,this.savePosition=-1,this.ignoreCommand=!1},t(e.Stack.prototype,{execute:function(t){this._clearRedo(),t.execute(),this.commands.push(t),this.stackPosition++,this.changed()},undo:function(){this.ignoreCommand=!0,this.commands[this.stackPosition].undo(),this.stackPosition--,this.changed(),this.ignoreCommand=!1,console.log(this.commands.length)},canUndo:function(){return this.stackPosition>=0},redo:function(){this.ignoreCommand=!0,this.stackPosition++,this.commands[this.stackPosition].redo(),this.changed(),this.ignoreCommand=!1,console.log(this.commands.length)},canRedo:function(){return this.stackPosition<this.commands.length-1},save:function(){this.savePosition=this.stackPosition,this.changed()},dirty:function(){return this.stackPosition!=this.savePosition},_clearRedo:function(){this.commands=this.commands.slice(0,this.stackPosition+1)},changed:function(){}}),e.Command=function(t){this.name=t};var o=new Error("override me!");t(e.Command.prototype,{execute:function(){this.timestamp=(new Date).getTime()},undo:function(){throw o},redo:function(){this.execute()},type:"default",timestamp:0}),e.Command.extend=function(t){var i=r(this,t);return i.extend=e.Command.extend,i}}).call(this)},{}]},{},["backbone","chartist-plugin-tooltip","chartist","Draggable","DrawSVGPlugin","Dropzone","EasePack","handsontable","jpicker","jquery.classygradient","jquery.colorpicker","kdTree","medium","minicolors","rangy-classapplier","rangy-selectionsavestore","rangy","TimelineLite","TweenLite","TweenMax","undo"]);